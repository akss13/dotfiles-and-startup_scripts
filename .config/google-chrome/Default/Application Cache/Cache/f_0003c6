Ila.prototype.Xfa=W(7,function(){throw Gca("setValue not supported").C;});Rca.prototype.H=W(2,function(){throw Gca("remove").C;});tda.prototype.H=W(1,function(){this.J.splice(this.F,1);this.F--});Hla.prototype.H=W(0,function(){Yca(0<=this.F);Ola(this.J,this.L[this.F]);Pla(this.J);--this.F});function sMh(a,b){a.jU=b.jU;return a}function tMh(a,b,c){for(a=a.nj();a.C();){var d=a.D();if(zb(b,d))return c&&a.H(),!0}return!1}function uMh(a,b,c){return a.mZ(b)?a.Xxa(b,c):null}
function vMh(a,b){var c=b.Vq();b=b.Wq();var d=a.get(c);return!zb(b,d)||null==d&&!a.mZ(c)?!1:!0}function wMh(a){return a?a.Wq():null}function xMh(a){if(a.F.C())return!0;if(!Ta(a.F,a.R))return!1;a.F=a.L.C.nj();return a.F.C()}function yMh(a,b){return(a=a.C.get(b))?a:[]}function zMh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(zb(a,d.Vq()))return d}return null}function AMh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}
function BMh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function CMh(a,b){for(b=b.nj();b.C();){var c=b.D().Wq();if(zb(a,c))return!0}return!1}function DMh(){this.J=this.F=0}t(DMh,Sa);DMh.prototype.C=function(){return this.F<this.L.size()};DMh.prototype.D=function(){this.C();return this.L.Bqa(this.J=this.F++)};DMh.prototype.H=function(){this.L.Oia(this.J);this.F=this.J;this.J=-1};function EMh(){DMh.call(this)}t(EMh,DMh);function FMh(){this.J=!1}t(FMh,Sa);
FMh.prototype.C=g("J");FMh.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=xMh(this);return a};FMh.prototype.H=function(){this.O.H();this.O=null;this.J=xMh(this)};function GMh(){}t(GMh,Sa);GMh.prototype.C=function(){return this.F.C()};GMh.prototype.D=function(){return this.F.D().Wq()};GMh.prototype.H=function(){this.F.H()};function HMh(){}t(HMh,Sa);HMh.prototype.C=function(){return this.F.C()};HMh.prototype.D=function(){return this.F.D().Vq()};HMh.prototype.H=function(){this.F.H()};
function IMh(){this.F=this.J=0}t(IMh,Sa);IMh.prototype.C=function(){return this.J<this.L.C.length};IMh.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};IMh.prototype.H=function(){this.L.Oia(this.J=this.F);this.F=-1};function JMh(a){var b;null==a?b=0:b=Cb(a)|0;return b}function KMh(a,b){for(var c=JMh(b),d=yMh(a,c),e=0;e<d.length;e++){var f=d[e];if(zb(b,f.Vq()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Wq()}return null}
function LMh(){this.F=0}t(LMh,Sa);LMh.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};LMh.prototype.D=function(){return this.L=this.J[this.F++]};LMh.prototype.H=function(){KMh(this.O,this.L.Vq());0!=this.F&&this.F--};function MMh(){this.D=0}t(MMh,Sa);MMh.prototype.nj=function(){var a=new LMh;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function NMh(a){var b=0;for(a=a.nj();a.C();){var c=a.D();b+=Wba(c);b|=0}return b}function OMh(){}t(OMh,Sa);OMh.prototype.equals=function(a){return null!=a&&a.R_?zb(this.Vq(),a.Vq())&&zb(this.Wq(),a.Wq()):!1};OMh.prototype.nk=function(){return Wba(this.Vq())^Wba(this.Wq())};OMh.prototype.toString=function(){return Ua(this.Vq())+"="+Ua(this.Wq())};OMh.prototype.R_=!0;function PMh(){this.F=0}t(PMh,OMh);PMh.prototype.Vq=function(){return this.C.value[0]};
PMh.prototype.Wq=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};PMh.prototype.Xfa=function(a){return BMh(this.D,this.C.value[0],a)};function QMh(){}t(QMh,Sa);QMh.prototype.C=function(){return!this.J.done};QMh.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new PMh,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};QMh.prototype.H=function(){AMh(this.F,this.O.value[0])};function RMh(){this.D=this.F=0}t(RMh,Sa);
RMh.prototype.nj=function(){var a=new QMh;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function SMh(a){var b=new MMh;b.C=new Map;b.F=a;a.C=b;b=new RMh;b.C=new Map;b.H=a;a.D=b}function TMh(a,b){return Ta(b,a)?"(this Map)":Ua(b)}function UMh(){}t(UMh,Sa);UMh.prototype.toString=function(){return this.C?Wb(this.D)?this.C.toString():Ua(this.C.toString())+Ua(this.D):this.J};function VMh(a,b){var c=new UMh;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ua(c.F)+Ua(c.D);return c}
function WMh(a,b){a.C?Gb(a.C,a.H):a.C=cca(a.F);a=a.C;a.hp=Ua(a.hp)+Ua(b)}function XMh(){}t(XMh,Sa);m=XMh.prototype;m.Vq=g("D");m.Wq=g("C");m.Xfa=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.R_?zb(this.D,a.Vq())&&zb(this.C,a.Wq()):!1};m.nk=function(){return Wba(this.D)^Wba(this.C)};m.toString=function(){return Ua(this.D)+"="+Ua(this.C)};m.R_=!0;function YMh(){}t(YMh,XMh);function ZMh(a,b){var c=new YMh;c.D=a;c.C=b;return c}
function $Mh(a,b,c){var d=JMh(b),e=yMh(a,d);if(0==e.length)a.C.set(d,e);else if(d=zMh(b,e))return d.Xfa(c);e[e.length]=ZMh(b,c);a.D++;return null}function aNh(a,b,c){for(a=a.cI().nj();a.C();){var d=a.D();if(zb(b,d.Vq()))return c&&(d=ZMh(d.Vq(),d.Wq()),a.H()),d}return null}function bNh(){}t(bNh,Sa);m=bNh.prototype;m.add=function(){throw Gca("Add not supported on this collection").C;};m.clear=function(){for(var a=this.nj();a.C();)a.D(),a.H()};m.contains=function(a){return tMh(this,a,!1)};
m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return tMh(this,a,!0)};m.Kc=function(a){for(var b=!1,c=this.nj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Rf=function(){return this.NTa(Array(this.size()))};m.NTa=function(a){var b=this.size();a.length<b&&(a=sMh(Array(b),a));for(var c=a,d=this.nj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};
m.toString=function(){for(var a=VMh("[","]"),b=this.nj();b.C();){var c=b.D();WMh(a,Ta(c,this)?"(this Collection)":Ua(c))}return a.toString()};function cNh(){}t(cNh,bNh);cNh.prototype.clear=function(){this.C.clear()};cNh.prototype.contains=function(a){return this.C.Su(a)};cNh.prototype.nj=function(){var a=this.C.cI().nj(),b=new GMh;b.F=a;return b};cNh.prototype.size=function(){return this.C.size()};function dNh(){}t(dNh,bNh);
dNh.prototype.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.wDa)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.nj();a.C();){var b=a.D();if(!this.contains(b)){a=!1;break a}}a=!0}return a};dNh.prototype.nk=function(){return NMh(this)};dNh.prototype.Kc=function(a){var b=this.size();if(b<a.size())for(var c=this.nj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.nj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};dNh.prototype.wDa=!0;function eNh(){}t(eNh,dNh);m=eNh.prototype;
m.clear=function(){this.C.clear()};m.contains=function(a){return null!=a&&a.R_?vMh(this.C,a):!1};m.nj=function(){var a=new FMh;a.L=this.C;a.R=a.L.D.nj();a.F=a.R;a.J=xMh(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Vq()),!0):!1};m.size=function(){return this.C.size()};function fNh(){}t(fNh,dNh);m=fNh.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.mZ(a)};m.nj=function(){var a=this.C.cI().nj(),b=new HMh;b.F=a;return b};
m.remove=function(a){return this.C.mZ(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function gNh(){}t(gNh,Sa);m=gNh.prototype;m.clear=function(){this.cI().clear()};m.mZ=function(a){return!!aNh(this,a,!1)};m.Su=function(a){for(var b=this.cI().nj();b.C();){var c=b.D().Wq();if(zb(a,c))return!0}return!1};m.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.v4a||this.size()!=a.size())return!1;for(a=a.cI().nj();a.C();){var b=a.D();if(!vMh(this,b))return!1}return!0};
m.get=function(a){return wMh(aNh(this,a,!1))};m.nk=function(){return NMh(this.cI())};m.isEmpty=function(){return 0==this.size()};m.pPb=function(){var a=new fNh;a.C=this;return a};m.Xxa=function(){throw Gca("Put not supported on this map").C;};m.remove=function(a){return wMh(aNh(this,a,!0))};m.size=function(){return this.cI().size()};m.toString=function(){for(var a=VMh("{","}"),b=this.cI().nj();b.C();){var c=b.D();c=Ua(TMh(this,c.Vq()))+"="+Ua(TMh(this,c.Wq()));WMh(a,c)}return a.toString()};
m.values=function(){var a=new cNh;a.C=this;return a};m.replace=function(a,b){return uMh(this,a,b)};m.v4a=!0;function hNh(){}t(hNh,gNh);m=hNh.prototype;m.clear=function(){SMh(this)};m.mZ=function(a){var b;Yb(a)?b=null==a?!!zMh(null,yMh(this.C,JMh(null))):void 0!==this.D.C.get(a):b=!!zMh(a,yMh(this.C,JMh(a)));return b};m.Su=function(a){return CMh(a,this.D)||CMh(a,this.C)};m.cI=function(){var a=new eNh;a.C=this;return a};
m.get=function(a){var b;Yb(a)?b=null==a?wMh(zMh(null,yMh(this.C,JMh(null)))):this.D.C.get(a):b=wMh(zMh(a,yMh(this.C,JMh(a))));return b};m.Xxa=function(a,b){var c;Yb(a)?c=null==a?$Mh(this.C,null,b):BMh(this.D,a,b):c=$Mh(this.C,a,b);return c};m.remove=function(a){var b;Yb(a)?b=null==a?KMh(this.C,null):AMh(this.D,a):b=KMh(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return uMh(this,a,b)};function iNh(){}t(iNh,hNh);
iNh.prototype.replace=function(a,b){return uMh(this,a,b)};function jNh(){}t(jNh,bNh);m=jNh.prototype;m.add=function(a){this.$Ea(this.size(),a);return!0};m.$Ea=function(){throw Gca("Add not supported on this list").C;};m.clear=function(){this.MTa(0,this.size())};m.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.vDa||this.size()!=a.size())return!1;a=a.nj();for(var b=this.nj();b.C();){var c=b.D(),d=a.D();if(!zb(c,d))return!1}return!0};
m.nk=function(){for(var a=1,b=this.nj();b.C();){var c=b.D();a=31*a+Wba(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(zb(a,this.Bqa(b)))return b;return-1};m.nj=function(){var a=new DMh;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(zb(a,this.Bqa(b)))return b;return-1};m.Oia=function(){throw Gca("Remove not supported on this list").C;};
m.MTa=function(a,b){var c=new EMh;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.vDa=!0;function kNh(){}t(kNh,jNh);m=kNh.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.$Ea=function(a,b){this.C.splice(a,0,b)};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.Bqa=function(a){return this.C[a]};m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};
m.nj=function(){var a=new IMh;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};m.Oia=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Oia(a);return!0};m.size=function(){return this.C.length};m.Rf=function(){var a=this.C;return sMh(a.slice(0,this.C.length),a)};
m.NTa=function(a){var b=this.C.length;a.length<b&&(a=sMh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.MTa=function(a,b){this.C.splice(a,b-a)};m.vDa=!0;function lNh(a){var b=new ita;return Oj(b,6,a)}function mNh(){var a=px.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function nNh(a){a.C0a=!1;a.B0a=!1}function oNh(a,b){return!(!a.D[b]&&!a.J[b])}var pNh={};function L6(a){J(this,a,0,1,null,null)}v(L6,I);
L6.prototype.ea=function(){var a=new E;qNh(this,a);return Y(a)};function qNh(a,b){Aj(a,b,pNh,L6.prototype.getExtension)}function rNh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&qj(b,2,c);c=K(a,3);null!=c&&qj(b,3,c)}function sNh(a){J(this,a,0,-1,null,null)}v(sNh,I);m=sNh.prototype;m.ea=function(){var a=new E;rNh(this,a);return Y(a)};m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};
m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};function tNh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)}function uNh(a){J(this,a,0,-1,null,null)}v(uNh,I);uNh.prototype.ea=function(){var a=new E;tNh(this,a);return Y(a)};
function vNh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,sNh,3);null!=c&&b.C(3,c,rNh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,uNh,7);null!=c&&b.C(7,c,tNh);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}function wNh(a){J(this,a,0,-1,null,null)}v(wNh,I);m=wNh.prototype;m.ea=function(){var a=new E;vNh(this,a);return Y(a)};
m.getName=function(){return K(this,1)};m.dd=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Lc=function(a){return L(this,9,a)};var xNh=[8],yNh=[5];function zNh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function M6(a){J(this,a,0,-1,null,null)}v(M6,I);m=M6.prototype;m.ea=function(){var a=new E;zNh(this,a);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};
m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function ANh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,L6,3);null!=c&&b.C(3,c,qNh);c=K(a,4);null!=c&&b.D(4,c)}function BNh(a){J(this,a,0,-1,null,null)}v(BNh,I);m=BNh.prototype;m.ea=function(){var a=new E;ANh(this,a);return Y(a)};
m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function CNh(a,b){a=N(a,pY,1);null!=a&&b.C(1,a,P$e)}function DNh(a){J(this,a,0,-1,null,null)}v(DNh,I);DNh.prototype.ea=function(){var a=new E;CNh(this,a);return Y(a)};
function N6(a){return N(a,BNh,9)}function ENh(a,b){var c=N(a,pY,1);null!=c&&b.C(1,c,P$e);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&rj(b,3,c);c=K(a,4);null!=c&&rj(b,4,c)}function FNh(a){J(this,a,0,-1,null,null)}v(FNh,I);FNh.prototype.ea=function(){var a=new E;ENh(this,a);return Y(a)};FNh.prototype.D=function(a){L(this,2,a)};
function GNh(a,b){var c=K(a,1);null!=c&&rj(b,1,c);c=K(a,2);null!=c&&rj(b,2,c);c=K(a,3);null!=c&&rj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Nj(a,FNh,5);0<c.length&&wj(b,5,c,ENh)}function HNh(a){J(this,a,0,-1,yNh,null)}v(HNh,I);HNh.prototype.ea=function(){var a=new E;GNh(this,a);return Y(a)};function INh(a){J(this,a,0,-1,xNh,null)}v(INh,I);m=INh.prototype;m.ea=function(){var a=new E;JNh(this,a);return Y(a)};
function JNh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,zNh);c=N(a,M6,4);null!=c&&b.C(4,c,zNh);c=N(a,pY,5);null!=c&&b.C(5,c,P$e);c=N(a,wNh,14);null!=c&&b.C(14,c,vNh);c=K(a,6);null!=c&&rj(b,6,c);c=K(a,7);null!=c&&rj(b,7,c);c=O6(a);0<c.length&&wj(b,8,c,JNh);c=N6(a);null!=c&&b.C(9,c,ANh);c=N(a,KT,21);null!=c&&b.C(21,c,pje);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&rj(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,DNh,18);null!=c&&b.C(18,c,CNh);c=N(a,HNh,19);null!=c&&b.C(19,c,GNh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Lc=function(a){return L(this,1,a)};m.getContent=function(){return N(this,M6,3)};m.setContent=function(a){return Oj(this,3,a)};m.Ns=function(){return null!=K(this,3)};function O6(a){return Nj(a,INh,8)}
m.getOrigin=function(){return K(this,17)};function P6(a){return N(a,INh,2)}function Q6(a){J(this,a,0,-1,null,null)}v(Q6,I);function KNh(a){J(this,a,0,-1,null,null)}v(KNh,I);m=Q6.prototype;m.ea=function(){var a=new E;LNh(this,a);return Y(a)};
function LNh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=P6(a);null!=c&&b.C(2,c,JNh);c=K(a,3);null!=c&&rj(b,3,c);c=K(a,4);null!=c&&rj(b,4,c);c=a.Tp();null!=c&&b.C(5,c,MNh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};m.Lc=function(a){return L(this,1,a)};m.Tp=function(){return N(this,KNh,5)};m.Cu=function(a){return Oj(this,5,a)};m=KNh.prototype;m.ea=function(){var a=new E;MNh(this,a);return Y(a)};
function MNh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,zNh);c=N(a,Q6,3);null!=c&&b.C(3,c,LNh)}m.getId=function(){return K(this,1)};m.Lc=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,M6,2)};m.setTitle=function(a){return Oj(this,2,a)};function NNh(a){J(this,a,"gs",-1,null,null)}v(NNh,I);NNh.prototype.ea=function(){var a=new E;var b=this.vp();null!=b&&a.C(1,b,Q$e);return Y(a)};NNh.ue="gs";NNh.prototype.vp=function(){return N(this,qY,1)};
var ONh=[1,2],PNh=[1];function QNh(a){J(this,a,"sr",-1,PNh,null)}v(QNh,I);QNh.prototype.ea=function(){var a=new E;var b=Nj(this,Q6,1);0<b.length&&wj(a,1,b,LNh);b=K(this,2);null!=b&&rj(a,2,b);b=K(this,3);null!=b&&rj(a,3,b);return Y(a)};QNh.ue="sr";function RNh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function SNh(a){J(this,a,0,-1,null,null)}v(SNh,I);SNh.prototype.ea=function(){var a=new E;RNh(this,a);return Y(a)};SNh.prototype.getId=function(){return K(this,1)};
SNh.prototype.Lc=function(a){return L(this,1,a)};function TNh(a){J(this,a,"u",-1,ONh,null)}v(TNh,I);TNh.prototype.ea=function(){var a=new E;var b=Nj(this,Q6,1);0<b.length&&wj(a,1,b,LNh);b=Nj(this,SNh,2);0<b.length&&wj(a,2,b,RNh);return Y(a)};TNh.ue="u";
function UNh(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new cif(c,a.H):dif}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||bif,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Dhf(d.D.metadata,d.F):Jhf),e=b(d.C));if(e)return d.getUrl()}}return null}function VNh(a){null===a.F&&(a.F=UNh(a.C,function(b){return!!b&&!Ehf(b)}),null===a.F&&(a.F=uif(a,UNh)));return a.F}function WNh(){}t(WNh,dNh);m=WNh.prototype;m.add=function(a){return null==this.C.Xxa(a,this)};m.clear=function(){this.C.clear()};
m.contains=function(a){return this.C.mZ(a)};m.isEmpty=function(){return this.C.isEmpty()};m.nj=function(){return this.C.pPb().nj()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.wDa=!0;function XNh(a,b,c,d){WB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(XNh,WB);XNh.prototype.Lw=function(){this.rA=[this.C?S8a(this.element):this.element.offsetLeft,this.element.offsetTop];XNh.Ua.Lw.call(this)};function YNh(a,b){A.call(this);this.Lg=a;this.C=b}
v(YNh,A);m=YNh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.Af=function(a,b,c){this.Lg.D.Af(this.C+":"+a,u(this.qIa,this,b),c)};m.vN=function(a){this.D=u(this.qIa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Lg.D.send(this.C+":"+a,b)};m.qIa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ja=function(){this.Lg=this.Lg.C[this.C]=null};
function ZNh(a){A.call(this);this.D=a;this.C={};this.D.vN(u(this.F,this))}v(ZNh,A);function $Nh(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new YNh(a,b);return a.C[b]=c}ZNh.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};
ZNh.prototype.Ja=function(){Id(this.C,function(a){Mf(a)});Mf(this.D);delete this.C;delete this.D};var aOh={z4a:"all",Ayc:"important",NONE:"none"};function bOh(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function cOh(a){var b=new hta,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new WAd(b)}var dOh=[1];
function eOh(a){J(this,a,0,-1,null,null)}v(eOh,I);eOh.prototype.ea=function(){var a=new E;var b=this.vp();null!=b&&a.C(1,b,Q$e);return Y(a)};eOh.prototype.vp=function(){return N(this,qY,1)};function fOh(a){J(this,a,0,-1,null,null)}v(fOh,I);fOh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};fOh.prototype.Qf=function(){return K(this,1)};
function gOh(a){J(this,a,0,-1,dOh,null)}v(gOh,I);gOh.prototype.ea=function(){var a=new E;var b=Nj(this,Q6,1);0<b.length&&wj(a,1,b,LNh);b=K(this,2);null!=b&&rj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&rj(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};
var hOh=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,iOh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function jOh(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Fe(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(hOh,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,r){return Ed(n[2],r)&&Fga(n[1],q)>Fga(n[1],r)},l||(e="http://"),l=h.match(iOh),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(He("a",b,h));d.push(l);return""});return Ie(d)}
var kOh={CAc:"docos-insert-discussion",slc:"docos-cancel-insert-discussion",XHc:"docos-new-doco",YHc:"docos-new-reply",Poc:"docos-delete-doco",Roc:"docos-delete-reply",Csc:"docos-edit-doco",Esc:"docos-edit-reply",Dsc:"docos-edit-draft",wkc:"docos-before-highlight-doco",Yxc:"docos-highlight-doco",SPc:"docos-speak-doco",oNc:"docos-resolve-doco",nkc:"docos-back-to-document",cic:"docos-accept-suggestion",fNc:"docos-reject-suggestion",Ymc:"docos-convert-doco",Qoc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",VTc:"docos-update-sort",tUc:"docos-vote-doco",uUc:"docos-vote-reply",zHc:"mouse-hover-doco-view"};function lOh(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function R6(){return new lOh("")}function S6(a){return new mOh(a)}function mOh(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function T6(a,b){a.L=b;return a}function nOh(a){a.J=!0;return a}function oOh(a){a.F=!1;return a}function pOh(a,b){a.D=b;return a}
function qOh(a){a.H=!0;return a}function U6(a){return new lOh(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function V6(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}pa("docos.Event",V6,void 0);pa("docos.api.Event",V6,void 0);V6.prototype.getType=g("type");V6.prototype.getType=V6.prototype.getType;V6.prototype.getAnchors=g("anchors");V6.prototype.getAnchors=V6.prototype.getAnchors;
V6.prototype.getDocos=g("docos");V6.prototype.getDocos=V6.prototype.getDocos;V6.prototype.isNonAnchored=g("nonAnchored");V6.prototype.isNonAnchored=V6.prototype.isNonAnchored;V6.prototype.isUserInitiated=g("userInitiated");V6.prototype.isUserInitiated=V6.prototype.isUserInitiated;V6.prototype.getArgs=g("args");V6.prototype.getArgs=V6.prototype.getArgs;V6.prototype.canPreventDefault=ea(!1);V6.prototype.canPreventDefault=V6.prototype.canPreventDefault;
V6.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};V6.prototype.preventDefault=V6.prototype.preventDefault;V6.prototype.getAnchorIds=g("D");V6.prototype.getAnchorIds=V6.prototype.getAnchorIds;V6.prototype.getDocoHandles=g("F");V6.prototype.getDocoHandles=V6.prototype.getDocoHandles;function rOh(a){return new W6(a)}V6.builder=rOh;function W6(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}pa("docos.api.Event.Builder",W6,void 0);
W6.prototype.addAnchorId=function(a){this.C.push(a);return this};W6.prototype.addAnchorId=W6.prototype.addAnchorId;W6.prototype.setAnchorIds=function(a){this.C=a;return this};W6.prototype.setAnchorIds=W6.prototype.setAnchorIds;W6.prototype.addDocoHandle=function(a){this.D.push(a);return this};W6.prototype.addDocoHandle=W6.prototype.addDocoHandle;W6.prototype.setDocoHandles=function(a){this.D=a;return this};W6.prototype.setDocoHandles=W6.prototype.setDocoHandles;
W6.prototype.setNonAnchored=function(a){this.F=a;return this};W6.prototype.setNonAnchored=W6.prototype.setNonAnchored;W6.prototype.setUserInitiated=function(a){this.H=a;return this};W6.prototype.setUserInitiated=W6.prototype.setUserInitiated;W6.prototype.setApiEventArgs=function(a){this.args=a;return this};W6.prototype.setApiEventArgs=W6.prototype.setApiEventArgs;W6.prototype.isEmpty=function(){return bd(this.C)&&bd(this.D)&&!this.args};W6.prototype.isEmpty=W6.prototype.isEmpty;
W6.prototype.build=function(){return new V6(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new f5)};W6.prototype.build=W6.prototype.build;function sOh(a,b){V6.call(this,a,[],[],!1,!1,new f5);this.interval=this.interval=b}v(sOh,V6);pa("docos.api.TimedEvent",sOh,void 0);function tOh(){this.C={};this.D={}}function uOh(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Ko(c,"end",function(){delete f[b];delete h[b];e()})}function vOh(a,b){(a=a.C[b])&&a.stop()}tOh.prototype.getDuration=function(a){return this.D[a]};function wOh(a){var b=a.$h,c=a.EB,d=a.We;a=a.RR;return T('<div class="'+U("docos-icon")+" "+U("goog-inline-block")+(d?" "+U(d):"")+" "+U(c)+'"><div class="'+U("docos-icon-img")+" "+U("docos-icon-img-container")+" "+U(b)+(a?" "+U("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function xOh(a){var b=a.size,c=a.We,d=a.$cb,e=a.Koa;a=a.W1;return T('<img class="'+U("docos-avatar")+(c?" "+U(c):"")+'" width="'+U(b)+'" height="'+U(b)+'" alt=""'+(d?' src="'+U(Jx(d))+'"':"")+(e?' data-hovercard-id="'+U(e)+'"':"")+(a?' data-name="'+U(a)+'"':"")+"/>")};function yOh(a,b,c){b=c||b;c=a.PFa;var d=a.dk,e=a.oo;a='<div class="'+U("docos-assigneeview")+'"><table><tr><td class="'+U("docos-assigneeview-avatar-container")+'">'+R(xOh({size:32,We:"docos-assigneeview-avatar"}))+'</td><td class="'+U("docos-assigneeview-assigneeinfo")+'"><div class="'+U("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+U("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+U("hide-on-readonly")+'">';e=e={dk:d,oo:e};d=e.dk;e=e.oo;var f='aria-label="'+
Hx("Mark as done and hide discussion.");b=""+R(OA({$c:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:Gx(f+'"'),style:e?4:0,content:Fx(""+R(wOh({$h:"docos-icon-accept-checkmark-black",EB:"docos-icon-accept-checkmark-size",We:"docos-icon-checkmark jfk-button-img"}))),vO:d},b));b=T(b);return T(a+(c+b+"</td></tr></table></div>"))};function zOh(a,b){return a?AOh(X6(a),b):!1}function BOh(a,b){return a?zOh(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function COh(a,b){a=X6(a);return DOh(a,b)}function EOh(a,b,c){a=DOh(a,b,!0);return c?(new xB("Reassign to {user}")).format({user:a}):(new xB("Assign to {user}")).format({user:a})}function DOh(a,b,c){return AOh(a,b)?c?"you":"You":Y6(a)}function AOh(a,b){return null!=a.getEmail()&&null!=b.Vg().getEmail()&&a.getEmail()==b.Vg().getEmail()};function Z6(a,b){Q.call(this,b);this.Tc=FOh(a);this.C=$6(a)}v(Z6,Q);Z6.prototype.zd=!1;Z6.prototype.Ha=function(){Z6.Ua.Ha.call(this);this.zd&&(this.Hd(),GOh(this))};function HOh(a){a.zd||(a.zd=!0,a.getHandler().listen(a.C,"r",a.Hd),a.Hd(),GOh(a))}Z6.prototype.Hd=function(){if(this.sb()){var a=this.getElement(),b=this.C.F;jy(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));jy(this.getElement(),"docos-offline",this.C.R)}};
function a7(a,b,c,d){a.Tc&&(d=a.Tc.Va.C(d));a.getHandler().listen(b,c,d,void 0);return a}function GOh(a){a.sb()&&a7(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.xi)}Z6.prototype.xi=function(a){a.stopPropagation()};function IOh(a,b,c){this.C=a;this.D=b;this.F=c};function JOh(a,b,c,d){Z6.call(this,a,b);this.H=a;this.Lc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new PA(null);this.qa(this.R)}t(JOh,Z6);m=JOh.prototype;
m.Ba=function(){var a=this.oa(),b=b7(KOh(this)),c=Sy(yOh,{PFa:COh(b,this.C),dk:this.C.dk(),oo:"legacy"!=this.C.D});this.kb(c);this.L=a.bb("docos-icon-checkmark",c);this.O=a.bb("docos-icon-img-container",c);this.J=a.bb("docos-mark-done-button",c);this.R.Wa(this.J);a7(this,this.R,"action",this.zRb);this.F=a.bb("docos-assigneeview-assignee-text",c);this.D=oV(a,"IMG","docos-assigneeview-avatar",c);a=X6(b);LOh(c7(this.H),this.D,a.D,Y6(a));MOh(this,b)};
m.Ha=function(){Z6.prototype.Ha.call(this);var a=b7(KOh(this));a=X6(a);NOh(this,a,this.F);NOh(this,a,this.D)};
function MOh(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!zOh(b,a.C)||"black"==nA()&&wf||"material_yellow"==a.C.D||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=BOh(b,a.C);iy(a.getElement(),["docos-assignee-you","docos-assignee-other"]);iy(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);iy(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
iy(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);fy(a.L,d);fy(a.O,e);fy(a.J,c);fy(a.getElement(),b)}function KOh(a){return d7(a.H).ud(a.getId())}m.update=function(){var a=b7(KOh(this)),b=COh(a,this.C)||"";Ap(this.F,b);e7(c7(this.H),this.D);b=X6(a);LOh(c7(this.H),this.D,b.D,Y6(b));MOh(this,a);NOh(this,b,this.F);NOh(this,b,this.D)};
function NOh(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.zRb=function(a){a&&a.stopPropagation();(a=KOh(this))&&!a.isResolved()&&(a=f7(this.H),this.dispatchEvent("br"),a.xf("docos-resolve-doco").qb(new IOh(this.getId(),!0,OOh(this.V))),this.dispatchEvent("ar"))};m.vd=function(){Z6.prototype.vd.call(this)};
m.Ja=function(){Z6.prototype.Ja.call(this);delete this.F;delete this.D;delete this.L};function POh(a,b){void 0!==b.getId()&&a.Lc(b.getId());var c=P6(b);if(void 0!==c){var d=P6(a);c?d?QOh(d,c):Oj(a,2,c):Oj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.Tp();if(void 0!==d)if(c=a.Tp(),d)if(c){void 0!==d.getId()&&c.Lc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?ROh(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,Q6,3);void 0!==d&&(e=N(c,Q6,3),d?e?POh(e,d):Oj(c,3,d):Oj(c,3,void 0))}else a.Cu(d);else a.Cu(void 0);void 0!==Cj(b,
6)&&(c=Cj(b,6),L(a,6,c));void 0!==Cj(b,7)&&(c=Cj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Cj(b,9)&&(b=Cj(b,9),L(a,9,b))}
function QOh(a,b){void 0!==b.getId()&&a.Lc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?ROh(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,M6,4);void 0!==c&&(d=N(a,M6,4),c?d?ROh(d,c):Oj(a,4,c):Oj(a,4,void 0));c=N(b,pY,5);void 0!==c&&(c?Oj(a,5,c):Oj(a,5,void 0));d=N(b,wNh,14);if(void 0!==d)if(c=N(a,wNh,14),d)if(c){void 0!==d.getName()&&c.dd(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,sNh,3);if(void 0!==e){var f=
N(c,sNh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else Oj(c,3,e);else Oj(c,3,void 0)}void 0!==Cj(d,4)&&(e=Cj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,uNh,7);void 0!==f&&(e=N(c,uNh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):Oj(c,7,f):Oj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else Oj(a,14,d);else Oj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));O6(b)&&(c=id(O6(a),O6(b)),Qj(a,8,c));d=N6(b);void 0!==d&&(c=N6(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,L6,3)&&(e=N(d,L6,3),
Oj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):Oj(a,9,d):Oj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Cj(b,12)&&(c=Cj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Cj(b,15)&&(c=Cj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,DNh,18);void 0!==c&&(e=N(a,DNh,18),c?e?(d=N(c,pY,1),void 0!==d&&(c=N(e,pY,1),d?c?(void 0!==
d.getName()&&c.dd(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Lc(d.getId()),void 0!==Cj(d,5)&&(e=Cj(d,5),L(c,5,e)),void 0!==Cj(d,6)&&(e=Cj(d,6),L(c,6,e)),void 0!==Cj(d,7)&&(e=Cj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):Oj(e,1,d):Oj(e,1,void 0))):Oj(a,18,c):Oj(a,18,void 0));d=N(b,HNh,19);void 0!==d&&(c=N(a,HNh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),L(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),L(c,4,e)),void 0!==Nj(d,FNh,5)&&(d=Nj(d,FNh,5),Qj(c,5,d))):Oj(a,19,d):Oj(a,19,void 0));void 0!==N(b,KT,21)?(c=N(b,KT,21),Oj(a,21,c)):void 0!==b.getContent()&&Oj(a,21,void 0);void 0!==Cj(b,22)&&(c=Cj(b,22),L(a,22,c));void 0!==Cj(b,23)&&(b=Cj(b,23),L(a,23,b))}function ROh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function SOh(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Cd(b)?Dd(b.toLowerCase()):null;this.L=c;this.D=d;this.fd=e;this.H=f;this.C=h}SOh.prototype.getName=g("J");SOh.prototype.getEmail=g("F");SOh.prototype.getId=g("fd");function Y6(a){a=Cd(gf(a.getName()))?a.getEmail():a.getName();return gf(a)}function TOh(a){var b=UOh(VOh(WOh(XOh((new g7).dd(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Lc(a.getId()||""),!!Cj(a,5));a=!!Cj(a,7);b.D=a;return YOh(b)}
function ZOh(a){var b=(new pY).Lc(a.getId()||""),c=a.getName();null!==c&&b.dd(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function g7(){}g7.prototype.dd=function(a){this.H=a;return this};function XOh(a,b){a.C=b&&!Cd(b)?Dd(b.toLowerCase()):null;return a}function WOh(a,b){a.L=b;return a}function VOh(a,b){a.J=b;return a}g7.prototype.Lc=function(a){this.fd=a;return this};function UOh(a,b){a.F=b;return a}
function YOh(a){return new SOh(a.H,a.C,a.L,a.J,a.fd,a.F,a.D)};function $Oh(a){N(a,pY,1);this.C=a}function X6(a){a=N(a.C,pY,1);return TOh(a)}$Oh.prototype.equals=function(a){return Tj(this.C,a.C)};function aPh(a){var b=new DNh;a=ZOh(a);b=Oj(b,1,a);return new $Oh(b)};function bPh(a){N(a,pY,1);K(a,2);this.C=a};function cPh(a){this.C=a}function dPh(a,b){var c=[];a=Nj(a.C,FNh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new bPh(e))}return c}function h7(a){return null!=K(a.C,4)?K(a.C,4):0};function ePh(){var a=fPh;this.C=[];this.D={};this.F=a}ePh.prototype.text=function(a){this.C.push(a)};function gPh(a,b){if(a.D[b])a.C.push(b);else{var c=new hPh(b,a.C.length);a.C.push(c);a.D[b]=c}}function iPh(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Uc(Nd(a.D),function(e){return e.D>c.D});rd(d,function(e,f){return pd(e.D,f.D)});a.C.push(new jPh(a.F[b].close,d,a.F))}else a.C.push(b)}ePh.prototype.getResult=function(){return this.C.join("")};
function hPh(a,b){this.F=a;this.D=b;this.C=null}hPh.prototype.getName=g("F");hPh.prototype.toString=function(){return null!==this.C?this.C:this.F};function jPh(a,b,c){this.F=a;this.C=b;this.D=c}jPh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function kPh(a){a=Ee(jOh(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new lPh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new mPh(a.substring(0,c))),a=a.substring(c);b.push(new lPh(a));return new nPh(b)}function oPh(a){var b=new ePh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=pPh.test(d);d=qPh.test(d);f?d?(f=b,f.D[e]?iPh(f,e):gPh(f,e)):gPh(b,e):d?iPh(b,e):b.text(e)}return new lPh(b.getResult())}
function rPh(a){return new lPh(a.replace(sPh,"<br>"))}var sPh=/\r\n|\n|\r/g,fPh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},pPh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,qPh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function lPh(a){this.Ze=a}lPh.prototype.C=function(a){return a(this.Ze)};lPh.prototype.toString=g("Ze");function mPh(a){this.Ze=a}mPh.prototype.C=function(){return this};mPh.prototype.toString=g("Ze");
function nPh(a){this.Ci=a}nPh.prototype.C=function(a){var b=Vc(this.Ci,function(c){return c.C(a)});return new nPh(b)};nPh.prototype.toString=function(){return this.Ci.join("")};function tPh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=tPh.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),Oj(a,4,void 0),Oj(a,9,void 0));if(void 0!==N(a,KT,21)||void 0!==a.getContent())this.D=null;QOh(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return Tj(this.C,a.C)};
m.Gw=function(){var a=N(this.C,pY,5)||new pY;return TOh(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.gy=function(){this.H||(this.H=aW(K(this.C,6)));return this.H};m.xQ=function(){if(void 0===K(this.C,7))return this.gy();this.J||(this.J=aW(K(this.C,7)));return this.J};function uPh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=aW(K(a.C,13))),b=a.F;if(!b||a.xQ()>b)b=a.xQ();return b}
function vPh(a){if(void 0!==N6(a.C)&&("text/html"==N6(a.C).getType()||"text/plain"==N6(a.C).getType())){var b=N6(a.C).getValue();b="text/html"==N6(a.C).getType()?b:af(b)}return b||""}m.M3=function(){if(void 0!==N6(this.C)){var a=N(N6(this.C),L6,3);if(a)return a.Rf()}return null};m.rga=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};m.tga=function(){if(null!=N(this.C,KT,21)&&!this.D){var a=N(this.C,KT,21);this.D=Ke(K(a,2)||"",null)}return this.D};
m.yx=function(){return null!=N(this.C,M6,4)?N(this.C,M6,4).getValue()||"":""};m.Zwa=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.JR=function(){return!!Cj(this.C,12)};function i7(a){return!!K(a.C,13)}m.TB=function(){var a=N(this.C,DNh,18);return null!=a?new $Oh(a):null};m.Rz=function(){var a=N(this.C,HNh,19);return null!=a?new cPh(a):null};m.Fk=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
m.gI=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function wPh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.yva=function(){return!!Cj(this.C,22)};m.tva=function(){return 2==this.getOrigin()};function j7(a,b){this.C=new INh;L(this.C,11,a);b&&b!=a&&this.C.Lc(b)}function xPh(a,b){var c=O6(a.C);c.push(b.C);Qj(a.C,8,c);return a}function yPh(a,b){L(a.C,16,b);return a}
function k7(a){L(a.C,12,!0);return a}function zPh(a,b){L(a.C,6,b);return a}function APh(a){var b=Ma();L(a.C,13,b);return a}function BPh(a){L(a.C,13,0);return a}function CPh(a,b){Oj(a.C,18,b.C);L(a.C,10,4);return a}function DPh(a,b){b=ZOh(b);Oj(a.C,5,b);return a}function EPh(a){L(a.C,20,1);return a}function l7(a,b,c){b=Dd(b);var d=(new M6).setType("text/plain").setValue(b);Oj(a.C,4,d);b=(new M6).setType("text/html").setValue(kPh(b).C(oPh).C(rPh).toString());a.C.setContent(b);L(a.C,7,c);return a};function FPh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function GPh(a,b){return a.F.getId()==b.Gw().getId()}function HPh(a,b){return GPh(a,b)&&!!b.yx()&&("suggest"==a.C||"full"==a.C)}function IPh(a,b){return b instanceof tPh&&void 0!==b.rga()?!1:(a.H||GPh(a,b))&&(!!b.yx()||b.Fk())&&("suggest"==a.C||"full"==a.C)}function JPh(a,b){return a.D&&!b.Fk()&&("suggest"==a.C||"full"==a.C)}FPh.prototype.Pva=g("D");function KPh(a){return"suggest"==a.C||"full"==a.C};function LPh(a){J(this,a,0,-1,null,null)}v(LPh,I);LPh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function MPh(a,b){this.D=a;this.C=b||null}MPh.prototype.To=function(a,b,c){this.D(a,b,c)};MPh.prototype.tBa=function(a){this.C&&this.C(a)};function NPh(a,b,c,d,e){d=d?d.Rf():void 0;e=e?e.Rf():void 0;a(b,c,d,e)};function OPh(a){Qo.call(this);this.l2(a)}v(OPh,Qo);m=OPh.prototype;
m.l2=function(a){var b=a.kd;this.ah=b;if(void 0===b.Vg())throw Error("Invalid or missing user.");var c=b.Vg();this.vIa=YOh(UOh(VOh(WOh(XOh((new g7).dd(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Lc(c.getId()||""),!!Cj(c,5)));this.Jea=!!Cj(b,40);this.saa=!Cj(b,20);this.taa=K(b,11);this.tKa=!!Cj(b,12);this.kpa=K(b,6);this.uIa=void 0!==a.l?!!a.l:!!Cj(b,25);this.uZa=K(b,21);this.mpa=K(b,23);this.wIa=K(b,24);this.KSa=K(b,31);void 0!==a.i?this.lpa=a.i:this.lpa=void 0;if(a=rY(b))this.m2=K(a,1);this.dispatchEvent("r")};
m.kpa=null;m.KSa=null;m.lpa=void 0;m.taa=null;m.uIa=!1;m.Jea=!1;m.uZa=null;m.mpa=null;m.wIa=null;m.saa=!0;m.tKa=!1;m.vIa=null;m.m2=null;m.ah=null;m.Vg=g("vIa");function PPh(a,b,c){function d(f){return c?jd(f):f}var e=null;a&&ya(a)&&(e=d(a),ya(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function QPh(a){this.C=a};function RPh(){}RPh.prototype.install=function(a){a=a&&Uo(a);Mab(a)};RPh.prototype.C=function(a,b){dA(a,b,void 0)};RPh.prototype.jf=function(a){a=a&&Uo(a);Rab(a)};RPh.prototype.D=function(a,b){YV(a,b)};function SPh(a,b){b=void 0===b?function(){return IPe()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));ya(c)&&(c=PPh(c,"kd",!0),c.unshift("kd"),a.kd=new R$e(c));OPh.call(this,a);this.qj=b}t(SPh,OPh);m=SPh.prototype;
m.l2=function(a){OPh.prototype.l2.call(this,a);this.J=this.J||U4b("disco");var b;if(!(b=this.Qa)){b=U4b("usp_dm");var c=new KNd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Qa=b;this.$i=a["anchor-is-orphaned-fn"]||ge;this.Ca=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new QPh(a.containerdiv));this.ys=b;this.Rb=a.storage||null;this.Tc=!!a["storage-ro"];this.Wd=!!a["disable-focus"];this.Gz=!!a.so;this.kf=a.docscroller||null;this.Zn=a["inactive-doco-indent"]||10;this.Ta=
a["instant-docos-div"]||null;this.ob=a["enable-new-delete-ui"]||!1;this.jb=a["delete-dialog-show"]||null;this.O=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.O=new MPh(b,c));this.Lk=a["memory-monitor-fn"]||null;this.Pj=a.layout||null;this.sj=!!a.layoutrtl;this.H=a.listeners||{};this.L=a.panediv||null;this.xa=a.panekbdiv||null;this.K2()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.eb=
b;this.Fc=a.quotefn||null;this.Bd=a["user-color-provider-fn"]||null;this.Oz=a["user-color-provider-from-name-fn"]||null;this.zs=a.quoterenderfn||null;this.xi=!!a["hide-notification"];this.R=!!a.offline;this.jc=!!a.nocss;this.xc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.zd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Cj(this.ah,8);this.F=new FPh(this.Vg(),c?c:d?"readonly":"full",!!Cj(this.ah,
3),b);this.Pa=!!a.iph;this.ep=a.maxheight||0;this.Nc=!!a.showerrors;this.bd=a["stream-button"]||null;this.Vd=!!a["disable-spfw"];this.Oa=a["anchor-mutate-fn"]||null;TPh(this)||(this.Oa=null);this.Pf=!!a["enable-comment-button"];this.La=!!a["enable-gsuite-embedding"];this.og=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.tm=a["acl-fix-fn"]||null;this.$j=a["load-acl-fixer-fn"]||null;this.Ae=a["intercept-docos-edit-fn"]||null;this.Hi=a["is-an-illegal-write-fn"]||null;this.Hd=
!!a["defer-first-sync"];this.Hm=!!a["enable-lazy-loading"];this.Ia=!!a["enable-all-docos-in-anchored-stream"];this.pz=a["stream-pane-banner-message"]||null;this.Dt=a["stream-pane-banner-learn-more-url"]||null;this.$m=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.$a=(b=a["impression-recorder-fn"])?Ia(NPh,b):null;this.ai=a.hidepromofn;this.rt=a.showpromofn;this.Bl=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new RPh;this.um=a["browser-app-clipboard"]||
null;this.Ya=a["modal-dialog-z-index"]||null;this.Ne=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Ea=a["static-input-pane-message"]||null;this.Faa=a["drive-id"]||null;this.rb=!!a["enable-roving-tabindex"];this.Xg=a["auto-complete-factories"]||[];this.Dn=a["overflow-menu-items"]||[];this.D=a["ui-version"]||"legacy";this.Jb=a["link-opener"]||null;this.dispatchEvent("r")};function UPh(a){return null!=K(a.ah,44)&&null!=K(rY(a.ah),51)&&!!Cj(rY(a.ah),51)}
m.cK=function(){if(this.xi)return!1;var a=Cj(this.ah,26);return null!=a?!!a:!0};m.pfa=function(){return!!Cj(this.ah,43)};m.Fva=function(){var a=!1,b=rY(this.ah);b&&(a=Cj(b,2));return!!Cj(this.ah,43)&&!!a};function VPh(a){return!!rY(a.ah)&&!!Cj(rY(a.ah),32)}m.cra=g("Faa");function TPh(a){return a.ah&&!!Cj(a.ah,18)}m.dk=function(){return!!Cj(this.ah,39)};m.K2=function(){return null!=K(this.ah,44)&&!!Cj(rY(this.ah),53)&&!this.Vg().C};function WPh(a){return a.qj()&&!!Cj(a.ah,10)&&!a.Wd}
function XPh(a){return Cj(a.ah,10)?a.Xg:[]}function YPh(a){return!!rY(a.ah)&&!!Cj(rY(a.ah),50)};function ZPh(a,b,c,d,e,f){Z6.call(this,a,c);this.D=$6(a);this.Oa=Fm(Mc(y(),"docs-seu")||this.D.Ne||window.location.href);this.Oc=new Qz(c,new $Ph(d));this.F=new aA("",this.Oc,void 0,c);this.F.QI=!0;this.Ga(this.F);this.J=null;ad(e,"edit")&&(this.J=new Lz("Edit"),this.J.Jc("docos-edit-menuitem"),this.Oc.Ga(this.J,!0));this.H=null;ad(e,"delete")&&(this.H=new Lz("Delete"),this.H.Jc("docos-delete-menuitem"),this.Oc.Ga(this.H,!0));this.R=null;ad(e,"reanchor")&&VPh(this.D)&&(this.R=new Lz("Reanchor comment"),
this.R.Jc("docos-reanchor-menuitem"),this.Oc.Ga(this.R,!0));this.xa=null;ad(e,"disable")&&(this.xa=new Lz("Turn off suggested action items"),this.xa.Jc("docos-disable-menuitem"),this.Oc.Ga(this.xa,!0));this.Ia=null;ad(e,"help")&&(this.Ia=new Lz("Learn more"),this.Ia.Jc("docos-help-menuitem"),this.Oc.Ga(this.Ia,!0));d=d7(a).ud(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.La=f?m7(d,f):null;this.V=null;$6(a).F.Pva()&&ad(e,"resolve")&&(this.V=new Lz(""),this.Oc.Ga(this.V,
!0));this.O=this.Ca=this.ma=null;ad(e,"link")&&(this.Ca=new Lz("Link to this comment..."),this.Ca.Jc("docos-link-menuitem"),this.Oc.Ga(this.Ca,!0),this.O=new Uef(c,this.D.um||void 0,void 0,null===this.D.Ya?void 0:this.D.Ya),this.Ga(this.O),fy(yy(this.O),"docos"),this.O.setTitle("Link to this comment..."),aQh(this,b));this.Ea=$6(a).Dn.map(function(h){return{Y9a:h,rMa:new Lz(h.getLabel())}});for(a=0;a<this.Ea.length;a++)this.Oc.Ga(this.Ea[a].rMa,!0)}t(ZPh,Z6);m=ZPh.prototype;
m.Ec=function(a){Z6.prototype.Ec.call(this,a);a=this.oa().bb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Tc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Wa(a),this.F.Na(!0),this.D.C.C(a,"More options..."),this.F.Fe("More options..."))};
m.Ha=function(){var a=this;Z6.prototype.Ha.call(this);bQh(this);a7(a7(a7(this,this.Oc.getElement(),"click",this.CUa),this.F.getElement(),"click",this.CUa),this.D,"r",this.Qsb);a7(this,this.F.getElement(),"keyup",this.Oec);cQh(this,this.J,this.Xfc);cQh(this,this.H,this.Vfc);cQh(this,this.Ca,this.P9b);cQh(this,this.R,this.agc);cQh(this,this.V,this.bgc);cQh(this,this.xa,this.Wfc);cQh(this,this.Ia,this.$fc);for(var b={},c=0;c<this.Ea.length;b={p9:b.p9},c++)b.p9=this.Ea[c],cQh(this,b.p9.rMa,function(d){return function(){d.p9.Y9a.C((a.La||
a.L).yx())}}(b))};m.Sh=function(a){this.oa().Ri(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){bQh(this)};function aQh(a,b){if(a.O){var c=a.Oa.clone();b=c.D.set("disco",b);a.O.oVa(zm(c,b).toString())}}function cQh(a,b,c){b&&a7(a,b,"action",c)}m.bgc=function(a){JPh(this.D.F,this.L)&&(this.dispatchEvent(new dQh("r")),eQh(this,a))};m.Xfc=function(a){fQh(this)&&(this.dispatchEvent(new dQh("e")),eQh(this,a))};
m.Wfc=function(a){this.dispatchEvent(new dQh("i"));eQh(this,a)};m.Vfc=function(a){gQh(this)&&(this.F.Fd(!1),this.dispatchEvent(new dQh("d")),eQh(this,a))};m.agc=function(a){this.dispatchEvent(new dQh("ra"));eQh(this,a)};m.$fc=function(a){this.dispatchEvent(new dQh("h"));eQh(this,a)};m.P9b=function(a){eQh(this,a);this.O.setVisible(!0)};function eQh(a,b){b.stopPropagation();a.F.Fd(!1)}m.Oec=function(a){27==a.keyCode&&a.stopPropagation()};m.CUa=function(a){a.stopPropagation()};m.Qsb=function(){bQh(this)};
function fQh(a){return HPh(a.D.F,a.La||a.L)&&!a.ma}function gQh(a){return IPh(a.D.F,a.La||a.L)&&!a.D.ma}function bQh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=hQh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Na(JPh(a.D.F,a.L))}a.J&&(b=fQh(a),a.J.Na(b),a.J.setVisible(b));a.H&&(b=gQh(a),a.H.Na(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Na(b),a.R.setVisible(b))}function dQh(a){Do.call(this,a)}t(dQh,Do);
function $Ph(a){a=void 0===a?"docos-docomenu":a;Oz.call(this);this.D=a}t($Ph,Oz);$Ph.prototype.fc=function(){return(new Zq("goog-menu"," ","docos"," ",this.D)).toString()};function iQh(){$C.call(this,!1)}t(iQh,$C);iQh.prototype.xN=function(a){$C.prototype.xN.call(this,a)};function jQh(){this.C=!1;this.D=new Ff;this.qa(this.D)}v(jQh,A);function kQh(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.Ay=e;this.C=f;this.D=h}kQh.prototype.ud=g("F");function lQh(){}function n7(a){var b=new lQh;b.D=a;return b}function o7(a,b){a.C=b;return a}function mQh(a,b){a.Ay=b;return a}function p7(a){return new kQh(a.D,a.C,a.J||!1,a.L||null,a.Ay||null,a.F||null,a.H||null)};function nQh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Dr=h}function oQh(){}function pQh(a){var b=new oQh;b.H=a;return b}function qQh(a,b){a.D=b;return a}function rQh(a,b){a.Dr=b;return a}function sQh(a){return new nQh(a.H,a.L||!1,a.F||null,a.J||null,a.C||null,a.D||null,a.Dr||null)};function tQh(a,b,c){var d=P6(a);this.F=a;this.O=b;this.Zs=c||null;this.R=null;this.J={};this.D={};this.C=new tPh(d);this.H=void 0;this.UR=!!N(d,DNh,18);b=this.getId();if(a=P6(a)){a=O6(a);for(c=0;c<a.length;c++)d=new tPh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,wPh(d)&&(this.H=wPh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=tQh.prototype;m.Gw=function(){return this.C.Gw()};m.getId=function(){return this.C.getId()};
function q7(a){return K(a.C.C,11)||""}m.xQ=function(){var a=K(this.F,4);if(void 0===a)return this.gy();this.V||(this.V=aW(a));return this.V};m.getContent=function(){return this.C.getContent()};m.Zwa=function(){return this.C.Zwa()};m.rga=function(){return this.C.rga()};m.yx=function(){return this.C.yx()};function r7(a){return K(a.F,8)||""}m.tga=function(){return this.C.tga()};m.M3=function(){return this.C.M3()};m.Sz=function(){return void 0!==K(this.F,8)};
m.isResolved=function(){return!!Cj(this.F,6)};function s7(a,b){var c=Nd(a.D);b&&c.push(a.C);sd(c,function(d,e){return $V(d.gy(),e.gy())});return c}function m7(a,b){return a.D[b]||null}m.gy=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=aW(a)):this.L=null;return this.L};m.getNewDocoType=g("Zs");m.HB=function(){return"draft"==this.Zs||"client-integrated-draft"==this.Zs||"instant-doco"==this.Zs};function uQh(a){return vQh(a)}function vQh(a){return a.HB()||"smart-todo"==a.Zs}
m.mY=function(){return"smart-todo"==this.Zs};m.JR=function(){return!!Cj(this.F,9)};m.Rz=function(){return this.C.Rz()};m.TB=function(){return this.C.TB()};function b7(a){var b=a.C.TB()?a.C.TB():null;a=s7(a);for(var c=0;c<a.length;c++){var d=a[c];d.TB()&&(d=d.TB(),b?(b=new $Oh(Uj(b.C)),d=X6(d),d=ZOh(d),Oj(b.C,1,d)):b=new $Oh(Uj(d.C)))}return b}function hQh(a){return a.C.TB()?a.C:null}m.Fk=function(){return this.C.Fk()};m.isTodo=function(){return null!=this.UR?this.UR:this.UR=!!hQh(this)};m.gI=function(){return this.C.gI()};
function wQh(a){if(void 0!==a.H)return a.H;if(!a.Fk())return a.H=null;for(var b in a.D){var c=wPh(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.yva=function(){return this.C.yva()};m.tva=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=s7(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};function xQh(a){this.C=a;this.Zs=null}
function t7(a){var b=new Q6;a=a.C;Oj(b,2,a);a.getId()||K(a,11);b.Lc(a.getId()||K(a,11));return new xQh(b)}function yQh(a,b){L(a.C,8,b);return a}function u7(a,b){L(a.C,9,b);return a}function zQh(a,b){a.Zs=b;return a}xQh.prototype.getNewDocoType=g("Zs");xQh.prototype.getId=function(){return P6(this.C).getId()};function AQh(a,b,c,d,e,f,h,k){Do.call(this,a);this.L=b;this.C=c;this.O=d;this.Dr=e;this.D=f;this.R=h;this.F=k}t(AQh,Do);function BQh(){this.Dr=this.F=this.D=this.L=this.Xv=null;this.H=this.C=0;this.J=!1}function CQh(a){var b=new BQh;b.Xv=a;return b}function DQh(a,b){a.L=b;return a}function EQh(a,b){a.H=b;return a}function FQh(a,b){a.J=b;return a}function GQh(a){return new AQh(a.Xv,a.L,a.D,a.F,a.Dr,a.C,a.H,a.J)};function HQh(a){A.call(this);this.C=a;this.F=$6(a);this.D=IQh(this.C);this.H={}}v(HQh,A);function JQh(a,b,c,d,e,f){var h=jf(),k=new j7(h);d&&l7(k,d,Ma());f&&EPh(k);e&&(d=YOh(UOh(XOh(new g7,e).Lc(""),!1)),d=aPh(d),CPh(k,d));c=zQh(u7(yQh(t7(k),b),!1),c);KQh(d7(a.C),c);d7(a.C).flush();LQh(a.D,sQh(rQh(qQh(pQh(43008),h),b)));return v7(d7(a.C),h)}
function MQh(a,b,c,d,e){d=UOh(XOh(new g7,d).Lc(""),!1);Cd(gf(e))||d.dd(e);e=YOh(d);d=aPh(e);e=jf();var f=Ma();c=EPh(CPh(l7(DPh(new j7(e),a.F.Vg()),c,f),d));c=zQh(u7(yQh(t7(c),b),!1),"smart-todo");KQh(d7(a.C),c);d7(a.C).flush();LQh(a.D,sQh(rQh(qQh(pQh(43023),e),b)));return v7(d7(a.C),e)}
function NQh(a,b,c,d,e){var f=jf(),h=Ma();c=l7(DPh(zPh(k7(new j7(f)),h),a.F.Vg()),c,h);e&&EPh(c);d&&(d=YOh(UOh(XOh(new g7,d).Lc(""),!1)),d=aPh(d),CPh(c,d));c=u7(t7(c),!0);L(c.C,3,h);b=zQh(yQh(c,b),"discussion");KQh(d7(a.C),b);d7(a.C).flush();b=d7(a.C).ud(f);w7(a.D,p7(o7(n7(43009),b)));return v7(d7(a.C),f)}m=HQh.prototype;m.Vdb=function(a){OQh(d7(this.C),a);d7(this.C).flush()};
m.Rdb=function(a,b,c,d){if(a=d7(this.C).ud(a)){if(d&&!a.TB())throw Error("Cannot reassign a doco with no existing assignment");if(a.Fk()&&d)throw Error("Cannot reassign a suggestion.");var e=jf(),f=Ma();b=DPh(zPh(l7(k7(new j7(e)),b,f),f),this.F.Vg());c&&yPh(b,c);d&&CPh(b,d);c=xPh(new j7(q7(a),a.getId()),b);c=u7(t7(c),!0);x7(d7(this.C),c);d7(this.C).flush();w7(this.D,p7(o7(n7(d?43020:43010),a)))}};
m.Xdb=function(a,b){if(a=d7(this.C).ud(a)){var c=new j7(q7(a),a.getId()),d=null!=a.Rz()?new cPh(a.Rz().C.clone()):new cPh(new HNh);L(d.C,4,b?1:0);Oj(c.C,19,d.C);k7(c);c=u7(t7(c),!0);x7(d7(this.C),c);d7(this.C).flush();w7(this.D,p7(o7(n7(b?43040:43041),a)))}};
m.Ydb=function(a,b,c){if(a=d7(this.C).ud(a)){var d=new j7(q7(a),a.getId());if(c=m7(a,c)){var e=null!=c.Rz()?new cPh(c.Rz().C.clone()):new cPh(new HNh),f=new j7(q7(a),c.getId());L(e.C,4,b?1:0);Oj(f.C,19,e.C);xPh(d,k7(f));d=u7(t7(d),!0);x7(d7(this.C),d);d7(this.C).flush();w7(this.D,p7(mQh(o7(n7(b?43042:43043),a),c)))}}};
m.Kib=function(a,b,c){if(a=d7(this.C).ud(a))if(b=m7(a,b)){var d=Ma();c=l7(k7(new j7(K(b.C,11)||"",b.getId())),c,d);c=xPh(new j7(q7(a),a.getId()),c);c=u7(t7(c),!0);x7(d7(this.C),c);d7(this.C).flush();w7(this.D,p7(mQh(o7(n7(43021),a),b)))}};m.N6b=function(a,b){if(a=d7(this.C).ud(a)){var c=Ma();b=l7(new j7(q7(a),a.getId()),b,c);b=u7(t7(b),!1);x7(d7(this.C),b);d7(this.C).flush()}};
m.Wdb=function(a,b,c){if(a=d7(this.C).ud(a)){if(a.Fk())throw Error("Cannot resolve a suggestion.");var d=jf(),e=Ma();d=DPh(zPh(k7(new j7(d)),e),this.F.Vg());L(d.C,10,b?0:1);c&&l7(d,c,e);c=xPh(new j7(q7(a),a.getId()),d);c=u7(t7(c),!0);L(c.C,6,b);x7(d7(this.C),c);d7(this.C).flush();w7(this.D,p7(o7(n7(b?43014:43015),a)))}};
m.Sdb=function(a,b){var c=d7(this.C),d=c.ud(a);d&&(this.H[v7(c,a)]=Od($d(d.D)),a=APh(k7(new j7(q7(d),d.getId()))),a=u7(t7(a),!0),d.mY()||(d=o7(n7(43017),d),null!=b&&(d.F=b),w7(this.D,p7(d))),x7(c,a),c.flush())};
function PQh(a,b){var c=d7(a.C);if(y7(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ea[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=BPh(k7(new j7(q7(d),d.getId()))),f=a.H[b];delete a.H[b];a=$d(d.J);b=$d(d.D);for(var h=0;h<f.length;h++){var k=f[h];xPh(e,BPh(k7(new j7(K((b[k]||a[k]).C,11)||"",k))))}e=u7(t7(e),!0);x7(c,e);c.flush();return v7(c,d.getId())}
m.xIa=function(a,b){if(a=y7(d7(this.C),a)){var c=a.gI();if(!a.Fk()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=k7(new j7(q7(a),a.getId()));c=(new BNh).setType("application/vnd.google-apps.docs.mds");b=Oj(c,3,b);Oj(a.C,9,b);b=u7(t7(a),!0);x7(d7(this.C),b);d7(this.C).flush()}};m.Iib=function(a,b){if(a=d7(this.C).ud(a)){var c=Ma();b=l7(k7(new j7(q7(a),a.getId())),b,c);b=u7(t7(b),!0);x7(d7(this.C),b);d7(this.C).flush();w7(this.D,p7(o7(n7(43022),a)))}};
m.gdb=function(a,b){(a=d7(this.C).ud(a))&&(b=m7(a,b))&&QQh(this,a,b)};function QQh(a,b,c){w7(a.D,p7(mQh(o7(n7(43016),b),c)));x7(d7(a.C),RQh(b,c));d7(a.C).flush()}function RQh(a,b){b=APh(k7(new j7(K(b.C,11)||"",b.getId())));a=xPh(new j7(q7(a),a.getId()),b);return u7(t7(a),!0)}m.Udb=function(a){var b=y7(d7(this.C),a,!0);a=SQh(d7(this.C),a);b&&a&&QQh(this,b,a)};
m.Tdb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=y7(d7(this.C),d,!0);d=SQh(d7(this.C),d);e&&d&&b.push(RQh(e,d))}TQh(d7(this.C),b,"c")};function UQh(a,b,c,d){b=y7(d7(a.C),b);if(!VQh(a,b))return 0;var e=jf();x7(d7(a.C),WQh(a,b,e,c));d||(d=a.D,c=o7(n7(c?43027:43028),b),c.J=!0,w7(d,p7(c)));return v7(d7(a.C),b.getId(),e)}function VQh(a,b){if(!b)return!1;if(!b.Fk()||!b.gI())throw Error("Attempting to accept/reject a non-suggestion.");return XQh(d7(a.C),b)?!0:!1}
function WQh(a,b,c,d){a=yPh(DPh(zPh(k7(new j7(c)),Ma()),a.F.Vg()),b.gI());L(a.C,10,d?2:3);b=xPh(new j7(q7(b),b.getId()),a);return u7(t7(b),!0)}function YQh(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=y7(d7(a.C),b[h]);if(VQh(a,k)){var l=jf();d.push(WQh(a,k,l,c));e.push(k.getId());f.push(l)}}TQh(d7(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(v7(d7(a.C),e[h],f[h]));return b};function ZQh(){Qo.call(this)}v(ZQh,Qo);function $Qh(a,b){Do.call(this,a);this.Dm=b||null}v($Qh,Do);function aRh(){Jq.call(this,"",void 0,!0);this.Va=new Dq(u(this.C,this));this.qa(this.Va);this.F=null}t(aRh,Jq);aRh.prototype.L=function(a,b,c,d){if(this.F&&!wd(a,"Error in protected function: ")){var e=new fOh;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);bRh(this.F,"rjse",c,void 0,ta,!0,1)}};aRh.prototype.Ja=function(){Jq.prototype.Ja.call(this);delete this.Va};function cRh(a){Qo.call(this);var b=this;this.F=null;this.H=new so;this.qa(this.H);this.C=a;to(this.H,this.C.eH(),function(){"hidden"===b.C.getState()&&(b.D=new LC);"visible"!=b.C.getState()||Qmb(b.D)||(b.dispatchEvent("Bj"),dRh(b))});this.D=new LC;dRh(this)}t(cRh,Qo);cRh.prototype.format=function(a){var b=new LC(a);b=(new LC).getTime()-b.getTime();if(15552E6<b||-864E5>b)return eRh.format(a);b=caf(a.getTime());return fRh.format(a)+(" "+b)};
function dRh(a){var b=new LC;b.add(new KC(0,0,1));b=b.getTime();fq(a.F);a.F=eq(function(){a.dispatchEvent("Bj");dRh(a)},b-Ma(),a)}ua(cRh);var fRh=new OC(7),eRh=new OC(2);function gRh(a,b,c){this.Vx=a;this.src=b;this.C=c};function hRh(a){A.call(this);this.D=a;this.C={};this.J={};this.L=this.D.R;this.fd=0;this.H=[];this.Ma=new Ro(this);this.qa(this.Ma);this.Ma.listen(this.D,"r",this.O)}t(hRh,A);function iRh(a){return"legacy"===a.D.D?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function jRh(a,b,c,d){if(b){var e="dcs-img-"+a.fd++;b.id=e;b.alt=d;a.C[e]=b;a.J[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";kRh(a,e)}}function LOh(a,b,c,d){b&&a.H.push(new gRh(b,c,d))}function lRh(a){eq(function(){for(;this.H.length;){var b=this.H.pop();jRh(this,b.Vx,b.src,b.C)}},0,a)}function e7(a,b){b&&b.id&&(a.Ma.Bc(b,mRh,a.F),delete a.C[b.id],delete a.J[b.id])}hRh.prototype.O=function(){var a=this.D.R;if(this.L!=a&&(this.L=a,!a))for(var b in this.C)kRh(this,b)};
hRh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.D.C.C(b,"")),this.Ma.Bc(b,mRh,this.F),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):e7(this,b)}};function kRh(a,b){a.Ma.listen(a.C[b],mRh,a.F);a.C[b].src=a.J[b]}var mRh=[pf?"readystatechange":"load","abort","error"];function nRh(){TV.call(this);this.ma=!1}v(nRh,TV);function $6(a){return a.get("config")}function f7(a){var b=UV(a,"action_registry");if(!b){b=new iQh;for(var c=Nd(kOh),d=0;d<c.length;d++){var e=c[d];e=O((new Lt(e)).Bj("label",e).Bj("visible",!0).Bj("hint",e).Bj("enabled",!0));b.vu(e);b.qa(e)}a.Af("action_registry",b)}return b}function d7(a){return a.get("stream")}function c7(a){return a.get("imageManager")}function oRh(a){return a.get("subscriptionManager")}
function IQh(a){return a.get("impressionRecorder")}function FOh(a){return UV(a,"errorReporter")}function pRh(a){var b=UV(a,"batchEventTracker");b||(b=new jQh,a.Af("batchEventTracker",b));return b};function qRh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=$6(a).$m}function rRh(a,b){a.C!=b&&(a.C=b,b={Tj:a.D,tOb:a.O,COb:b},f7(a.L).xf("mouse-hover-doco-view").qb(b))};function sRh(a){a=a||{};var b=a.GJ,c=a.B0,d=a.DOb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+VV(c)+"><span class="+VV(d)+">"+R(b)+"</span></div>":"<span class="+VV(d)+">"+R(b)+"</span>");return T(a)};function tRh(a){a=a||{};var b=a.$h,c=a.EB;a=a.RR;return T('<div class="'+U("goog-inline-block")+" "+U("goog-menu-button")+" "+U("docos-docomenu-dropdown")+'">'+(b?R(wOh({$h:""+b,EB:""+c,RR:a})):"")+"</div>")};function uRh(a,b,c){b=c||b;a=a||{};c=T;var d;if(a.zp){var e=b;b=a||{};var f=b.author,h=b.$g,k=b.nN,l=b.kna,n=b.We;a=b.Jm;var q=b.MB,r=b.Fk,w=b.HB,x=b.fza,F=b.GJ,M=b.dY,X=b.dk,S=b.pfa,ca=b.Fva,ma=b.timestamp,wa=b.Wcb,xa=b.oo;f='<div class="'+U("docos-anchoredreplyview")+(n?" "+U(n):"")+(r?" "+U("docos-replyview-suggest"):" "+U("docos-replyview-comment"))+'"><div class="'+U("docos-anchoredreplyview-header")+'"><div class="'+U("docos-anchoredreplyview-avatar-holder")+'">'+R(xOh({size:32,$cb:wa,Koa:k?
""+k:"",W1:Ex(f)&&!h?""+f:"",We:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(q?'<div class="'+U("docos-user-presence")+'"></div>':"")+'</div><div class="'+U("docos-anchoredreplyview-authortimestamp")+'"><div class="'+U("docos-anchoredreplyview-author")+" "+U("docos-author")+'"'+(k?' data-hovercard-id="'+U(k)+'"':"")+(Ex(f)&&!h?' data-name="'+U(f)+'"':"")+">"+(f?R(f):"")+'</div><div class="'+U("docos-anchoredreplyview-timestamp")+" "+U("docos-replyview-timestamp")+'">'+(ma?R(ma):"")+
'</div></div><div class="'+U("docos-anchoredreplyview-buttonholder")+" "+U("hide-on-readonly")+'">';Ex(r)&&Ex(q)?(F=F={oo:xa},F=T(vRh({$c:"docos-accept-suggestion jfk-button-collapse-right",oo:F.oo},e)),xa=xa={dk:X,oo:xa},X=xa.dk,xa=xa.oo,e=""+R(OA({title:"Reject suggestion",style:xa?4:0,$c:"docos-reject-suggestion jfk-button-collapse-left",content:Fx(""+(xa?T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(wOh({$h:"docos-icon-reject-suggestion-cross",EB:"docos-icon-reject-suggestion-cross-size",We:"jfk-button-img"})))),vO:X},e)),e=T(e),e=F+e):w?e="":(X=q?S?T(vRh({$c:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):T(R(OA({$c:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!Ex(S)||!Ex(M)&&F?e="":ca?(S=(S=b)||{},xa=S.MB,F=S.dY,S=S.dk,ca=R(wOh({$h:"docos-icon-thumb-black",EB:"docos-icon-thumb-size",We:"jfk-button-img",
RR:!0}))+'<div class="'+U("like-button-text")+'">',ca+="0</div>",e=""+R(OA({$c:"docos-like-button "+(Ex(xa)&&!F?"jfk-button-collapse-left":""),title:"Like this",content:Fx(ca),vO:S},e)),e=T(e),e=R(e)):(S=(S=b)||{},xa=S.MB,F=S.dY,S=S.dk,ca='<div class="'+U("vote-button-text")+'">',ca+="+1</div>",e=""+R(OA({$c:"docos-vote-button "+(Ex(xa)&&!F?"jfk-button-collapse-left":""),title:"+1 this comment",content:Fx(ca),vO:S},e)),e=T(e),e=R(e)),e=X+e+'<div class="'+U("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
l=f+e+'</div></div><div class="'+U("docos-collapsible-replyview")+" "+(l?"":U("docos-collapsible-replyview-empty"))+'">'+(q||M?"":R(sRh(Cx({B0:""},b))))+'<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-replyview-body")+" "+U("docos-anchoredreplyview-body")+'">'+(l?R(l):"")+'</div><div class="'+U("docos-show-more")+'" role="button" tabindex="0">';l=l+'Show more</div><div class="'+(U("docos-show-less")+'" role="button" tabindex="0" style="display:none">');l+="Show less";q?d=R(sRh(Cx({B0:"docos-root-reply-action-text-wrapper"},
b))):M?d=R(sRh(Cx({B0:"docos-action-text-bottom-wrapper"},b))):d="";l+="</div></div></div>"+(a?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+U("docos-replyview-origin")+" "+U("docos-anchoredreplyview-origin")+'">'+(x?R(x):"")+"</div></div>";d=T(l)}else M=a||{},l=M.author,f=M.$g,e=M.nN,X=M.kna,x=M.zna,a=M.Jm,q=M.fza,xa=M.timestamp,F=M.oo,d=T,M.MB?(a=(a=M)||{},xa=a.author,F=a.nN,q=a.kna,S=a.We,x=a.Jm,M=a.hac,l=a.Pva,f=a.fza,e=a.GJ,X=a.dY,ca=a.timestamp,
b='<div class="'+U("docos-streamrootreplyview")+(S?" "+U(S):"")+'"><div class="'+U("docos-streamdocoview-authorname")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(F?' data-hovercard-id="'+U(F)+'"':"")+(xa?' data-name="'+U(xa)+'"':"")+">"+(xa?R(xa):"")+'</div><div class="'+U("goog-inline-block")+" "+U("docos-actionmenu-outer")+'">'+R(tRh(null,b))+'</div><div class="'+U("docos-streamdocoview-details")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-timestamp")+" "+U("docos-replyview-timestamp")+
" "+U("goog-inline-block")+'">'+(ca?R(ca):"")+'</div><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-streamdocoview-comments-off")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(U("docos-streamdocoview-reopen-control")+" "+U("goog-inline-block")+" "+U("hide-on-readonly")+'" style="display: none"><div class="'+U("docos-streamdocoview-bullet")+
" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-docoview-reopen")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=Hx("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',M&&(b+='<div class="'+U("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(U("docos-replyview-quote")+" "+U("docos-replyview-quote-collapsed")+'">'+R(M)+'<div class="'+U("docos-replyview-quote-collapse")+" "+
U("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(U("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamdocoview-body")+" "+U("docos-replyview-body")+'">'+R(q)+"</div>"+(e?R(sRh(Cx({B0:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+U("docos-streamdocoview-controls")+" "+U("hide-on-readonly")+'"><div class="'+U("docos-streamdocoview-comment-control")+" "+U("goog-inline-block")+
'"><div class="'+U("docos-docoview-comment")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Hx("Reply to this comment"),b+='">Reply</div></div>',l&&(b+='<div class="'+U("docos-streamdocoview-resolve-control")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>',X?(b+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Hx("Mark as done and hide discussion"),
b+='">Mark as done'):(b+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',b+=Hx("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(x?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(f?R(f):"")+"</div></div>",b=T(b)):(b='<div class="'+U("docos-streamreplyview")+'">'+R(xOh({size:F?
32:24,Koa:e?""+e:"",W1:Ex(l)&&!f?""+l:"",We:"docos-replyview-avatar docos-streamreplyview-avatar"}))+'<div class="'+U("docos-streamreplyview-content")+'"><div class="'+U("docos-streamreplyview-text")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamreplyview-author")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(e?' data-hovercard-id="'+U(e)+'"':"")+(l?' data-name="'+U(l)+'"':"")+">"+(l?R(l):"")+"</div>"+R(sRh(M))+' <br><span class="'+U("docos-replyview-body")+" "+U("docos-streamreplyview-body")+
" "+U("docos-replyview-static")+'">'+R(X)+'</span></div><div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamreplyview-timestamp")+" "+U("docos-replyview-timestamp")+" "+U("goog-inline-block")+'">'+(xa?R(xa):"")+"</div>",Ex(x)||Ex(a)?(l=l={Gab:!0,zna:x,Jm:a},x=l.zna,M=l.Jm,l=l.Gab,f='<div class="'+U("docos-replyview-control")+" "+U("docos-replyview-static")+" "+U("goog-inline-block")+" "+U("hide-on-readonly")+'">',M&&(f+=(l?'<div class="'+U("docos-streamdocoview-bullet")+" "+
U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-edit")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',f+=Hx("Make changes to your comment"),f+='">Edit</div>'),x&&(f+=(l?'<div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-delete")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',f+=Hx("Permanently delete your comment"),
f+='">Delete</div>'),x=T(f+"</div>"),x=R(x)):x="",b=b+x+"</div>"+(a?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(q?R(q):"")+"</div></div></div>"),d=d(b);return c(d)}function wRh(){return T('<div class="'+U("docos-showrepliesbutton")+'" style="display:none"><div class="'+U("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function vRh(a,b){a=a||{};var c=a.$c;a=a.oo;var d=T,e;a?e=T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(wOh({$h:"docos-icon-accept-checkmark-black",EB:"docos-icon-accept-checkmark-size",We:"jfk-button-img"}));return d(R(OA({$c:c?""+c:"",style:a?4:0,content:Fx(""+e)},b)))};function xRh(a,b){a=a||{};var c=a.JGa,d=a.$c,e=a.MJa;a=a.NJa;return T('<div class="'+U("goog-inline-block")+(d?" "+U(d):"")+'">'+R(Vkd({Tl:c,$c:e},b))+(c?"<label"+(a?' class="'+U(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function yRh(a,b,c){b=c||b;a=a||{};var d=a.We;c=a.D$;var e=a.vec,f=a.Fna,h=a.OJa,k=a.PFa,l=a.dk,n=a.GJ,q=a.lJ;a='<div class="'+U("docos-input")+(d?" "+U(d):"")+'" style="display: none"><textarea class="'+U("docos-input-textarea")+(h?" "+U(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(n?R(sRh(Cx({B0:"docos-edit-pane-action-text-wrapper",DOb:!0},a))):"")+(e?'<div class="'+U("docos-input-sidearrow-outer")+'"></div><div class="'+U("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+U("docos-input-assignment-panel")+'" style="display: none">'+R(Vkd({$c:"docos-input-assignment-box"},b))+'<div class="'+U("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+U("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+U("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+U("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+
(U("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(U("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(U("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+U("docos-focusedpresenceindicator-container")+'"></div><div class="'+U("docos-input-buttons")+'">'+R(OA({style:2,
$c:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Discard comment";f="";f=c?f+R(c):f+"Cancel";a+=R(OA({$c:"docos-input-cancel",title:d,content:Fx(f),vO:l},b));return T(a+"</div></div>")};function zRh(a,b,c){b=c||b;a=a||{};c=T;if(a.zp){a=a||{};var d=a.author,e=a.mY,f=a.dY,h=a.dk,k=a.oo;a.HB?(a=(a=Cx({author:d,dk:h},a))||{},d=a.author,e=a.dk,f=a.lJ,b=T('<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-draft")+'">'+R(uRh(Cx({author:d,zp:!0,MB:!0,We:"docos-replyview-first"},a),b))+"</div>"+R(yRh({We:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",dk:e,lJ:f},b)))):e?(d=(d=Cx({dk:h,oo:k},a))||{},e=d.Rab,a=
d.dk,f=d.oo,h='<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-smarttodoview")+'"><div class="'+U("docos-smarttodoview-container")+'"><div class="'+U("docos-smarttodoview-header")+'"><table><tr><td class="'+U("docos-icon-explore-container")+'">'+R(wOh({$h:"docos-icon-explore",EB:"docos-icon-explore-size",RR:!0}))+'</td><td class="'+U("docos-smarttodoview-headertext")+'" role="heading"><div class="'+U("docos-smarttodoview-headertext-outer")+'"><div class="'+U("docos-smarttodoview-headertext-inner")+
'">',h=h+'Suggested action item</div></div></td><td><div class="'+(U("docos-overflowmenu-outer")+'">'+R(tRh({EB:"docos-icon-overflow-three-dots-size",$h:"docos-icon-overflow-three-dots",RR:f},b))+'</div></td></tr></table></div><div class="'+U("docos-smarttodoview-body")+'"></div>'),h+=R(yRh({We:"docos-docoview-input-pane",D$:"Dismiss",Fna:"Dismiss suggested action item",dk:a},b)),e&&(h+='<div class="'+U("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+U("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Bad suggestion?</div></div>"),a=h,e?(d=d||{},d=d.dk,e='<div class="'+U("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+U("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+"Tell us why you didn't like this</div><div class=\""+(U("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=R(xRh({JGa:"Not an action item",$c:"docos-smarttodoview-feedback-checkbox-container",MJa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
NJa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=R(xRh({JGa:"Wrong assignee",$c:"docos-smarttodoview-feedback-checkbox-container",MJa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",NJa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+U("goog-inline-block")+" "+U("docos-smarttodoview-writefeedback-link")+'" role="button" tabindex="0">',e=e+'Write feedback</div><div class="'+
(U("docos-smarttodoview-feedback-buttonlist")+'">'),e+=R(OA({style:2,$c:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",vO:d},b)),e+=R(OA({$c:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",vO:d},b)),b=T(e+"</div></div>")):b="",b=T(a+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+U("docos-anchoreddocoview-content")+
" "+U("docos-docoview-replycontainer")+'"><div class="'+U("docos-docoview-rootreply")+'"></div></div><div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+U("docos-unfocusedpresenceindicator-container")+'"></div>';b=T('<div class="'+U("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+U("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else e=a||{},b=e.author,a=e.$g,d=e.nN,e=e.oo,b=T('<div class="'+U("docos-docoview-tesla-conflict")+'">'+
R(xOh({size:e?32:48,Koa:d?""+d:"",W1:Ex(b)&&!a?""+b:"",We:"docos-streamdocoview-avatar"}))+'<div class="'+U("docos-streamdocoview-content")+'"><div class="'+U("docos-docoview-rootreply")+'"></div><div class="'+U("docos-streamdocoview-replycontainer")+" "+U("docos-docoview-replycontainer")+'"></div><div class="'+U("docos-streamdocoview-inputcontainer")+" "+U("hide-on-readonly")+'">'+R(xOh({size:e?32:24,We:"docos-streamreplyview-avatar"}))+'<div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div></div></div></div>');
return c(b)};function ARh(a,b){Do.call(this,a);this.Tj=b}t(ARh,Do);function z7(a){ARh.call(this,"rd",a)}t(z7,ARh);function A7(a,b,c,d,e){Z6.call(this,a,d);this.R=a;this.$a=c;this.eb=[];this.O=null;this.Qa=new qRh(this.R,b,this.zp());this.Lc(b);this.Oa=null;this.bd=e;this.rb=this.xa=null;this.Ed=!0;this.xc=!1}t(A7,Z6);m=A7.prototype;m.uA=ba();m.Lc=function(a){Z6.prototype.Lc.call(this,a);this.Qa.D=a};m.getContext=g("R");m.ud=function(){return d7(this.R).ud(this.getId())||null};m.zl=function(){var a=this.getId();return BRh(this.bd,a)};m.eS=ea(null);m.axa=ea(!1);
m.Ba=function(){var a=this.ud(),b=a.Gw();a=b7(a);var c="Unknown"===b.getName();c=Sy(zRh,{author:b.getName(),$g:b.C,nN:this.C.V&&!c?b.getId():null,zp:this.zp(),dY:!!a,dk:this.C.dk(),oo:"legacy"!=this.C.D});this.zp()||UPh(this.C)||fy(c,"docos-streampanemargin-legacy");this.kb(c);this.Fe(b,a||void 0)};
m.Fe=function(a,b){b=b?COh(b,this.C):void 0;a=a.getName();var c=Md(this.ud().D),d=this.ud().isResolved()?"Resolved":"Open";b=a&&b?(new xB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new xB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new xB("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});by(this.getElement(),b)};m.Ha=function(){Z6.prototype.Ha.call(this);a7(a7(this,this.getElement(),["click","keypress","keyup"],this.vRb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.J7b);Bp(this.getElement(),!0)};m.vd=function(){Z6.prototype.vd.call(this);rRh(this.Qa,!1)};m.B$=ea(!1);
m.aAa=ba();m.ega=function(){if("legacy"==this.C.D&&this.zp()&&(!this.xa||!this.rb)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");fy(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");fy(c,"docos-anchoreddocoview-arrow-outer");this.rb=c;a.Qs(b,this.xa,0);a.Qs(b,this.rb,0)}};m.Xc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Ed;a||this.setVisible(!0);this.O=new Um(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Xc();return this.O.height};m.vRb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.BUa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.J7b=function(a){var b=this.Qa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||rRh(b,"mouseenter"==a.type);a.stopPropagation()};m.OY=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new z7(this.getId()))};m.setVisible=function(a){this.Ed=a;P(this.getElement(),a)};m.isVisible=g("Ed");
function CRh(a){var b=["docos-docoview-tesla-conflict"],c=[];DRh(a,"docos-anchoreddocoview",a.zp(),b,c);DRh(a,"docos-streamdocoview",!a.zp(),b,c);DRh(a,"docos-docoview-active",a.zl(),b,c);UPh(a.C)&&DRh(a,"docos-docoview-active-experiment",a.zl(),b,c);var d=a.ud();DRh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)gy(a.getElement(),b),iy(a.getElement(),c),a.eb=cy(a.getElement())}function DRh(a,b,c,d,e){c&&!ad(a.eb,b)?d.push(b):!c&&ad(a.eb,b)&&e.push(b)}m.sT=da("Oa");
function ERh(a){return a.Oa?a.Oa:a.C.ep}m.getDocoMaxHeight=g("Oa");m.Ja=function(){Z6.prototype.Ja.call(this);delete this.R};function FRh(a,b){this.C=a;this.cb=b}
function GRh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+U("docos-contact-row")+'" title="';f+=Hx("Contact information.");f+='">'+R(xOh({size:32,We:"docos-contact-row-avatar"}))+'<div class="'+U("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+U("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=T(f);d=Ax(d);Me(c,d);d=b.getEmail();d=Cd(gf(b.getName()))?d:b.getName()+" "+d;by(c,d);c=oV(a.cb,"IMG","docos-contact-row-avatar",c);e7(a.C,c);jRh(a.C,c,b.D,Y6(b));
return c};function HRh(a,b,c,d){d=void 0===d?null:d;sA.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new FRh(c7(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.zp());this.D=null}t(HRh,sA);m=HRh.prototype;m.Ha=function(){sA.prototype.Ha.call(this);this.D=bp("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.SRb).listen(this.getElement(),"focus",this.wy).listen(this.getElement(),["mousedown","blur"],this.B_a)};
m.SRb=function(a){this.C&&this.C.ud()==d7(this.L).O||(this.Fd(!this.rf()),this.B_a());a.stopPropagation()};m.wy=function(){fy(this.D,"docos-assignee-select-focus")};m.B_a=function(){hy(this.D,"docos-assignee-select-focus")};m.bf=function(a){return this.Qb()&&2>this.Qb().zc()?!1:sA.prototype.bf.call(this,a)};m.jg=function(a){this.C&&this.C.ud()==d7(this.L).O&&(this.Qb()&&2>this.Zh()||sA.prototype.jg.call(this,a))};function IRh(a){return(a=a.Bf())?a.Vg():null}
m.Se=function(a){sA.prototype.Se.call(this,a);var b=a.getElement();b&&(fy(b,"docos-assignee-select-menu"),"legacy"!=this.H.D&&fy(b,"docs-gm"),this.O&&a.render(this.H.L))};m.qm=function(){var a=this.Qb().getElement();Qw(a,"width",this.J.offsetWidth+"px");sA.prototype.qm.call(this);var b=parseInt(Rw(a,"top"),10)||0,c=Xw(this.J).x;this.O?(c-=Xw(this.H.L).x,b+=-2):b+=-1;Uw(a,c,b)};function JRh(a){var b=new bm;if(!a.Qb())return b;a.Qb().Xe(function(c){b.add(c.Vg())});return b}
m.update=function(a,b){if(!JRh(this).equals(new bm(a))||IRh(this)!=b){for(var c=new Qz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new KRh(f,this.R,this.oa());f==b&&(d=h);c.Ga(h,!0)}this.Se(c);uA(this,d);P(this.getElement(),1<this.Zh())}};m.reset=function(){this.Qb().qd();uA(this,null)};function KRh(a,b,c){var d=c.createElement("div");Lz.call(this,d,void 0,c);this.D=a;this.C=b;this.F=GRh(this.C,this.D,d)}t(KRh,Lz);m=KRh.prototype;m.Ba=function(){Lz.prototype.Ba.call(this);fy(this.getElement(),"docos-assignee-select-item")};
m.Ha=function(){Lz.prototype.Ha.call(this);this.getHandler().listen(this.getElement(),"click",this.RRb)};m.Vg=g("D");m.Rg=ea("");m.RRb=function(a){a.stopPropagation()};m.Ja=function(){Lz.prototype.Ja.call(this);var a=this.F;a&&e7(this.C.C,a)};function LRh(){MRh(this)}t(LRh,Sa);LRh.prototype.hA=function(a){Xca(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};LRh.prototype.cleanup=function(){this.D.clear();this.C=null};LRh.prototype.iterator=function(){if(!this.C){var a=new kNh,b=this.D;a.C=[];var c=b.Rf();b=c;var d=a.C;c=c.length;var e=0,f=0;Ta(b,d)&&(b=b.slice(f,f+c),f=0);var h=f;for(f+=c;h<f;){var k=Math.min(h+1E4,f);c=k-h;h=b.slice(h,k);h.splice(0,0,e,0);Array.prototype.splice.apply(d,h);h=k;e+=c}this.C=a}return this.C.nj()};
LRh.prototype.nj=function(){return this.iterator()};function MRh(a){var b=new WNh,c=new iNh;SMh(c);b.C=c;a.D=b;a.C=null};function NRh(a){MRh(this);this.F=a}t(NRh,LRh);NRh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();ORh(b,this.F)}};NRh.prototype.get=g("F");function PRh(a,b,c){return new QRh(a,b,c)}function QRh(a,b,c){this.C=RRh(a,b);this.ge=c;this.F=!1;this.D=-1;SRh(this,0)}QRh.prototype.B5=g("F");QRh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function RRh(a,b){for(var c=[],d={},e=0;e<b.length;d={pU:d.pU,r9:d.r9},e++){d.r9=b[e];var f=d;var h=new NRh(null);f.pU=h;d.r9.H(a.token,a.E$,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.pU.set(new TRh(l,n,r,k.r9.getType(),w,q)):r&&k.pU.set(URh())}}(d))||d.pU.set(URh());c.push(d.pU)}return c}function SRh(a,b){if(!a.F)if(b>=a.C.length)a.ge(URh()),a.close();else{a.D=b;var c=a.C[b];dc(a);Zca(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&ORh(a,b)}}
function ORh(a,b){b.isEmpty()?(a.C[a.D].hA(a),SRh(a,a.D+1)):(a.ge(b),b.complete&&a.close())}function VRh(a,b,c){this.token=a;this.E$=b;this.C=c}function TRh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}TRh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function URh(){return new TRh([],new vAd(!1),!0,0,!1,void 0)};function WRh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function XRh(a){this.n$b=a}t(XRh,mfb);function YRh(a){this.C=a};function ZRh(){this.className="docos-ac-highlighted"}ZRh.prototype.Iua=function(a,b,c){Cd(b)||c.C&&/^\W/.test(b)?c=null:(b=df(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Tx(a,c)};
ZRh.prototype.Tx=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Tx(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Uo(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Kp(b,f)),f=h,h=Kp(b,""),b.Cw(f,a),b.Cw(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function $Rh(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.yma=!0;a=new aSh("\n",null,!0);nNh(a);a.n4a=!1;a.V=null;a.R=null;f=new bSh(f,k,this);f.R=!0;f.fDa=!1;f.O=!0;f.className="docos-ac";h&&sgb(f,h,void 0,h);DB.call(this,this,f,a);this.L.wh=this;this.Ia=c.map(function(n){return new cSh(n)});this.Oa=new ZRh;this.vsa(Xo(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Qa=l;this.Ea=!1;this.Ca=null}v($Rh,DB);var dSh=/[\n]$/;m=$Rh.prototype;
m.RI=function(a,b,c){var d=this,e=Ma(),f=this.L.D;this.R&&this.R.To("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=eSh(this.L,a),l=fSh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new XRh(new WRh(e,f,n.getType(),h,x,F,w)),w.Mza=!h,w.jda=r.$ma,c(a,q,w),h=!1)})}else b=PRh(new VRh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new XRh(new WRh(e,f,q.type,
h,q.complete,q.F,q.D));r.Mza=!h;q.C&&(r.jda=q.C.$ma);c(a,q.rows,r);h=!1}}),this.C=new gSh(b,this.Qa)}else c(a,[])};function fSh(a,b,c){return a.Ia.filter(function(d){return d.F(b,c)})}
m.Rw=function(a,b){b||(b=new mfb);$Rh.Ua.Rw.call(this,a,b);if(b instanceof XRh){this.Ca=b.n$b;var c=hSh(this,this.Ca,a.length,!1);b=this.Ca;var d=c,e=Ma()-b.startTime,f=Ma()-b.J;this.R&&(b.C&&(this.R.To("dac",e,d.serialize()),this.R.To("dact",f,d.serialize())),b.D&&(this.R.To("dacfr",e,d.serialize()),this.R.To("dacfrt",f,d.serialize())))}else this.Ca=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=iSh[a])&&h.Qja;b.C=a}else b.C&&0==d&&(h=(h=iSh[b.C])&&
h.tka,b.C=null);h&&jSh(b,h,c)}};function hSh(a,b,c,d){var e=new ONd;e=L(e,1,c).setType(kSh(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,EB(a,a.J)),L(c,6,b.L));return lNh(c)}function kSh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}m.pr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.vQ()&&this.Oa.Iua(c,a.data.vQ().D,new YRh(a.data.vQ().C)))};
m.xB=function(){var a=sfb(this)?this.F[EB(this,this.J)]:null,b;this.Ca&&(b=hSh(this,this.Ca,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=iSh[a.getType()])&&jSh(c,a.ija,b);c.C=null}this.Ea=!0;return $Rh.Ua.xB.call(this)};m.oh=function(){if(!this.Ea&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&iSh[a.C];b&&jSh(a,b.qaa);a.C=null}this.Ea=!1;$Rh.Ua.oh.call(this)};function lSh(a){return sfb(a)?a.F[EB(a,a.J)].getId():null}
m.Ja=function(){$Rh.Ua.Ja.call(this);Nf(this.Ia);this.C&&(this.C.cancel(),this.C=null)};function aSh(a,b,c,d){this.D=0;GB.call(this,a,b,c,d)}v(aSh,GB);aSh.prototype.jg=function(){this.wh.rf()&&this.wh.oh()};aSh.prototype.Og=function(a){this.D=Ma();return(37===a.keyCode||39===a.keyCode)&&this.wh.rf()||38===a.keyCode&&this.wh.rf()&&-1===this.wh.J?(this.wh.oh(),!0):aSh.Ua.Og.call(this,a)};
aSh.prototype.fF=function(a,b){var c=null;if(a){c=a.QW();var d=mSh(this,a.getToken());c={start:c.Wk()+d,end:c.jw()+d}}b=aSh.Ua.fF.call(this,a,b);if(a){d=c.end;var e=this.Rl;e&&(FB(e,c.start),xfb(e,d));a.i7()}return b};function mSh(a,b){var c=a.Ho();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function eSh(a,b){return a.Ho()-mSh(a,b)}function cSh(a){this.D=a}
cSh.prototype.H=function(a,b,c,d){var e=a.replace(dSh,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new nSh(q,a)}),h,k,l,n)})};cSh.prototype.getType=function(){return this.D.getType()};cSh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function nSh(a,b){this.C=a;this.D=b}m=nSh.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.C.getType()};m.vQ=function(){return this.C.vQ()};m.QW=function(){return this.C.QW()};m.render=function(a){this.C.render(a)};
m.i7=function(){this.C.i7()};m.getToken=g("D");m.toString=function(){var a=dSh.test(this.D)?"\n"[0]:"";return this.QW().C+a};function gSh(a,b){var c=this;this.D=a;this.C=eq(function(){c.C=null;c.D.close()},b)}gSh.prototype.cancel=function(){null!==this.C&&(fq(this.C),this.C=null);this.D.close()};function bSh(a,b,c){YB.call(this,a,c);this.La=!!b}v(bSh,YB);
bSh.prototype.Yc=function(){bSh.Ua.Yc.call(this);by(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Vw(this.getElement()),b=this.La?-2:-1;Uw(this.getElement(),a.x,a.y+b)}};function oSh(a){this.C=null;this.D=a}function jSh(a,b,c){if(c){var d=new hk;Oj(d,11,c)}a.D&&a.D(b,void 0,d)}var pSh={},iSh=(pSh[1]={Qja:43002,tka:43004,qaa:43006,ija:43E3},pSh[2]={Qja:43003,tka:43005,qaa:43007,ija:43001},pSh[3]={Qja:43068,tka:43069,qaa:43066,ija:43067},pSh[4]={Qja:43072,tka:43073,qaa:43070,ija:43071},pSh);function qSh(a,b,c,d){Qo.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new cC(a);Jo(this.F,"input",this.L,!1,this);rSh(this)}v(qSh,Qo);qSh.prototype.L=function(){rSh(this)};function rSh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Ap(a.H,String(1==a.J?b:a.D-b))}qSh.prototype.Ja=function(){qSh.Ua.Ja.call(this);delete this.C;this.F.dispose();this.F=null};function sSh(a,b){return tSh(a,b,!1)}function uSh(a,b){return tSh(a,b,!0)}function tSh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?yd(n,h):Bd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function vSh(a,b,c,d,e,f,h){b.getEmail();this.Dc=a;this.D=b;this.fd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(vSh,A);m=vSh.prototype;m.Vg=g("D");m.getId=g("fd");m.getType=g("L");m.vQ=g("H");m.QW=g("J");m.render=function(a){this.C=GRh(this.Dc,this.D,a)};m.i7=ba();m.Ja=function(){var a=this.C;a&&e7(this.Dc.C,a)};function wSh(a,b){this.C=a;xSh(this.C);this.D=b}function ySh(a,b){for(var c=0,d=b-1;0<=d;d--)if(zSh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(zSh.has(a[b])){d=b;break}return{text:a.slice(c,d),kJ:c,uG:d}}function ASh(a,b){for(var c=0,d=b-1;0<=d;d--)if(BSh.has(a[d])&&(0==d||zSh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(zSh.has(a[b])){d=b;break}return{text:a.slice(c,d),kJ:c,uG:d}}
function CSh(a,b,c,d,e,f,h,k,l){return a.C.Fo(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,gY(VNh(r))?w=(new oY(VNh(r))).setSize(96).Wy():w=VNh(r)||null,w=YOh(VOh(XOh(new g7,r.getEmail()).dd(r.getName()),w).Lc(""))):w=null;return{gcb:r,XC:w}}).filter(function(r){return r.XC}).map(function(r,w){var x=r.XC;w=h+w;r=r.gcb.getType();var F=new qS(d,!0),M=c;x.getName()&&(M=DSh(x.getName(),b,M));var X="+"+x.getEmail(),S=zSh.has(b[M.uG]);return new vSh(a.D,x,w,k,F,new rS(b.slice(0,
M.kJ)+X+(S?"":" ")+b.slice(M.uG),M.kJ+X.length+1,M.kJ+X.length+1),r)});l(n,!q.pk(),a.C.C)},e)}
function DSh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(ESh).filter(function(l){return!!l}),e=b.slice(0,c.uG).split(ESh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.uG-a,{text:b.slice(a,c.uG),kJ:a,uG:c.uG};f++}return c}
var zSh=new Set([" ","\t","\n"]),BSh=new Set(["@","+"]),ESh=/[ ]/;var FSh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
GSh=new bm(["everybody","nobody"]);function HSh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(HSh,A);HSh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=ySh(a,b);var f=ISh(this,b.text);a=CSh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,JSh,f.query.length,k,l)});this.C=a.pk()?a:null;return!0};
HSh.prototype.F=function(a,b){a=ySh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||ad(FSh,a.text.trim().toLowerCase())||GSh.contains(a.text.trim().toLowerCase())?!1:!0};function ISh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:he}:null!=a[2]?{query:a[2],filter:uSh}:null!=a[3]?{query:a[3],filter:sSh}:null}HSh.prototype.getType=ea(2);HSh.prototype.Ja=function(){delete this.C};var JSh=new vAd(!1);function KSh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}v(KSh,A);KSh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=ASh(a,b);var f=LSh(this,b.text);a=CSh(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,MSh,f.query.length,k,l)});this.C=a.pk()?a:null;return!0};KSh.prototype.F=function(a,b){a=ASh(a,b);return this.D.test(a.text)};
function LSh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:he}:null}KSh.prototype.getType=ea(1);KSh.prototype.Ja=function(){delete this.C};var MSh=new vAd(!0);var NSh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,OSh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function PSh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Dd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function QSh(a){this.C=new DL(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");xSh(this.J)}function RSh(a,b){var c=YOh(UOh(XOh(new g7,b).Lc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Fo(b,1,u(a.L,a,b)))}QSh.prototype.L=function(a,b){if(null!==b&&0<b.length&&ET(this.C,a)){b=b[0];var c=null;gY(VNh(b))?c=(new oY(VNh(b))).setSize(96).Wy():c=VNh(b)||null;b=YOh(VOh(XOh(new g7,a).dd(b.getName()),c).Lc(""));this.C.set(a,b)}delete this.H[a]};
function SSh(a){return a.C.C.next.value||null}function TSh(a){return a.F?a.D:null};function USh(a,b,c){Do.call(this,c)}v(USh,Do);function VSh(a){a=a.INb;return T('<div class="'+U("docos-presenceindicator")+" "+U(a)+'">Someone is typing...</div>')};function WSh(a,b,c){Z6.call(this,a,b);this.D=c}t(WSh,Z6);WSh.prototype.Ba=function(){this.kb(Sy(VSh,{INb:this.D}))};WSh.prototype.Ha=function(){Z6.prototype.Ha.call(this);this.setVisible(!1)};WSh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function XSh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;Z6.call(this,a,b);this.Oa=a;this.R=new PA("",b);var e=this.C.dk();this.R.wO=e;this.Ga(this.R);this.O=new PA("",b);this.Ga(this.O);this.V=b.Wb().body;this.D=c;this.H=new QSh(this.Oa);this.Ea=this.Ya=null;this.xa=new HRh(b,this.C,this.Oa,this.D);this.J=(this.Bd="legacy"!=this.C.D)?new hR(b):new iR(!1,b);this.$a=!1;this.La=!d;c=px.getInstance();this.Fc=qx(c);this.jc=qx(c);this.xc=qx(c);this.Jb=null;z(y(),"docs-edp")&&(this.Jb=new WSh(a,b,"focused-presenceindicator"));
this.Rb=0;this.Ca=null;this.rb="Comment draft";this.Ta=this.Nc=null;this.eb=!0;this.ma=!1;this.ob=this.jb=this.L=this.Pa=this.Qa=null;this.Ia=!1}t(XSh,Z6);m=XSh.prototype;m.Ba=function(){this.Ec(Sy(yRh,{dk:this.C.dk(),lJ:this.C.Ea},void 0,this.oa()))};
m.Ec=function(a){Z6.prototype.Ec.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.F=b.bb("docos-input-textarea",a);this.La||P(this.F,this.La);var c=new dC;c.Wa(this.F);this.qa(c);this.Ta=b.bb("docos-input-at-reply-message",a);this.Ta.setAttribute("id",this.Fc);this.Qa=b.bb("docos-input-acl-fixer-message",a);this.Qa.setAttribute("id",this.jc);this.Pa=b.bb("docos-input-assignment-message",a);this.Pa.setAttribute("id",this.xc);this.Ea=b.bb("docos-input-assignment-panel",a);c=
this.xa;var d=this.Ea;c.J=d;Zz(c,new Uz(d,9));this.Ya=b.bb("docos-input-assignee-text",a);c=b.bb("docos-input-assignee-select",a);this.xa.Wa(c);this.xa.Na(!0);if(c=b.bb("docos-input-assignment-box",a))this.J.Wa(c),gR(this.J,this.Ya);c=YSh(this);if(0<c.length){d=!this.D||!this.D.zp();var e;d?e=this.C.L:this.D&&(e=this.D.getElement());this.L=new $Rh(this.C,this.F,c,new oSh(this.C.$a),this.C.O||void 0,e||void 0,this.F||void 0,d);this.qa(this.L)}if(e=b.bb("docos-input-cancel",a))this.O.Wa(e),by(e,this.O.Hl());
(a=b.bb("docos-input-post",a))&&this.R.Wa(a);this.Jb&&this.D.zp()&&(a=this.oa().bb("docos-focusedpresenceindicator-container",this.getElement()),this.Jb.render(a))};function YSh(a){var b=[],c=new FRh(c7(a.Oa),a.oa());c=WPh(a.C)?new wSh(a.Oa.get("contactStore"),c):null;if(WPh(a.C)){var d=new KSh(c);a.qa(d);b.push(d)}d=XPh(a.C).map(function(e){return e.F()});kd(b,d);WPh(a.C)&&(c=new HSh(a.C.og,c),a.qa(c),b.push(c));return b}
m.Ha=function(){Z6.prototype.Ha.call(this);lOe(this.getElement(),!1);this.jb=new qSh(this.F,null,2048);this.qa(this.jb);this.ob=new cC(this.F);this.qa(this.ob);a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(this,this.ob,"input",this.ezb),this.F,"keydown",this.FE),this.F,"keyup",this.WRb),this.F,"keypress",this.VRb),this.O,"action",this.URb),this.R.getElement(),["click","keypress","keyup"],this.H2a),this.R,"action",this.GUa),this.Ea,"click",this.T5b),this.J,"change",this.V5b),this.J.Zl(),"keypress",this.W5b),
this.Ea,["keyup","keypress"],this.U5b),this.xa,"action",this.S5b),this.F,"pointerdown",this.TRb);this.L&&(a7(this,this.L,"update",this.Xpb),a7(this,this.L,"suggestionsupdate",this.G3a));this.F[ZSh]=u(this.blur,this);this.F[$Sh]=u(this.c7b,this);this.O.getElement()&&(a7(this,this.O.getElement(),["click","keypress","keyup"],this.H2a),this.O.Na(!0));if(this.D&&b7(this.D.ud())&&vQh(this.D.ud())){var a=this.H,b=X6(b7(this.D.ud())).getEmail();b&&!ET(a.C,b)&&RSh(a,b);a.C.isEmpty();a=this.H;b=SSh(this.H);
ad(a.C.Kd(),b);a.D=b;a.F=!0;this.J.$b(!0)}this.F.value=this.Ca||"";Ux(this.F,"label",this.rb);this.Ia=!0;YPh(this.C)&&(Bp(this.getElement(),!0),by(this.getElement(),"This is the input pane."))};m.TRb=function(a){bj&&yf(73)&&a.target.setPointerCapture(a.pointerId)};m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return this.F?this.F.value:""};
m.setValue=function(a){this.F.value=a};m.isEmpty=function(){return Cd(this.getValue())};function B7(a){return!Cd(a.getValue())&&!a.Ia}m.Fe=da("rb");m.reset=function(a){this.ma||this.isDisposed()||(this.F.value=this.Ca||"",Ux(this.F,"label",this.rb),this.Ia=!0,pf?eq(this.JRa,0,this):this.JRa(),C7(this,a),this.F&&(this.F.style.height=""),a||aTh(this),bTh(this,"none"))};
function bTh(a,b){if(a.Ta&&a.Qa&&a.Pa){P(a.Ta,"atReplyMessage"==b);P(a.Qa,"aclFixerMessage"==b);P(a.Pa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Fc;break;case "assignmentMessage":d=a.xc;break;case "aclFixerMessage":d=a.jc}null!=d?Ux(c,"describedby",d):Vx(c,"describedby")}}}m.ready=function(a,b,c){this.isDisposed()||(this.Ia&&(this.Nc=!b&&a||"",this.F.value=a||"",this.Ia=!1),fy(this.getElement(),"docos-input-typing"),c||this.focus(),C7(this))};
m.blur=function(){this.D&&this.dispatchEvent(new Do("b",this.D))};m.focus=function(){pf||eq(this.FUa,0,this);this.FUa()};m.FUa=function(){this.isDisposed()||hx(this.F)&&this.F.focus()};m.JRa=function(){this.isDisposed()||hy(this.getElement(),"docos-input-typing")};
function C7(a,b){var c=Dd(a.getValue());c=!a.Ia&&c!=a.Nc;a.R.Na(!a.ma&&(!a.La||c&&!a.isEmpty()));a.G3a();var d=cTh(a),e=a.H.D,f=a.H.C.Kd().length;if(a.La){var h=a.H;var k=a.getValue(),l=d?X6(d):void 0;d=PSh(OSh,k);k=h.C;h.C=new DL(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];ET(k,q)?h.C.set(q,k.get(q)):RSh(h,q)}l&&(l=gf(l.getEmail()),!Cd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=SSh(h))?k.getEmail():null;(h.F||l==n)&&l&&ET(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
dTh(a,!1);e=0==f&&h;f=a.C;rY(f.ah)&&Cj(rY(f.ah),31)&&e&&!a.ma&&Cj(f.ah,33)&&!f.R&&!f.ma&&(e=f.$j,f=SSh(a.H)?SSh(a.H).getEmail():null,e&&f&&e([f]));e=h&&!a.$a&&a.D&&!a.D.ud().isResolved()&&a.La&&(a.D.axa()||!!hQh(a.D.ud()));Cj(a.C.ah,38)&&(e?(a.J.Na(!a.ma),a.xa.Na(!a.ma),a.xa.update(a.H.C.Kd(),d),e=EOh(d,a.C,!!cTh(a)),f=a.xa.getElement(),Ap(a.Ya,e),by(f,e+". Choose an assignee."),jy(a.Ya,"docos-input-assignee-text-no-chevron",!hx(f)),P(a.Ea,!0),eTh(a,!0)):(dTh(a,!1),a.J.Na(!1),a.xa.reset(),P(a.Ea,
!1),eTh(a,!1)));a.ma&&WPh(a.C)&&!a.H.C.isEmpty()?bTh(a,"aclFixerMessage"):a.eb&&WPh(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?bTh(a,"assignmentMessage"):a.eb?bTh(a,"atReplyMessage"):bTh(a,"none"):bTh(a,"none");(e=TSh(a.H))&&a.D?(f=!!cTh(a),e=EOh(e,a.C,f),f=f?"Reassign":"Assign"):a.$a?(e="Save changes",f="Save"):!a.D||a.D.ud().HB()?(e="Post Comment",f="Comment"):a.D.ud().mY()?(e="Assign suggested action item",f="Assign"):(e="Reply to comment",f="Reply");a.R.getElement()&&$6(a.Oa).C.C(a.R.Ka(),e);Ap(a.R.getElement(),
f);fTh(a);c?(gTh.contains(a)||(gTh.add(a),a.dispatchEvent(new USh(a.D.getId(),1,"pr"))),fy(a.getElement(),"docos-input-nohide")):(hTh(a),hy(a.getElement(),"docos-input-nohide"));b||a.dispatchEvent("s")}function hTh(a){gTh.contains(a)&&(gTh.remove(a),a.dispatchEvent(new USh(a.D.getId(),0,"pr")))}
m.G3a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.rf()&&(this.getElement().setAttribute("aria-autocomplete","list"),sfb(this.L)&&this.getElement().setAttribute("aria-activedescendant",lSh(this.L)))};function eTh(a,b){if(b=b&&a.D)b=a.D,b=b.zp()&&b.xc;b?(a.C.rt||ge)("docosTodos",u(a.l8b,a)):(a.C.ai||ge)("docosTodos")}m.l8b=function(){this.dispatchEvent("ph")};function dTh(a,b){a.J.$b(b);a.H.F=b}
function cTh(a){return a.D&&!a.D.ud().HB()&&hQh(a.D.ud())?b7(a.D.ud()):null}m.H2a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.URb=function(){this.dispatchEvent("c");this.reset()};m.GUa=function(){if(this.R.isEnabled()){var a=this.H.C.hf(),b=this.C;if(Cj(b.ah,33)&&!b.R&&!b.ma&&!bd(a)&&(b=this.C.tm)){bTh(this,"aclFixerMessage");this.ma=!0;C7(this);this.O.getElement()&&this.O.Na(!1);b(a,u(this.Gob,this));return}iTh(this)}};
m.T5b=function(){this.ma||(dTh(this,!this.J.isChecked()),C7(this))};m.V5b=function(){var a=this.J.isChecked();this.H.F=a;C7(this)};m.W5b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.$b(a.LD?!1:!0),this.J.dispatchEvent("change"),this.R.focus())};m.U5b=function(a){a.stopPropagation()};m.S5b=function(){this.J.$b(!0);var a=this.H,b=IRh(this.xa);ad(a.C.Kd(),b);a.D=b;a.F=!0;C7(this)};
m.Gob=function(a){this.ma&&(this.ma=!1,"continue"==a?iTh(this):bTh(this,"atReplyMessage"),this.D.getContext()&&(C7(this),this.O.getElement()&&this.O.Na(!0)))};function iTh(a){pf&&a.D&&a.D.ud().HB()&&Mf(a.jb);a.dispatchEvent("p");a.reset()}m.c7b=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new Do("f",this.D))};function fTh(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=ex(a.F).height;return b!=c&&0<d?(dx(a.F,d+c-b),!0):!1}
m.FE=function(a){fTh(this)&&this.dispatchEvent("s");this.Rb=a.keyCode;if(13==a.keyCode)jTh?a.metaKey&&vf&&bj&&kTh(this,a):kTh(this,a);else if(27==a.keyCode){sf&&a.preventDefault();if(this.L&&this.L.rf())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new Do("e",this.D));aTh(this)}a.stopPropagation()};
m.WRb=function(a){fTh(this)&&this.dispatchEvent("s");var b=this.Rb;this.Rb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.bd){xd(this.getValue(),"\n")?this.FE(a):a.preventDefault();return}this.bd=!1}a.stopPropagation()};m.VRb=function(a){if(13==a.keyCode&&jTh)kTh(this,a);else if(27==a.keyCode){if(this.L&&this.L.rf())return;this.blur();aTh(this)}a.stopPropagation()};function kTh(a,b){if(b.ctrlKey||b.metaKey)a.bd=!0,a.R.getElement().focus(),a.GUa()}
function aTh(a){a.V&&(pf&&!yf("9")?a.V.focus():eq(function(){return a.V.focus()}))}m.ezb=function(){C7(this)};m.Xpb=function(){C7(this)};m.Ja=function(){Z6.prototype.Ja.call(this);hTh(this);this.F&&(this.F[ZSh]=null,this.F[$Sh]=null);delete this.F;delete this.jb;delete this.ob};var gTh=new bm,ZSh=pf?"onfocusout":"onblur",$Sh=pf?"onfocusin":"onfocus",jTh=vf||of||sf;tf&&yf("530");function lTh(a,b,c,d,e,f,h){d=void 0===d?0:d;ARh.call(this,a,b);this.fn=c||null;this.Lp=d;this.C=e||null;this.X0=h}t(lTh,ARh);function mTh(a){this.C=$6(a)};function nTh(a,b){b.mY()?a.V+=1:b.HB()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Fk()?(b=wQh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function oTh(a,b,c,d,e){this.Tj=a;this.C=b||null;this.fn=c||null;this.Lp=d||null;this.flags=e||null};function pTh(a,b,c,d){Do.call(this,b,a);this.source=c;this.C=d}t(pTh,Do);function qTh(a,b){this.F=a;this.D=b;this.C=[]}function rTh(a){return new pTh(a.F,"bu",a.D,a.C)};function sTh(){this.D={};this.C={};this.F=0}function tTh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function uTh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new vTh(c,d);a.C[c][d||"$"]=b}sTh.prototype.bind=function(a,b){if(null!==tTh(this,a,b))return!1;this.F++;uTh(this,this.F,a,b);return!0};function wTh(a,b,c){var d=tTh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function xTh(a,b,c,d,e){var f=tTh(a,b,c);if(null===f||null!==tTh(a,d,e))return!1;wTh(a,b,c||void 0);uTh(a,f,d,e);return!0}
function yTh(a,b,c){return tTh(a,b,c)||0}sTh.prototype.getDocoHandles=function(){for(var a=Od(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function vTh(a,b){this.C=a;this.D=b||null};function zTh(){this.D={}}zTh.prototype.C=function(a){vQh(a)||(this.H(a),a.JR()&&(this.D[a.getId()]=!0))};zTh.prototype.H=function(a){delete this.D[q7(a)];delete this.D[a.getId()]};zTh.prototype.F=function(){return!Ud(this.D)};function ATh(a){this.J=a;this.D=new zTh}ATh.prototype.C=function(a){this.D.C(a);a=this.J.Hi;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};ATh.prototype.H=function(a){this.D.H(a)};ATh.prototype.F=function(){return this.D.F()};function BTh(a){Qo.call(this);this.Ca=a;this.C={};this.O=null;this.F={};this.H=[];this.Ia=[];this.Ea={};this.L={};this.D=new sTh;this.La=[];this.V=!1;this.ma=this.J=null;this.Oa=!1;this.xa=new ATh(this.Ca)}v(BTh,Qo);function CTh(a,b){a.Fk();var c="<i>Made a suggestion</i>";(a=a.M3())&&(b=b.zs)&&(b=b(a).C())&&(c=b);return c}function DTh(a,b){return"n"!=b&&!vQh(a)&&a.JR()}
function ETh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new qTh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=r7(d);h.C.push(new oTh(b,c,d,e,f));k&&a.dispatchEvent(rTh(h))}
function x7(a,b,c,d){c=c||"c";var e=FTh(a),f=GTh(a,b.getId(),K(P6(b.C),11)||"");if(f){var h=f.getId(),k=i7(f.C);b=b.C;var l=Uj(f.F);P6(b);var n=P6(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!i7(f.C);for(var w=(void 0===K(n,13)||0==K(n,13))&&i7(f.C),x=O6(n),F=!1,M=0;M<x.length;M++){var X=x[M],S=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;S||(S=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!S);if(S){var ca=S.getId();S.update(X);if(ca!=S.getId()&&(delete f.D[ca],f.D[S.getId()]=S,yTh(f.O,
r,ca)&&!xTh(f.O,r,ca,r,S.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+S.getId());i7(S)?(delete f.D[S.getId()],f.J[S.getId()]=S,wTh(f.O,r,S.getId())):F&&!i7(S)&&(delete f.J[S.getId()],f.D[S.getId()]=S,f.O.bind(r,S.getId()))}else S=new tPh(X),i7(S)?(f.J[S.getId()]=S,wTh(f.O,r,S.getId())):(f.D[S.getId()]=S,delete f.J[S.getId()],f.O.bind(r,S.getId())),S=O6(P6(f.F)),S.push(X),X=P6(f.F),Qj(X,8,S)}r=0;void 0!==Cj(b,6)&&Cj(b,6)!=f.isResolved()&&(r=Cj(b,6)?r|2:r|4);q&&!F?r|=16:w&&
(r|=8);Qj(n,8,[]);q&&(n.setContent(void 0),Oj(n,4,void 0),Oj(n,9,void 0));POh(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.UR=null;Tj(f.F,l)||(r|=1);b=r;a.xa.C(f);HTh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],l=yTh(a.D,h),delete a.Ea[l],a.C[f.getId()]=f,l&&!xTh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=yTh(a.D,f.getId());i7(f.C)?(delete a.C[f.getId()],wTh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ea[l]=f),DTh(f,c)&&(dd(a.H,f.getId()),dd(a.Ia,
f.getId())),d=DQh(CQh("dd"),c),k=f.getId(),d.D=k,k=r7(f),d.Dr=k,d.C=l,d=EQh(d,b),h!=f.getId()&&(d.F=h),a.dispatchEvent(GQh(d))):(k&&(delete a.F[f.getId()],delete a.Ea[l],a.C[f.getId()]=f,(a.Ca.Ia||r7(f))&&a.D.bind(f.getId()),l=yTh(a.D,f.getId())),0!=b&&(DTh(f,c)&&dd(a.H,f.getId()),ETh(a,c,h,f,l,b,d)))}else f=new tQh(b.C,a.D,b.Zs?b.Zs:void 0),a.xa.C(f),i7(f.C)?a.F[f.getId()]=f:ITh(a,f,c,d);FTh(a)!=e&&(e=FTh(a)?32:0,c=GQh(EQh(DQh(CQh("p"),c),e)),a.dispatchEvent(c))}
function TQh(a,b,c){for(var d=new qTh(a,c),e=0;e<b.length;e++)x7(a,b[e],c,d);a.dispatchEvent(rTh(d))}function KQh(a,b){b.getNewDocoType()||zQh(b,"draft");b=new tQh(b.C,a.D,b.Zs?b.Zs:void 0);a.xa.C(b);ITh(a,b)}
function ITh(a,b,c,d){if(Cj(a.Ca.ah,38)||!b.isTodo()){c=c||"c";var e=null;b.Sz()&&(e=JTh(a,r7(b)));e&&vQh(e)?(xTh(a.D,e.getId(),null,b.getId(),null),OQh(a,e.getId(),c)):(a.Ca.Ia||b.Sz())&&a.D.bind(b.getId());a.C[b.getId()]=b;HTh(a,b);e=8|(b.isResolved()?2:0);DTh(b,c)&&dd(a.H,b.getId());var f=yTh(a.D,b.getId());ETh(a,c,void 0,b,f,e,d)}}
function OQh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Sz()){var e=r7(d);delete a.L[r7(d)]}a.xa.H(d);d=yTh(a.D,b);delete a.C[b];wTh(a.D,b);c=DQh(CQh("dd"),c);c.D=b;c.C=d;b=EQh(c,16);void 0!=e&&(b.Dr=e);a.dispatchEvent(GQh(b))}}function D7(a,b){var c=null;b&&(c=a.ud(b));a.O=c}function XQh(a,b){b=b.getId();return ad(a.La,v7(a,b))}BTh.prototype.R=function(a){return(this.Ca.Ia||a.Sz())&&(!a.isResolved()||this.V)};function KTh(a){var b=$d(a.C);be(b,a.F);return b}
function LTh(a){var b=new bOh;a=Nd(KTh(a));for(var c=0;c<a.length;c++)nTh(b,a[c]);return cOh(b)}function MTh(a){function b(d){return d.JR()}var c=Uc(Nd(a.C),b);a=Uc(Nd(a.F),b);return c.concat(a)}function FTh(a){return a.Oa?a.xa.F():!1}function NTh(a){for(var b=0;b<a.H.length;b++){var c=a.H[b],d=a.ud(c);d||(d=a.F[c]);if(d&&d.JR())return!0}return!1}BTh.prototype.ud=function(a){return this.C[a]};function GTh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}
function HTh(a,b){r7(b)&&(i7(b.C)?delete a.L[r7(b)]:a.L[r7(b)]=b)}function JTh(a,b){var c=a.L[b]||null;return c&&r7(c)!=b?(delete a.L[b],null):c}function y7(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function SQh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?m7(a,b):null:null}BTh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function v7(a,b,c){return yTh(a.D,b,c)}
BTh.prototype.flush=function(a){this.dispatchEvent(GQh(FQh(DQh(CQh("f"),"c"),!!a)));this.dispatchEvent(GQh(DQh(CQh("af"),"c")))};function OTh(a,b){a=a.ma;if(!a)return null;b=b.Gc(a.getKey());if(!b)return null;a=b.bb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new $m(b,b+a.height)}function PTh(a,b){return(a=QTh(a,b))?new sY(a.getKey().getId(),a.getValue()):null}
function QTh(a,b){var c=a.J;if(!c)return null;var d=a.ma;if(!d)return null;var e=d.getKey();e=$d(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=s7(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+RTh(h,c,b);if(k>d)return new sY(h,d-a);a=k}return null}function STh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Nq('<span class="%s">%s</span>',d,h));c+=h}return c}
function RTh(a,b,c){a=TTh(a,c);if(!a)return 0;a=mp(a).textContent.toLowerCase();return Fga(a,b.toLowerCase())}function TTh(a,b){var c=a.tga();if(!c){var d=UTh();a.Fk()?c=YL(d,CTh(a,b)):a.getContent()?c=YL(d,a.getContent()):c=null}return c}function UTh(){var a=Cjc();a.F=he;return new wjc(a)};function VTh(a,b){this.C=a;this.D=b};function WTh(a,b,c){this.C=a;this.D=b;this.F=c};function XTh(a,b,c,d){Z6.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new PA(null);this.F=this.J=this.H=null;this.qa(this.D)}t(XTh,Z6);m=XTh.prototype;m.Ec=function(a){Z6.prototype.Ec.call(this,a);this.H=this.oa().bb("like-button-text",a);this.J=this.oa().bb("docos-icon",a);this.F=this.oa().bb("docos-icon-img",a);this.D.Wa(this.getElement())};m.Ha=function(){a7(this,this.D,"action",this.HRb);a7(this,this.getElement(),["click","keypress","keyup"],this.GRb);this.update()};m.DUa=da("L");
m.GRb=function(a){a.stopPropagation()};function YTh(a){var b=d7(a.R).ud(a.L);return null!=a.O?m7(b,a.O):b}m.HRb=function(a){a.stopPropagation();a=f7(this.R);var b=YTh(this).Rz();b=!b||1!=h7(b);null!=this.O?a.xf("docos-vote-reply").qb(new WTh(this.L,b,this.O)):a.xf("docos-vote-doco").qb(new VTh(this.L,b))};
m.update=function(){var a=YTh(this).Rz(),b=!a||0==dPh(a,1).length&&1!=h7(a);hy(this.H,"no-votes");!b||fy(this.H,"no-votes");iy(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);iy(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?fy(this.F,"docos-icon-thumb-black"):1==h7(a)?(fy(this.J,"current-user-has-up-vote"),fy(this.F,"docos-icon-thumb-green")):0<dPh(a,1).length&&(fy(this.J,"post-has-votes-no-current-user-vote"),fy(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=dPh(a,1),b=h7(a),c=c.length,1==b&&c++);Ap(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==h7(a))&&(b="Unlike this"),a=dPh(a,1),0<a.length))for(b=hf(b,"\n"),c&&(b=hf(b,"\n","You")),c=0;c<a.length;c++)b=hf(b,"\n",Y6(TOh(N(a[c].C,pY,1))));this.D.getElement()&&$6(this.R).C.C(this.D.Ka(),b)};function ZTh(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+U("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+U("docos-shadow-prompt")+'"><td class="'+U("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+U("docos-shadow-contents")+'">';
a+=R(OA({id:"docos-shadow-confirm",content:Fx("Delete")},b));a+=R(OA({id:"docos-shadow-cancel",content:Fx("Cancel")},b));return T(a+"</td></tr></table></td></tr></table></div></div></div>")};function $Th(a,b){Z6.call(this,a,b);this.D=this.J=this.L=this.V=this.Ca=this.R=this.ge=null;this.H=new PA(null,b);this.Ga(this.H);this.F=new PA(null,b);this.Ga(this.F);this.Jg=this.O=null;this.ma=!1;this.xa=new GA(this);this.qa(this.xa);a=f7(a);this.xa.Pb(a.Ra("docos-highlight-doco"),rt,this.m1)}v($Th,Z6);var aUh=null;function bUh(a,b){aUh||(aUh=new $Th(a,b),aUh.render());return aUh}var cUh={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};m=$Th.prototype;
m.Ba=function(){this.kb(Sy(ZTh,{},void 0,this.oa()))};
m.Ha=function(){$Th.Ua.Ha.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Wa(a.getElement("docos-shadow-cancel"));this.H.Na(!0);this.F.Wa(a.getElement("docos-shadow-confirm"));this.F.Na(!0);this.O=new oC(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);pC(this.O);this.Jg=new py(a.Wb());this.qa(this.Jg);this.ma=!0}a7(a7(a7(a7(this,this.H,"action",this.ieb),this.F,"action",this.jeb),this.getElement(),
["keyup","keydown"],this.keb),this.Jg,"focusin",this.wy)};m.prompt=function(a,b,c,d,e,f){this.sb()&&this.vd();if(c!=this.V){var h=cUh[c];h&&this.oa().Le(this.L,h);this.V=c}this.ge=b;this.R=a;this.J=e||null;b=ex(a);bx(this.D,b);b=Sw(a,"paddingLeft");c=Sw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?rx(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ca=d.getId(),this.getHandler().listen(d,"rd",this.leb))};
m.vd=function(){$Th.Ua.vd.call(this);this.J=this.R=this.ge=null};m.m1=function(){bx(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();rp(this.getElement());this.sb()&&this.vd()};m.jeb=function(){this.ge&&this.ge();this.m1()};m.keb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.m1())};m.ieb=function(){this.m1()};m.leb=function(a){a.target&&a.target.getId()==this.Ca&&this.R&&P(this.getElement(),!0)};
m.wy=function(a){a=a.target;yp(this.getElement(),a)||this.m1()};function dUh(a,b){return 1==b&&!a.C&&!a.getId()};function eUh(a,b,c,d){Z6.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new PA(null);this.F=null;this.qa(this.D)}t(eUh,Z6);m=eUh.prototype;m.Ec=function(a){Z6.prototype.Ec.call(this,a);this.F=this.oa().bb("vote-button-text",a);this.D.Wa(this.getElement())};m.Ha=function(){a7(this,this.D,"action",this.QRb);a7(this,this.getElement(),["click","keypress","keyup"],this.PRb);this.update()};m.DUa=da("H");m.PRb=function(a){a.stopPropagation()};
function fUh(a){var b=d7(a.L).ud(a.H);return null!=a.J?m7(b,a.J):b}m.QRb=function(a){a.stopPropagation();a=f7(this.L);var b=fUh(this).Rz();b=!b||1!=h7(b);null!=this.J?a.xf("docos-vote-reply").qb(new WTh(this.H,b,this.J)):a.xf("docos-vote-doco").qb(new VTh(this.H,b))};
m.update=function(){var a=fUh(this).Rz();iy(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==h7(a)?fy(this.F,"current-user-has-up-vote"):0<dPh(a,1).length&&fy(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=dPh(a,1);b=h7(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Ap(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==h7(a))&&(b="Remove your +1"),a=dPh(a,1),0<a.length))for(b=hf(b,"\n"),c&&(b=hf(b,"\n","You")),c=0;c<a.length;c++)b=
hf(b,"\n",Y6(TOh(N(a[c].C,pY,1))));this.D.getElement()&&$6(this.L).C.C(this.D.Ka(),b)};function gUh(a,b,c,d,e,f,h){Z6.call(this,a,d);this.F=a;this.ob=$6(this.F).O;this.og=new mTh(a);this.O=b;this.H=e;this.Xg=h||"";this.Ae=u(this.IRb,this);this.D=null;this.Lc(f||"root");this.Qa=c;this.Jb=!0;this.Ya=2;this.Vd=!1;this.Ne=this.F.get("relativeDateFormatter");this.Nc=this.Pa=this.Ea=this.Oa=this.Wd=this.Ta=this.$a=this.eb=this.Bd=this.xc=this.bd=this.jc=this.xa=this.Pf=this.Rb=this.rb=this.Ca=this.kf=this.R=this.L=this.J=this.V=this.ma=this.La=this.Fc=this.Ia=null;this.jb=new wjc(Bjc(["data-rawHref"]));
a7(this,this.Ne,"Bj",u(this.lUa,this,!0))}t(gUh,Z6);m=gUh.prototype;m.ud=function(){return d7(this.F).ud(this.O)};function hUh(a){return m7(a.ud(),a.getId())}function E7(a){return F7(a)?a.ud():hUh(a)}
m.Ba=function(){var a=this.oa(),b=E7(this),c=b.Gw(),d=iUh(this),e=jUh(this);if(F7(this)&&vPh(this.ud().C)){var f=Dd(vPh(this.ud().C));f=f.replace(kUh,"<br>").replace(lUh," ");f=YL(this.jb,f)}else f=null;var h=f;f="legacy"!=this.C.D;var k="Unknown"===c.getName();b=Sy(uRh,{author:c.getName(),$g:c.C,nN:this.C.V&&!k?c.getId():null,kna:e||"",We:this.Xg,zp:this.Qa,zna:mUh(this),Jm:G7(this),Pva:d,MB:F7(this),Fk:b.Fk(),hac:h?h:"",fza:nUh(this),GJ:oUh(this),dY:!!E7(this).TB(),dk:this.C.dk(),pfa:this.C.pfa(),
Fva:this.C.Fva(),timestamp:pUh(this),Wcb:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",oo:f},void 0,a);this.kb(b);d=a.bb("docos-accept-suggestion",b);h=a.bb("docos-reject-suggestion",b);this.jc=a.bb("docos-body-action-text",b);this.xc=a.bb("docos-anchoredreplyview-buttonholder",b);this.Oa=a.bb("docos-author",b);d&&h&&(this.ma=new PA(null,a),k=this.C.dk(),this.ma.wO=k,this.qa(this.ma),this.V=new PA(null,a),this.qa(this.V),this.ma.Wa(d),this.V.Wa(h));if(k=a.bb("docos-replyview-resolve-button",
b)){this.J=new PA(null,a);var l=this.C.dk();this.J.wO=l;this.qa(this.J);this.J.Wa(k)}(k||d&&h)&&qUh(this);d=this.oa();h=d.bb("docos-vote-button",b);k=d.bb("docos-like-button",b);if(h||k)h?(this.R=new eUh(this.F,this.O,d,F7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(h)):k&&(this.R=new XTh(this.F,this.O,d,F7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(k));d=a.bb("docos-overflowmenu-outer",b);(G7(this)||mUh(this)||F7(this))&&d&&(f=Sy(tRh,{$h:"docos-icon-overflow-three-dots",EB:"docos-icon-overflow-three-dots-size",
RR:f}),a.appendChild(d,f),Qw(d,"visibility",""),f=[],G7(this)&&(f=f.concat(["edit"])),mUh(this)&&(f=f.concat(["delete"])),F7(this)&&(this.C.xc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new ZPh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Wa(d));this.Ia=a.bb("docos-replyview-body",b);this.kf=a.bb("docos-streamreplyview-text",b)||this.Ia;this.Ca=a.bb("docos-collapsible-replyview",b);this.rb=a.bb("docos-replyview-timestamp",b);F7(this)&&vPh(this.ud().C)&&
(this.xa=a.bb("docos-replyview-quote",b),this.eb=a.bb("docos-replyview-quote-expand",b),this.Ta=a.bb("docos-replyview-quote-collapse",b));(this.Rb=a.bb("docos-show-less",b))&&rUh(this);this.Pf=a.bb("docos-show-more",b);this.Wd=a.Yh("docos-replyview-static",b);G7(this)&&this.D&&sUh(this);(G7(this)||mUh(this))&&(this.$a=a.bb("docos-replyview-control",b))&&P(this.$a,!this.ud().isResolved());this.Ea=oV(a,"IMG","docos-replyview-avatar",b);if(f=a.bb("docos-user-presence",b))d=this.C,c=(h=d.Bd)&&c.getId()?
h(c.getId()):(d=d.Oz)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Pa=a.bb("docos-replyview-origin",b);tUh(this);e&&(this.La=e,uUh(this,Ee(e)),vUh(this),wUh(this));xUh(this)};
function xUh(a){if(YPh(a.C)){var b={AUTHOR_NAME:E7(a).Gw().getName(),CREATION_TIME:pUh(a)};if(a.Ia.textContent)if(oUh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ia.textContent;b.ACTION_TEXT=oUh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ia.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=oUh(a);c=(new xB(c)).format(b);by(a.getElement(),c)}}
function yUh(a){var b=a.ud();if(b)if(b.isResolved()){if(a.H.bBa(!1),b=a.ud())b.Fk(),zUh(a,!1,OOh(a.H))}else a.dispatchEvent("br"),a.H.bBa(!1),(b=a.ud())&&(b.Fk()?AUh(a):zUh(a,!0,OOh(a.H))),a.dispatchEvent("ar")}function BUh(a){a.D||(a.D=new XSh(a.F,a.oa(),a.H),a.qa(a.D),a.Ga(a.D),a.D.Ca="Edit your comment...",a.D.eb=!1,a7(a7(a7(a,a.D,"p",a.Uec),a.D,"c",a.BGa),a.D,"s",a.JRb),a.getElement()&&sUh(a))}
function sUh(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Qa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):F7(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=oUh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");d=Sy(yRh,{We:c,OJa:d,Fna:e,GJ:f,dk:a.C.dk(),lJ:a.C.Ea});c=a.getElement();e=b.bb("docos-edit-pane-placeholder",c);b.tC(d,e);a.D.Wa(d);a.D.setVisible(!1);d=a.H.getElement();a.D.V=d;a.bd=b.bb("docos-edit-pane-action-text",c)}
m.B8b=function(a){a&&a.stopPropagation();yUh(this)};
m.Ha=function(){Z6.prototype.Ha.call(this);a7(this,this.getElement(),["click","keypress","keyup"],this.KRb);this.xa&&(a7(a7(this,this.Ta,"click",this.k3a),this.eb,"click",this.k3a),CUh(this));this.J&&a7(this,this.J,"action",this.B8b);this.ma&&this.V&&a7(a7(a7(this,this.ma,"action",this.J5b),this.V,"action",this.A8b),this.C,"r",this.LRb);this.L&&a7(a7(a7(this,this.L,"d",this.x6b),this.L,"e",this.MRb),this.L,"ra",this.s8b);var a=E7(this).Gw();DUh(this,a);this.Oa&&EUh(this,a);FUh(this,a);this.D&&(a=
this.H.getElement(),this.D.V=a);this.collapse();YPh(this.C)&&Bp(this.getElement(),!0)};m.LRb=function(){qUh(this)};
function qUh(a){var b=a.ud();if(b){var c=E7(a);if(c){var d=c.Fk();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.gI())return;d=a.C.F;d=c.Fk()&&"full"==d.C&&XQh(d7(a.F),b)&&!a.C.ma;var e=a.C.F;b=c.Fk()&&(GPh(e,c)||"full"==e.C)&&XQh(d7(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&$6(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&$6(a.F).C.C(a.V.getElement(),f);a.ma.Na(d);a.V.Na(b)}else hQh(b)?
(c=!0,a.J.Na(!1),P(a.J.getElement(),!1)):(c=iUh(a),a.J.Na(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":d7(a.F).V?"Mark as resolved":"Mark as resolved and hide discussion",a.C.pfa()||Ap(a.J.getElement(),d),a.J&&a.J.getElement()&&$6(a.F).C.C(a.J.Ka(),b));!a.xc||null!==a.Bd&&a.Bd==c||(P(a.xc,c),a.Bd=c)}}}}function GUh(a){var b=U6(T6(S6(a.H.getId()),a.H.$a)),c=f7(a.F);c.xf("docos-before-highlight-doco").qb(b);D7(d7(a.F),a.H.getId());c.xf("docos-highlight-doco").qb(b)}
m.MRb=function(){GUh(this);HUh(this)};m.x6b=function(){GUh(this);F7(this)?this.H.Z1a():IUh(this)};m.s8b=function(a){GUh(this);this.dispatchEvent(new ARh("ra",this.O));a.stopPropagation()};function DUh(a,b){var c=b.D,d=c7(a.F);a.Ea&&dUh(b,E7(a).getOrigin())&&(c=iRh(d),fy(a.Ea,"docos-avatar-unverified"),a.C.C.C(a.Ea,"Author from imported document"));LOh(d,a.Ea,c,Y6(b))}function EUh(a,b){(b=b.getName())?(b=YL(a.jb,b),Me(a.Oa,b)):(b=YL(a.jb,""),Me(a.Oa,b))}
function FUh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Oa&&a.C.C.C(a.Oa,c),a.Ea&&a.C.C.C(a.Ea,c))}function JUh(a,b){a.J&&a.oa().Ri(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Ri(a.ma.getElement(),b),a.oa().Ri(a.V.getElement(),b));a.L&&a.L.Sh(b);a.R&&a.oa().Ri(a.R.getElement(),b)}function KUh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.zl()&&this.Jb&&CUh(this);var a=this.D&&G7(this)&&B7(this.D),b=jUh(this),c=Ee(b),d=!this.La||Ee(this.La)!=c;d&&(this.La=b,Me(this.Ia,b),wUh(this));vUh(this);uUh(this,c);F7(this)||this.dispatchEvent(new z7(this.getId()));G7(this)&&this.$a&&!a&&P(this.$a,!this.ud().isResolved());b=E7(this).Gw();DUh(this,b);this.Oa&&EUh(this,b);FUh(this,b);tUh(this);if(this.Qa&&!a){switch(this.Ya){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.zl()?this.expand():this.collapse()}rUh(this)}this.lUa();
d&&(this.D&&this.D.sb()&&this.D.reset(!0),this.BGa());qUh(this);this.R&&this.R.update();this.L&&this.L.update();xUh(this)};m.uA=function(){if(this.Fc){var a=LUh(this,this.Fc);a.Lo()!=this.La.Lo()&&(this.La=a,Me(this.Ia,this.La),wUh(this))}};function jUh(a){var b=E7(a),c=b.tga();if(!c){c=b.getContent();var d=b.Zwa();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Fk()&&(c=CTh(b,a.C));c=YL(a.jb,c)}a.Fc=c;return LUh(a,c)}
function LUh(a,b){var c=d7(a.F),d=c.J;if(!d)return b;a=(c=PTh(c,a.C))&&c.getKey()==E7(a).getId()?c.getValue():void 0;c=UTh();var e=kp("DIV");e.appendChild(mp(YL(c,af(d))));d=e.innerHTML;e.replaceChild(mp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new $m(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new $m(f,r)),f=r):k||((w=Bd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new $m(f,r+1)),h=STh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=STh(q,b,h);h+=b.slice(f,b.length);return YL(c,h)}m.lUa=function(a){if(this.rb){var b=pUh(this);b&&(a&&(this.rb.textContent=b),a=E7(this),F7(this)||this.Qa||a.gy().equals(a.xQ())||(this.rb.textContent=b))}};function pUh(a){var b=a.Ne,c=E7(a),d=c.gy();return d?a.Qa||F7(a)||!(a=c.xQ())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return hx(this.getElement())};m.JRb=function(a){this.dispatchEvent(new z7(this.O));a.stopPropagation()};function IUh(a){var b=a.getElement();b&&(a.C.ob?(b=a.C.jb,b(function(){return a.Ae()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):bUh(a.F,a.oa()).prompt(b,a.Ae,"delete-reply",a,a.H.getElement(),!a.Qa))}
m.KRb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!F7(this)&&ey(c,"docos-replyview-delete")&&b?(IUh(this),a.stopPropagation(),a.preventDefault()):ey(c,"docos-replyview-edit")&&b?(HUh(this),a.stopPropagation(),a.preventDefault()):ey(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new z7(this.O)),this.Rb.focus()):ey(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new z7(this.O)),this.Pf.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&yp(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function MUh(a,b){var c=a.ud();if(!c||XQh(d7(a.F),c)){var d=E7(a);d&&d.gI()&&(c=a.C.H[b])&&(a=v7(d7(a.F),a.O))&&(d=d.Sz&&d.Sz()&&!d.isResolved()?r7(d):void 0,b=(new W6(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function AUh(a){var b=a.ud();b&&b.Fk()&&MUh(a,"before-suggestion-accepted")}m.J5b=function(){var a=Date.now();AUh(this);this.ob&&this.ob.To("dsabb",Date.now()-a)};function zUh(a,b,c){var d=a.ud(),e=a.H;e.D&&B7(e.D)&&e.D.setValue("");d&&!d.Fk()&&d.isResolved()!=b&&f7(a.F).xf("docos-resolve-doco").qb(new IOh(a.O,b,c||null))}m.A8b=function(){var a=Date.now();MUh(this,"before-suggestion-rejected");this.ob&&this.ob.To("dsrbb",Date.now()-a)};
m.expand=function(){E7(this).Fk()||(hy(this.Ca,"docos-collapsed-replyview"),this.Ya=150>=this.Ca.offsetHeight?2:1,rUh(this))};m.collapse=function(){!E7(this).Fk()&&this.Qa&&(hy(this.Ca,"docos-collapsed-replyview"),150>=this.Ca.offsetHeight?this.Ya=2:(this.Ya=0,fy(this.Ca,"docos-collapsed-replyview")),rUh(this))};function rUh(a){if(!E7(a).Fk()){var b=1==a.Ya;b!=a.Vd&&(a.Rb.style.display=b?"block":"none",a.Vd=b)}}function F7(a){return"root"==a.getId()}
function mUh(a){var b=E7(a);return b?IPh(a.C.F,b)&&!a.C.ma:!1}function G7(a){var b=E7(a);return b?HPh(a.C.F,b):!1}function iUh(a){var b=a.ud();return b?JPh(a.C.F,b):!1}m.IRb=function(){if(this.isDisposed())return!1;f7(this.F).xf("docos-delete-reply").qb({Tj:this.O,rAa:this.getId()});return!0};function HUh(a){G7(a)&&(BUh(a),NUh(a,!1),a.Ca&&a.expand(),a.D.setVisible(!0),a.D.$a=!0,a.D.ready(E7(a).yx()))}
m.BGa=function(){G7(this)&&(NUh(this,!0),this.Ca&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.$a=!1))};m.Uec=function(){if(G7(this)){BUh(this);var a=f7(this.F),b=this.D.getValue();Cd(b)||(F7(this)?a.xf("docos-edit-doco").qb({id:this.O,text:b,Ipa:this.D}):(b={Tj:this.O,rAa:this.getId(),text:b,Ipa:this.D},a.xf("docos-edit-reply").qb(b)))}};function NUh(a,b){for(var c=0;c<a.Wd.length;++c)P(a.Wd[c],b)}
m.k3a=function(){var a=ey(this.xa,"docos-replyview-quote-collapsed");P(this.eb,!a);P(this.Ta,a);this.Jb=!a;a?ly(this.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):ly(this.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function CUh(a){!a.xa||0>=ex(a.xa).height||(ly(a.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<ex(a.xa).height?(P(a.eb,!0),P(a.Ta,!1),ly(a.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.eb,!1),P(a.Ta,!1)),a.Jb=!0)}m.vd=function(){Z6.prototype.vd.call(this);e7(c7(this.F),this.Ea)};function tUh(a){var b=nUh(a);b?(b=YL(a.jb,b),Me(a.Pa,b),P(a.Pa,!0)):P(a.Pa,!1)}
function nUh(a){var b=E7(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=rY(a.ah)&&Cj(rY(a.ah),33)&&b.yva()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function oUh(a){var b=a.og;var c=E7(a),d=a.ud();c&&d?(a=c.rga(),0==a&&b7(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.TB(),c=(d=hQh(d))&&d.getId()!=c.getId(),a=X6(a),b=DOh(a,b.C,!0),b=c?(new xB("Reassigned to {user}")).format({user:b}):(new xB("Assigned to {user}")).format({user:b})):b=""):b="";return b}function uUh(a,b){b=-1==ne(b,!0);if(null===a.Nc||b!=a.Nc)lOe(a.kf,b),a.Nc=b}
function vUh(a){var b=oUh(a);a.jc&&Ap(a.jc,b);a.bd&&Ap(a.bd,b)}function wUh(a){if(a.C.Jb)for(var b=Zo("A",a.Ia),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Kf(d,Mo,a.e6b)}}m.e6b=function(a){ZNe(this.C.Jb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var lUh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,kUh=/[\n-\x0B]/g;function OUh(a,b){Z6.call(this,a,b);this.D=!1}v(OUh,Z6);OUh.prototype.Ba=function(){var a=this.oa();this.kb(Sy(wRh,{},void 0,a));this.F=a.bb("docos-showrepliesbutton-collapsed",this.getElement())};OUh.prototype.setVisible=function(a){a!=this.D&&this.sb()&&(P(this.getElement(),a),this.D=a)};OUh.prototype.isVisible=g("D");OUh.prototype.Ja=function(){OUh.Ua.Ja.call(this);delete this.F};function H7(a,b,c,d,e){A7.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new gUh(a,b,this.zp(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Fc=u(this.ARb,this);this.Wd=IQh(a);this.Ia="docos-docoview-input-pane";this.jc="";this.Jb=this.Nc=null;this.ob=!1;this.J=null;YPh(this.C)&&(a=new mB(this),this.qa(a),a.mj("up",38),a.mj("down",40),this.getHandler().listen(a,"shortcut",this.Jub))}t(H7,A7);
function PUh(a){a.D||(a.D=new XSh(a.getContext(),a.oa(),a),a.qa(a.D),a.D.Ca="Reply...",a.D.Fe("Reply"),a.vBa(),a.getElement()&&QUh(a))}m=H7.prototype;m.Jub=function(a){switch(a.identifier){case "down":a=RUh(this);var b=SUh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=RUh(this),b=SUh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function RUh(a){var b=s7(a.ud(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function SUh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Np(e);if(d==f||e.contains(d,f))return c}return-1}
function QUh(a){var b=a.oa(),c=Sy(yRh,{We:a.Ia,OJa:"",Fna:a.jc,GJ:"",dk:a.C.dk(),lJ:a.C.Ea}),d=a.getElement(),e=b.bb("docos-input-pane-placeholder",d);b.tC(c,e);a.D.Wa(c);a.D.V=d}m.vBa=function(){this.D&&a7(a7(a7(a7(a7(this,this.D,"p",this.FRb),this.D,"c",this.DRb),this.D,"b",this.CRb),this.D,"e",this.ERb),this.D,"s",this.OY)};
m.Ba=function(){A7.prototype.Ba.call(this);var a=this.getElement(),b=this.oa();this.D&&QUh(this);Sx(a,"listitem");this.Jb=b.bb("docos-docoview-replycontainer",a);this.Nc=b.bb("docos-docoview-rootreply",a);this.F.render(this.Nc);TUh(this)};m.Ha=function(){A7.prototype.Ha.call(this);a7(this,this.getElement(),["keydown","keypress","keyup"],this.BRb);if(this.D){var a=this.getElement();this.D.V=a}Bp(this.getElement(),!0)};m.Db=g("Jb");
m.Lc=function(a){A7.prototype.Lc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&aQh(b.L,a);b.R&&b.R.DUa(a)}};m.zp=ea(!1);m.BUa=function(a){if(!ey(a.target,"docos-noclick")){var b=f7(this.getContext()),c=T6(S6(this.getId()),this.$a);b.xf("docos-before-highlight-doco").qb(U6(c));D7(d7(this.R),this.getId());b.xf("docos-highlight-doco").qb(U6(qOh(c)));this.ma=!0;this.yYa(a)}};m.yYa=ba();
m.BRb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&e9a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&KPh(this.C.F)&&this.ma&&(PUh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.Z1a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ud().Fk())this.Fc("suggestion");else if(b){var c=function(){return a.Fc("discussion")};this.C.ob?(0,this.C.jb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):bUh(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function TUh(a){for(var b=s7(a.ud()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new gUh(a.getContext(),a.getId(),a.zp(),a.oa(),a,e);a.Ff(f,vx(a,c)+1,!0);c=a.H[e]=f}}}m.FRb=function(){if(this.D){var a=this.D.getValue(),b=TSh(this.D.H);b=b?aPh(b):void 0;if(!Cd(a)){var c=v7(d7(this.getContext()),this.getId());this.dispatchEvent(new lTh("sr",this.getId(),r7(this.ud()),c,a,void 0,b))}}};m.DRb=function(){LQh(this.Wd,sQh(rQh(qQh(pQh(43012),this.ud().getId()),r7(this.ud()))))};
m.CRb=function(){this.zl()&&(this.ma=!0)};m.ERb=function(){this.zl()&&(this.ma=!0)};m.focus=function(){PUh(this);var a=this.zl();a&&hx(this.getElement())&&KPh(this.C.F)&&(this.ma=!0);if(a){var b=this.oa();a=Np(b);(pf&&!a||!b.contains(this.getElement(),a))&&eq(function(){this.sb()&&!b.contains(this.getElement(),Np(b))&&this.getElement().focus()},0,this)}};
function UUh(a){var b=a.ud();if(b){var c=null,d;b:{for(d=vx(a,a.F);d<a.zc();d++){var e=a.Cc(d);if((e=e==a.J?null:e)&&2==(hUh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.zc();d++)if(e=a.Cc(d),e=e==a.J?null:e){if(2!=(hUh(e)||b).getOrigin())break;P(e.Pa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Pa,!0)}}
m.update=function(){var a=this.ud();this.F.update();this.Fe(a.Gw(),b7(a)||void 0);TUh(this);for(var b in this.H){var c=this.H[b];m7(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.ob&&(this.ob=a.isResolved(),PUh(this),this.ob?(this.D.Ca="Adding a comment will re-open this discussion...",this.D.Fe("Adding a comment will re-open this discussion")):(this.D.Ca="Reply...",this.D.Fe("Reply")),!a.isResolved()&&B7(this.D)||this.D.reset(!0));CRh(this);!this.zl()&&
this.D&&this.D.blur();UUh(this);a=this.Qa;b=this.getElement();a.C&&b&&a.F&&(fx(b).contains(new Lm(a.H,a.J))||rRh(a,!1))};m.ARb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");f7(this.getContext()).xf("docos-delete-doco").qb({fn:r7(this.ud()),Tj:this.getId(),Lp:v7(d7(this.getContext()),this.getId()),YS:a});return!0};function VUh(a){f7(a.getContext()).xf("docos-resolve-doco").qb(new IOh(a.getId(),!1,null))}function OOh(a){return a.D&&B7(a.D)?a.D.getValue():null}
function WUh(a){var b=a.getContext(),c=a.ud();c&&w7(IQh(b),p7(o7(n7(43045),c)));a=a.getId();f7(b).xf("docos-speak-doco").qb(a)}m.bBa=ba();m.Ja=function(){A7.prototype.Ja.call(this);this.J&&delete this.J;delete this.Jb;delete this.H;delete this.D};function XUh(a,b,c,d,e){H7.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Ea=new JOh(a,d,b,this);this.La=this.jb=this.Pa=null;this.Ta=new mB(this);this.qa(this.Ta);b=this.Ta;b.mj("backToDocument",85);b.mj("resolve",69);b.mj("blur",27);b.mj("next",74);b.mj("next",Ht(["N","C"]));b.mj("prev",75);b.mj("prev",Ht(["P","C"]));b.mj("speakComment",Ht(["A","C"]));b.mj("reply",82);this.getHandler().listen(this.Ta,"shortcut",this.wRb);this.getHandler().listen(this,"rd",this.xRb);this.Ya=!1;this.Ia+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Rb=null;z(y(),"docs-edp")&&(this.Rb=new WSh(a,d,"unfocused-presenceindicator"));this.Bd="legacy"!=this.C.D;this.Ca=null}t(XUh,H7);m=XUh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&d7(this.R).J&&this.uA();H7.prototype.setVisible.call(this,a)};m.uA=function(){this.F.uA();for(var a in this.H)this.H[a].uA()};m.Lc=function(a){H7.prototype.Lc.call(this,a);this.Ea&&this.Ea.Lc(a)};m.zp=ea(!0);m.eS=function(){return this.ud()?r7(this.ud()):null};
m.Ba=function(){H7.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Pa=a.bb("docos-replyview-control",b);this.jb=a.bb("docos-anchoreddocoview-internal",b);this.La=a.bb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ud(),d=!!c&&JPh($6(this.getContext()).F,c);jy(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=b7(c))a=a.bb("docos-anchoreddocoview-assigneecontainer",b),this.Ea.render(a),YUh(this,c);this.D&&(a=this.getElement(),
this.D.V=a);this.Rb&&(a=this.oa().bb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Rb.render(a))};m.Ha=function(){H7.prototype.Ha.call(this);var a=this.ud();a&&b7(a)&&this.Ff(this.Ea,vx(this,this.F));CRh(this);2<=Md(this.ud().D)&&(a=ZUh(this))&&$Uh(this,a);this.J_(!0);UUh(this);aVh(this);a7(a7(this,this,"show",this.HYa),this,"hide",this.GYa)};
m.vd=function(){var a=this.ud();if(a)if(this.D&&B7(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Bc(this,"show",this.HYa);this.getHandler().Bc(this,"hide",this.GYa);H7.prototype.vd.call(this)};m.Sh=function(a){this.oa().Ri(this.getElement(),a)};function bVh(a,b){JUh(a.F,b);for(var c in a.H)JUh(a.H[c],b)}m.yRb=function(){var a=new lOh(this.getId(),this.$a),b=f7(this.getContext());b.xf("docos-before-highlight-doco").qb(a);D7(d7(this.R),this.getId());b.xf("docos-highlight-doco").qb(a)};
m.xRb=function(){this.O=null;if(ERh(this)){var a=this.La.scrollHeight>this.La.offsetHeight,b=this.getElement();a&&!this.Ca&&b?(this.Ca=new sK(b),a7(this,this.Ca,"mousewheel",this.ULb)):!a&&this.Ca&&(this.Ca.dispose(),this.Ca=null);a=a?K7a():0;b=this.Bd?282:240;cx(this.getElement(),b+a);cx(this.La,b+a)}};m.HYa=function(a){a.target instanceof Qz&&(fy(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.GYa=function(a){a.target instanceof Qz&&(hy(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.bBa=function(a){this.Pa&&P(this.Pa,a)};m.B$=ea(!0);m.update=function(){H7.prototype.update.call(this);var a=this.zl();this.zl()?this.L||this.C.rb||(this.L=new oC(this.getElement(),this.oa()),this.qa(this.L),pC(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Ya&&cVh(this);this.Ya=a;aVh(this);if(a=b7(this.ud()))this.Ea.update(),YUh(this,a);this.V&&this.aAa()};
function aVh(a){var b=a.ud();null!=b.R&&(PUh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.J_(!0);UUh(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=ZUh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.Db().style.maxHeight="",$Uh(this,a),this.J_(!0),UUh(this)}};m.vBa=function(){H7.prototype.vBa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.J_,this,!0)),this.getHandler().listen(this.D,"e",this.YOa),this.getHandler().listen(this.D,"f",this.yRb))};
function ZUh(a){var b=$6(a.getContext()).ys;a=ERh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function $Uh(a,b){var c=a.getElement(),d=Md(a.ud().D);if(!(2>d||c.offsetHeight<b)){var e=vx(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new OUh(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Ff(a.J,f+e);var h=a.J;h.F&&Ap(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Cc(l+e).setVisible(!1)}}}
m.aAa=function(){var a=this.Xc();this.V&&this.expand();this.collapse();var b=this.Xc();Vm(a,b)||this.dispatchEvent(new z7(this.getId()))};m.J_=function(a){var b=ERh(this);b&&(PUh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.Db().style.maxHeight=b+"px":this.Db().style.maxHeight="",a&&(this.jb.scrollTop=this.jb.scrollHeight))};
m.wRb=function(a){var b=f7(this.getContext());switch(a.identifier){case "backToDocument":b.xf("docos-back-to-document").qb({Tj:this.getId()});break;case "resolve":yUh(this.F);break;case "blur":this.YOa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":WUh(this);break;case "reply":this.D.focus()}};m.YOa=function(){var a=f7(this.getContext());a.xf("docos-before-highlight-doco").qb(R6());D7(d7(this.R),null);a.xf("docos-highlight-doco").qb(R6())};
m.focus=function(){H7.prototype.focus.call(this);this.Ya=this.zl();cVh(this)};function cVh(a){PUh(a);B7(a.D)||a.Ya||a.D.reset(!0);a.zl()&&(a.expand(),a.ega());a.J_(!0);a.dispatchEvent(new z7(a.getId()))}m.sT=function(a){H7.prototype.sT.call(this,a);this.J_(!1)};m.Ja=function(){H7.prototype.Ja.call(this);delete this.Ta;delete this.Pa};function YUh(a,b){var c=a.xa;c&&(a=BOh(b,a.C),iy(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),fy(c,a))}m.ULb=function(a){this.zl()&&a.stopPropagation()};function dVh(a,b,c,d,e){this.Zs=a;this.Ze=void 0===b?null:b;this.w$a=void 0===c?null:c;this.hia=void 0===d?null:d;this.jhc=void 0===e?!1:e}m=dVh.prototype;m.getNewDocoType=g("Zs");m.getText=g("Ze");m.getAssigneeEmail=g("w$a");m.getOriginatingDocoType=g("hia");m.getWasSmartTodo=g("jhc");function eVh(a,b,c,d){return dVh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(eVh,dVh);function I7(a,b,c,d,e,f,h){A7.call(this,a,b,c,e,f);this.Dr=d;this.Ea=this.Ta=null;this.D=new XSh(a,this.oa(),this,h);this.Ga(this.D);this.Lc(b)}t(I7,A7);m=I7.prototype;m.Ba=function(){this.Ea=new mB(this.getElement());this.qa(this.Ea);var a=this.Ea;a.mj("backToDocument",85);a.mj("blur",27);a.mj("next",74);a.mj("next",Ht(["N","C"]));a.mj("prev",75);a.mj("prev",Ht(["P","C"]));a.mj("reply",82)};
m.Ha=function(){A7.prototype.Ha.call(this);this.getHandler().listen(this.D,"p",this.YYa).listen(this.D,"c",this.Gya).listen(this.D,"s",this.OY).listen(this.D,"b",this.sRb).listen(this.D,"e",this.Eta).listen(this.D,"f",this.uRb);this.getHandler().listen(this.Ea,"shortcut",this.tRb);var a=this.getElement();this.D.V=a;this.Ta=new oC(this.getElement(),this.oa());this.qa(this.Ta);pC(this.Ta)};m.hkb=function(a,b,c,d,e){f7(this.getContext()).xf("docos-convert-doco").qb({Tj:a,fn:b,Lp:c,bYa:d,YS:e})};
m.YYa=function(){var a=this.$wa()?this.$wa().getEmail():void 0,b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0,c=this.Mba();var d=this.ud().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new eVh(c,a,b,1==d);c=v7(d7(this.getContext()),this.getId());eq(u(this.hkb,this,this.getId(),this.eS(),c,a,b))};m.gkb=function(a,b,c,d){f7(this.getContext()).xf("docos-delete-doco").qb({Tj:a,fn:b,Lp:c,YS:d})};
m.Gya=function(){var a=v7(d7(this.getContext()),this.getId()),b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0;eq(u(this.gkb,this,this.getId(),this.eS(),a,b))};m.zp=ea(!0);m.eS=g("Dr");m.axa=ea(!0);m.BUa=function(a){fVh(this);a.stopPropagation()};function fVh(a){var b=f7(a.getContext()),c=qOh(T6(S6(a.getId()),a.$a));b.xf("docos-before-highlight-doco").qb(U6(c));D7(d7(a.R),a.getId());b.xf("docos-highlight-doco").qb(U6(c))}
m.tRb=function(a){var b=f7(this.getContext());switch(a.identifier){case "backToDocument":b.xf("docos-back-to-document").qb({Tj:this.getId()});break;case "blur":b.xf("docos-before-highlight-doco").qb(R6());D7(d7(this.R),null);b.xf("docos-highlight-doco").qb(R6());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){CRh(this);this.ega()};m.sRb=function(a){this.OY(a)};
m.Eta=function(){var a=f7(this.getContext());a.xf("docos-before-highlight-doco").qb(R6());D7(d7(this.R),null);a.xf("docos-highlight-doco").qb(R6())};m.uRb=function(){this.zl()||fVh(this)};m.focus=function(){this.zl()&&(pf?eq(this.o_a,0,this):this.o_a())};m.OY=function(a){var b=ERh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}A7.prototype.OY.call(this,a)};
m.o_a=function(){this.D.ready();var a=this.oa(),b=Np(a);(pf&&!b||!a.contains(this.getElement(),b))&&eq(function(){this.sb()&&this.getElement().focus()},0,this)};function gVh(a,b,c,d,e,f){I7.call(this,a,b,c,d,e,f);this.D.Ca="Reply...";this.J=!1;this.F=this.H=null}t(gVh,I7);m=gVh.prototype;
m.Ba=function(){var a=this.oa(),b=this.C.Vg(),c="Unknown"===b.getName();c=Sy(zRh,{author:b.getName(),$g:b.C,nN:this.C.V&&!c?b.getId():null,HB:!0,zp:!0,dk:this.C.dk(),lJ:this.C.Ea},void 0,a);this.kb(c);this.D.Wa(a.bb("docos-docoview-input-pane",c));this.H=a.bb("docos-author",c);this.F=oV(a,"IMG","docos-replyview-avatar",c);var d=a.bb("docos-replyview-origin",c);P(d,!1);if(a=a.bb("docos-user-presence",c))if(c=this.C.Bd)a.style.backgroundColor=c(b.getId());I7.prototype.Ba.call(this)};
m.Ha=function(){I7.prototype.Ha.call(this);CRh(this);var a=this.ud().yx();Cd(a)||this.D.ready(a,!0,!0);a=this.C.Vg();jRh(c7(this.getContext()),this.F,a.D,Y6(a))};m.$wa=function(){return TSh(this.D.H)};m.Mba=function(){return this.D.getValue()};m.Eta=function(a){B7(this.D)?this.OY(a):I7.prototype.Eta.call(this,a)};
m.update=function(){I7.prototype.update.call(this);var a=this.zl();a!=this.J&&(this.zl()||B7(this.D)?this.dispatchEvent(new z7(this.getId())):this.Gya());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.J=a};m.vd=function(){I7.prototype.vd.call(this);f7(this.getContext()).xf("docos-edit-draft").qb({Tj:this.getId(),text:this.Mba(),VFa:this.F})};m.Ja=function(){I7.prototype.Ja.call(this);delete this.H;delete this.F};function hVh(a,b,c,d,e,f){gVh.call(this,a,b,c,d,e,f);this.ud()}t(hVh,gVh);function iVh(a,b,c,d,e,f){gVh.call(this,a,b,c,d,e,f);this.ud()}t(iVh,gVh);iVh.prototype.L=function(a,b,c,d,e,f){this.dispatchEvent(new lTh("sd",a,b,c,d,e,f))};iVh.prototype.YYa=function(){var a=v7(d7(this.getContext()),this.getId()),b=TSh(this.D.H);if(null!=b){Cj(this.C.ah,38);var c=aPh(b)}eq(u(this.L,this,this.getId(),this.eS(),a,this.Mba(),"instant-doco"==this.ud().Zs,c))};iVh.prototype.V=function(a,b,c,d){f7(a).xf("docos-cancel-insert-discussion").qb({Tj:b,fn:c,Lp:d})};
iVh.prototype.Gya=function(){var a=v7(d7(this.getContext()),this.getId());eq(u(this.V,this,this.getContext(),this.getId(),this.eS(),a))};function jVh(a,b,c,d,e,f){b=dVh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.od=a||null;return b}t(jVh,dVh);jVh.prototype.getPosition=g("od");function kVh(a){this.hia=a}kVh.prototype.getOriginatingDocoType=g("hia");function lVh(a,b,c){this.hia=a;this.UR=b;this.hPb=c;return this}t(lVh,kVh);lVh.prototype.isTodo=g("UR");lVh.prototype.isWrongAssignee=g("hPb");function mVh(a,b,c,d,e,f){I7.call(this,a,b,c,d,e,f,!0);this.La=this.Ia=this.H=this.L=this.ma=this.J=this.F=this.Pa=this.V=this.Ca=null;this.Ya=IQh(a)}t(mVh,I7);m=mVh.prototype;
m.Ba=function(){var a=this.C,b=this.oa();a=Sy(zRh,{zp:!0,mY:!0,Rab:!!Cj(a.ah,41),dk:a.dk(),oo:"legacy"!=a.D},void 0,b);this.kb(a);this.D.eb=!1;this.D.Wa(b.bb("docos-docoview-input-pane",a));this.Ca=b.bb("docos-input-assign-to-text",a);this.V=b.Fa("docos-smarttodoview-body",a);this.V.id=sx(this,"body");this.F=b.bb("docos-smarttodoview-feedback",a);this.Ia=b.bb("docos-smarttodoview-showfeedbackdialog-button",a);this.La=b.bb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.H=new ZPh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.H);this.H.Wa(b.Fa("docos-overflowmenu-outer",a));this.F&&(this.J=nVh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=nVh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Pa=oVh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=oVh(this,"docos-smarttodoview-feedback-submit"))&&this.$Ca());
b=b.Fa("docos-smarttodoview-headertext",a);b.id=sx(this,"headertext");Ux(a,"labelledby",b.id);Ux(a,"describedby",this.V.id);I7.prototype.Ba.call(this)};function nVh(a,b,c){var d=a.oa(),e=a.getElement();b=d.bb(b,e);c=d.bb(c,e);e=null;b&&(e=new iR(!1,d),c&&gR(e,c),e.Wa(b),a.qa(e));return e}function oVh(a,b){var c=a.oa();b=c.bb(b,a.getElement());var d=null;b&&(d=new PA(null,c),d.Wa(b),by(b,d.Hl()),a.qa(d));return d}
m.Ha=function(){I7.prototype.Ha.call(this);a7(a7(a7(this,this.H,"e",this.ORb),this.H,"i",this.vub),this.H,"h",this.myb);this.F&&(this.Ia&&this.getHandler().Kf(this.Ia,Mo,this.IIb),this.La&&this.getHandler().Kf(this.La,Mo,this.eMb),this.J&&a7(this,this.J,"change",this.$Ca),this.L&&a7(this,this.L,"change",this.$Ca),this.Pa&&a7(this,this.Pa,"action",this.Dwb),this.ma&&a7(this,this.ma,"action",this.NRb));this.D.ready(void 0,void 0,!0);this.update()};
m.ega=function(){I7.prototype.ega.call(this);this.xa&&fy(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){I7.prototype.update.call(this);var a=b7(this.ud());a=X6(a);a=DOh(a,this.C,!0);a=(new xB("Assign to {user}?")).format({user:a});Ap(this.Ca,a);P(this.Ca,!0);a=YL(new wjc(new xjc),this.ud().getContent());Me(this.V,a);this.resize()};
m.ORb=function(){var a=X6(this.ud().TB()).getEmail();a=new jVh(void 0,"client-integrated-draft",this.ud().yx(),a,"smart-todo",!0);var b=v7(d7(this.getContext()),this.getId());f7(this.getContext()).xf("docos-convert-doco").qb({Tj:this.getId(),Lp:b,bYa:a,YS:"smart-todo"})};m.vub=function(){f7(this.getContext()).xf("docos-disable-smart-todo-feature").qb()};
m.myb=function(){wx("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});LQh(this.Ya,sQh(rQh(qQh(pQh(43029),this.ud().getId()),r7(this.ud()))))};m.IIb=function(){this.F&&P(this.F,!0);LQh(this.Ya,sQh(rQh(qQh(pQh(43025),this.ud().getId()),r7(this.ud()))))};m.eMb=function(){f7(this.getContext()).xf("docos-write-feedback").qb({source:"smart-todo"})};m.Dwb=function(){this.F&&P(this.F,!1);this.focus()};
m.$Ca=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Na(a||b)};m.NRb=function(){f7(this.getContext()).xf("docos-reject-doco-with-feedback").qb({Tj:this.getId(),fn:this.eS(),Lp:v7(d7(this.getContext()),this.getId()),YS:"smart-todo",Ujb:new lVh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.$wa=function(){return b7(this.ud())?X6(b7(this.ud())):null};m.Mba=function(){return this.ud().yx()};
m.Ja=function(){I7.prototype.Ja.call(this);delete this.Ca;delete this.V;delete this.F;delete this.H;delete this.Ia;delete this.La};function pVh(a,b,c,d){this.C=a;this.H=b;this.cb=c;this.D=d}pVh.prototype.F=function(a){a=d7(this.C).ud(a);var b=this.H.hk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new iVh(this.C,a.getId(),b,r7(a),this.cb,this.D);case "client-integrated-draft":return new hVh(this.C,a.getId(),b,r7(a),this.cb,this.D);case "smart-todo":return new mVh(this.C,a.getId(),b,r7(a),this.cb,this.D);default:return new XUh(this.C,a.getId(),b,this.cb,this.D)}};function qVh(a,b){this.C=a;this.D=b}qVh.prototype.clone=function(){return new qVh(this.C,this.D)};qVh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function J7(a,b){Qo.call(this);this.cb=b;this.L=a;this.D=null;if(a=K7(this).J)this.D=new qVh(a,!0);this.xa=!a;this.Ca=!a;this.ob=this.H=null}v(J7,Qo);m=J7.prototype;m.YAa=da("O");m.hk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.nQ=function(){return[]};m.Jq=function(){return this.H?this.H.getId():null};m.oW=function(){return this.H?q7(this.H):null};m.pW=function(){var a=this.Jq();return a?this.O.Gc(a):null};
m.oa=g("cb");function K7(a){return $6(a.L)}m.getContext=g("L");m.qG=function(){return this.hk().getId()};m.Eba=g("D");m.Eja=function(a,b){var c=this.Jq();return a||c?b==this.qG()||this.D&&this.D.C==a?!0:!BRh(this,a):!1};function BRh(a,b){if(a.Jq()==b)return!0;a=a.oW();return!!a&&a==b}
m.qpa=function(a,b,c){if(this.Eja(a,b)){var d=BRh(this,a)?null:this.H;this.H=d7(this.L).ud(a)||null;var e=d&&a!=d.getId()&&(!q7(d)||a!=q7(d));if(e){var f=this.O.Gc(d.getId());f&&!i7(d.C)&&f.update()}d=!d||e;b=b==this.qG()&&(void 0===c||c);a&&(d||b)&&(d&&this.R_a(),(c=this.O.Gc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new qVh(a,b),d&&this.Lya(a))}};m.R_a=ba();
m.RRa=function(a,b){var c=f7(this.L);c.xf("docos-before-highlight-doco").qb(a);D7(d7(this.L),b.getId());c.xf("docos-highlight-doco").qb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==K7(this).J&&(a=K7(this).H["highlight-initial-doco"]))&&(b=(new W6("highlight-initial-doco")).addAnchorId(r7(b)).addDocoHandle(v7(d7(this.getContext()),c)).setNonAnchored(!(b.Sz()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){rVh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){rVh(this,!1,void 0,a,b,c)};m.Sha=ba();m.Qha=ba();function rVh(a,b,c,d,e,f){var h=d7(a.L),k=sVh(a,h,b,!!d,!!e);k||!c||e||(k=sVh(a,h,!b,!!d,!1));b=f7(a.L);k&&(a=U6(qOh(pOh(nOh(T6(S6(k.getId()),a.qG())),void 0!==f?f:!0))),b.xf("docos-before-highlight-doco").qb(a),D7(h,k.getId()),b.xf("docos-highlight-doco").qb(a))}
function sVh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.hk().zc();if(0==h)return null;a:{var k=a.Jq();if(k){var l=a.hk();if(k=l.Gc(k)){l=vx(l,k);break a}}l=-1}0>l&&(l=0,f=a.hk().Cc(l));for(k=l;!f||d&&!XQh(b,f.ud());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.hk().Cc(l)}return f}
m.Lya=function(a){if(a==K7(this).J){var b=this.O.Gc(a);b&&b.zl()&&!this.Ca&&(this.Ca=!0,b=K7(this).H["linked-doco-highlighted"])&&(a=d7(this.L).ud(a),a=rOh("linked-doco-highlighted").addAnchorId(r7(a)).setUserInitiated(!0).build(),b(a))}};m.$ba=function(a){for(var b=this.hk(),c=b.zc(),d=c,e=0;e<c;++e){var f=b.Cc(e);if(f&&0>=this.wV(a,f)){d=e;break}}return d};
function tVh(a){if(a.P3()){for(var b=a.hk(),c=[],d=b.zc(),e=0;e<d;++e)c.push(b.Cc(e));c.sort(u(a.wV,a));for(e=0;e<d;++e)b.Cc(e)!=c[e]&&b.Ff(c[e],e)}}m.qz=function(){lRh(c7(this.getContext()))};m.NJ=ba();m.ppa=function(){for(var a=this.hk().zc(),b=new bOh,c,d=0;d<a;d++)c=this.hk().Cc(d),null!=c&&(c=c.ud(),null!=c&&nTh(b,c));return cOh(b)};m.kK=ta;m.waa=ge;m.n2=ge;m.o2=ba();m.Ja=function(){J7.Ua.Ja.call(this);this.H=null};
m.opa=function(a){a=a.RV()||a;a instanceof J7&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ca=this.Ca)};m.RV=ea(null);m.XAa=da("ob");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof J7){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ca==a.Ca}else a=!1;return a};function uVh(a,b){Do.call(this,a);this.sIa=b}v(uVh,Do);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function vVh(a){this.C=[];if(a)a:{if(a instanceof vVh){var b=a.hf();a=a.Kd();if(0>=this.le()){for(var c=this.C,d=0;d<b.length;d++)c.push(new sY(b[d],a[d]));break a}}else b=Od(a),a=Nd(a);for(d=0;d<b.length;d++)wVh(this,b[d],a[d])}}function wVh(a,b,c){var d=a.C;d.push(new sY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=vVh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)cd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function xVh(a){return a.C[0]&&a.C[0].getKey()}m.Kd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.hf=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Su=function(a){return Xc(this.C,function(b){return b.getValue()==a})};m.clone=function(){return new vVh(this)};m.le=function(){return this.C.length};m.isEmpty=function(){return bd(this.C)};m.clear=function(){cd(this.C)};function yVh(){vVh.call(this)}v(yVh,vVh);yVh.prototype.enqueue=function(a,b){wVh(this,a,b)};function zVh(a,b){J7.call(this,a,b);this.V=d7(this.getContext());this.C={};this.R={};this.eb=new yVh;this.J=new tOh}v(zVh,J7);m=zVh.prototype;m.nQ=function(){var a=zVh.Ua.nQ.call(this);a.push("docos-layout-anchored");K7(this).zd&&a.push("docos-layout-anchored-shadows");return a};m.Boa=function(a){return(new pVh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.gV=function(a){if(this.V.R(a)){var b=a.getId(),c=v7(this.V,b),d=this.Uqa(c,!1);if(d){var e=this.Boa(a);this.R[c]&&delete this.R[c];c=this.$ba(e);if(c<=this.hk().zc()&&-1<c)for(AVh(this,e,d,c);!this.eb.isEmpty()&&xVh(this.eb)<=this.hk().zc();)e=this.eb.remove(),AVh(this,e.view,e.position,e.index);else this.eb.enqueue(c,new BVh(e,d,c))}else this.R[c]=a;b=pOh(S6(b),!a.mY());a.Fk()||T6(b,this.qG());d&&a.HB()&&Cd(a.yx())&&(d=f7(this.getContext()),d.xf("docos-before-highlight-doco").qb(U6(b)),D7(this.V,
a.getId()),d.xf("docos-highlight-doco").qb(U6(b)));(d=this.Eba())&&d.C==a.getId()&&(pOh(b,d.D),eq(u(this.RRa,this,U6(b),a),0))}};function AVh(a,b,c,d){var e=Ma();a.hk().Ff(b,d,!0);a.Bha(c.x,c.y,b,!1);b=Ma()-e;(a=K7(a).H["doco-rendered"])&&a(new sOh("doco-rendered",b))}m.jT=function(a){var b=this.hk().Gc(a);a==this.Jq()&&(this.H=null);if(b){var c=this.V.ud(a);c&&c.isResolved()&&b.zp()&&K7(this).bd?CVh(this,a,b):(this.hk().removeChild(b,!0),Mf(b));this.dK(this.C)}};
function CVh(a,b,c){function d(){q||(q=!0,Mf(c),rp(e),fy(h,"docos-resolve-highlight"),eq(function(){hy(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Xw(e),h=K7(a).bd,k=ex(h),l=ex(e),n=Xw(h);n.x+=(k.width-l.width)/2;a.hk().removeChild(c);fy(e,"docos-readonly");c.vd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;pf?DVh(a,e,f,n,d,b):EVh(a,e,c.getId(),f,n,d)}
function EVh(a,b,c,d,e,f){vOh(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";eq(function(){Ko(b,VDa,f);eq(f,570);fy(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function DVh(a,b,c,d,e,f){var h=new WB(b,[c.x,c.y],[d.x,d.y],270),k=new pgb(b,270);k.play();uOh(a.J,f,h,270,function(){Mf(h);Mf(k);e()})}
function FVh(a){var b=[];a.hk().Xe(function(c){var d=c.ud();null!=d&&null!=r7(d)?(d=v7(this.V,c.ud().getId()),this.Uqa(d,!0)||this.R[d]||(this.R[d]=c.ud(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new uVh("rv",b))}m.vaa=function(a){for(var b=$d(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.dK(b)};m.QV=function(a){var b=$d(this.C),c;for(c in a)b[c]=a[c];this.dK(b)};m.Uqa=function(a){return this.C[a]||null};
m.waa=function(a){a=GVh(this,a);return a?(a=a?a.getElement():null)?new Lm(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=GVh(this,a))?a.getDocoMaxHeight():null};m.npa=function(a,b){(a=GVh(this,a))&&a.sT(b)};function GVh(a,b){return(b=y7(a.V,b))?a.hk().Gc(b.getId()):null}m.Ja=function(){zVh.Ua.Ja.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function BVh(a,b,c){this.Tj=a.getId();this.view=a;this.position=b;this.index=c};function HVh(a,b){zVh.call(this,a,b)}v(HVh,zVh);m=HVh.prototype;m.P3=ea(!1);m.wV=ea(0);m.I_=ta;m.eK=function(){FVh(this)};m.qz=function(){HVh.Ua.qz.call(this);this.hk().Xe(function(a){var b=a.ud();b&&null!=r7(b)&&(b=v7(d7(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.Bha(b.x,b.y,a,!1))},this)};m.dK=function(a){this.C=a;FVh(this);for(var b in this.C)(a=this.R[b])&&this.gV(a);this.qz()};m.Bha=function(a,b,c){(c=c.getElement())&&T8a(c,a,b,$6(this.getContext()).sj)};function L7(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Cd(f)?f:null}pa("docos.api.Assignee",L7,void 0);L7.prototype.getToken=g("L");L7.prototype.getToken=L7.prototype.getToken;L7.prototype.getEmail=g("F");L7.prototype.getEmail=L7.prototype.getEmail;L7.prototype.getAffinity=g("D");L7.prototype.getAffinity=L7.prototype.getAffinity;L7.prototype.getMatchingMethod=g("H");L7.prototype.getMatchingMethod=L7.prototype.getMatchingMethod;L7.prototype.O=g("C");
L7.prototype.isMatchedOnEmailUserName=L7.prototype.O;L7.prototype.getName=g("J");L7.prototype.getName=L7.prototype.getName;function IVh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function JVh(a,b,c,d){return new L7(a.C,b,d,a.L,a.D,c)}function KVh(a,b){return a.C.toLowerCase().replace(LVh,"")==b?a.D=!0:!1}IVh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&MVh(this,e)){var f=gf(e.getEmail());Cd(f)||c.push(JVh(this,f,e.getName(),0))}}a.resolve(c)};
function MVh(a,b){if(b.getEmail())var c=gf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||GSh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(ad(FSh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&ad(f,d[h]))&&
1<d[h].length)return!0;return KVh(a,e)}function NVh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new IVh(a[d],"full-query",b));return c}function OVh(a,b){for(var c=[],d=0;d<a.length;d++)kd(c,PVh(a[d],b));return c}function PVh(a,b){return PSh(NSh,a).map(function(c){return new IVh(c,"email",b)})}var LVh=/^[@+]|[@+]$/g;function QVh(a){this.C=a}pa("docos.api.AssigneeThenable",QVh,void 0);QVh.prototype.get=g("C");QVh.prototype.get=QVh.prototype.get;function RVh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new bm;this.J=d}function SVh(a,b){var c=aq();a.C.C?TVh(a,b,c):xSh(a.C).then(u(function(d,e,f){f?TVh(this,d,e):e.reject()},a,b,c));return new QVh(c.C)}function TVh(a,b,c){var d=Ia(OVh,b,a.D);b=u(a.H,a,Ia(NVh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
RVh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=aq();Cd(f.C)?k.resolve([]):KVh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([JVh(f,f.F,null,Number.MAX_VALUE)]):h.Fo(f.C,5,u(f.O,f,k));f=k.C;kd(d,f)}UVh(this,d,b,c)};function UVh(a,b,c,d){$p(b).then(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.lQ&&k.value&&kd(f,k.value)}bd(f)?d():VVh(a,f,c)})}
function VVh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}bd(e)?(WVh(a,d),a.J(d).then(function(k){return XVh(a,b,c,k)})):YVh(a,e,c)}else YVh(a,b,c)}function YVh(a,b,c){b.sort(Ia(ZVh,a.D));c.resolve(b[0])}function WVh(a,b){var c=a.F;Yya(b,c.contains,c)||(cm(a.F,b),LQh(a.L,sQh(pQh(43026))))}
function XVh(a,b,c,d){for(var e=[],f={Y_:0};f.Y_<d.length;f={Y_:f.Y_},f.Y_++){var h=Zc(b,function(k){return function(l){return l.getEmail()==d[k.Y_]}}(f));h&&e.push(h)}bd(e)?c.resolve(null):YVh(a,e,c)}function ZVh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function $Vh(a){this.Uab=a;return this}t($Vh,f5);$Vh.prototype.getCancelAnchorId=g("Uab");$Vh.prototype.getCancelAnchorId=$Vh.prototype.getCancelAnchorId;function aWh(a,b,c,d,e,f){a=V6.call(this,a,b,c,d,e,f||new f5)||this;a.C=!1;return a}t(aWh,V6);aWh.prototype.canPreventDefault=ea(!0);aWh.prototype.preventDefault=function(){this.C=!0};function bWh(a){return W6.call(this,a)||this}t(bWh,W6);bWh.prototype.build=function(){return new aWh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new f5)};function cWh(){this.D=!1}cWh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};cWh.prototype.pk=function(){return!this.D&&(null==this.C||this.C.pk())};function dWh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=aq();this.L=c}v(dWh,A);function xSh(a){if(!IPe())return Xp(!1);if(a.C)return Xp(!0);if(!a.F){var b=$d(kff);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Fo(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.O)){var k=new ONd;h=L(k,1,h);h=lNh(h);c.To("dacpc",Ma()-a.L,h.serialize())}})}return a.H.C}
dWh.prototype.Fo=function(a,b,c,d){var e=this;if(!IPe())return new fff;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(We(a)&&this.F&&this.F.pk()){var k=new cWh,l=Ma();this.H.C.then(function(){var n=e.J.O;if(k.pk()){var q=e.D.Fo(h,c);n&&n.To("dcrdtdr",Ma()-l);k.D||(k.C=q)}else n&&n.To("dcrdc",Ma()-l)});return k}return this.D.Fo(h,c)};dWh.prototype.Ja=function(){delete this.D};function eWh(a){this.C=a}v(eWh,f5);pa("docos.api.OriginatingDocoTypeArgs",eWh,void 0);eWh.prototype.getOriginatingDocoTypeArgs=g("C");eWh.prototype.getOriginatingDocoTypeArgs=eWh.prototype.getOriginatingDocoTypeArgs;function M7(a,b,c){this.C=c;this.Dr=a;this.D=b}v(M7,eWh);pa("docos.api.ConvertDocoArgs",M7,void 0);M7.prototype.getAnchorId=g("Dr");M7.prototype.getAnchorId=M7.prototype.getAnchorId;M7.prototype.getNewDocoArgs=g("D");M7.prototype.getNewDocoArgs=M7.prototype.getNewDocoArgs;function N7(a,b,c){this.D=a;this.od=void 0!==b?b:null;this.C=void 0==c?-1:c}v(N7,f5);N7.prototype.isInstantDoco=g("D");N7.prototype.getPosition=g("od");N7.prototype.getInstantDocoSpacerIndex=g("C");N7.prototype.isInstantDoco=N7.prototype.isInstantDoco;N7.prototype.getInstantDocoSpacerIndex=N7.prototype.getInstantDocoSpacerIndex;function fWh(a){this.F=a}fWh.prototype.C=function(a,b){return b?(a=this.F.ud(b.Tj))?b7(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};fWh.prototype.D=ea(0);function gWh(a,b){this.od=a;this.Dr=b;return this}t(gWh,f5);gWh.prototype.getPosition=g("od");gWh.prototype.getAnchorId=g("Dr");gWh.prototype.getPosition=gWh.prototype.getPosition;gWh.prototype.getAnchorId=gWh.prototype.getAnchorId;function hWh(a){A.call(this);this.C=a}t(hWh,A);function LQh(a,b){var c=$6(a.C).$a;if(c){var d=new hk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);iWh(a,d,b.D);b.J&&(a=LTh(d7(a.C)).C.clone(),Oj(d,10,a));a=new LPh;b.Dr&&L(a,1,b.Dr);c(b.H,b.F||void 0,d,a)}}
function w7(a,b){var c=$6(a.C).$a;if(c){var d=b.ud();var e=new hk;var f=d.tva();e=L(e,2,f);null!=d.Rz()&&(f=dPh(d.Rz()).length,L(e,8,f));null!=b.Ay&&(f=b.Ay.tva(),L(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new XJd;var k=new TJd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);Oj(f,2,h);Oj(e,5,f);break;case "suggestion":L(e,4,5);break;default:L(e,
4,0)}}null!=b.D&&L(e,7,b.D);null!=$6(a.C).Qa&&(f=$6(a.C).Qa,Oj(e,12,f));null!=$6(a.C).J&&(f=$6(a.C).J==d.getId(),L(e,13,f));f=d.gI();h=b7(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);iWh(a,e,d.getId());b.L&&(a=LTh(d7(a.C)).C.clone(),Oj(e,10,a));a=new LPh;d=r7(b.ud());a=L(a,1,d);c(b.J,b.H||void 0,e,a)}}function iWh(a,b,c){a=d7(a.C).O;null!=c&&b.Mg(null!=a&&c==a.getId())}hWh.prototype.Ja=function(){A.prototype.Ja.call(this)};function jWh(){}jWh.prototype.C=function(){return["Comment changed"]};jWh.prototype.D=ea(0);function kWh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Lp&&a.addDocoHandle(d.Lp),d.fn&&a.addAnchorId(d.fn));return a};function lWh(a,b){this.C=a;this.D=b}v(lWh,eWh);pa("docos.api.FeedbackArgs",lWh,void 0);lWh.prototype.getFeedback=g("D");lWh.prototype.getFeedback=lWh.prototype.getFeedback;function mWh(a){this.C=a}v(mWh,f5);pa("docos.api.HighlightDocoArgs",mWh,void 0);mWh.prototype.isOriginInStreamOrGutter=g("C");mWh.prototype.isOriginInStreamOrGutter=mWh.prototype.isOriginInStreamOrGutter;function nWh(a){var b=a.xNb,c=a.kc,d=a.iOb;a=a.yNb;return T('<div id="docs-instant-button-bubble" class="'+U("docs-material")+" "+(c?U("docs-instant-button-bubble-transformation-rtl"):U("docs-instant-button-bubble-transformation-ltr"))+(d?" "+U(d):"")+'" role="button" tabindex="-1"><div class="'+U("docs-instant-button-bubble-icon-container")+(a?" "+U(a):"")+'"><span class="'+U("docs-instant-button-bubble-icon")+(b?" "+U(b):"")+'"></span></div></div>')};function oWh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=fz(ez,0<c.length?c[0]:"docs-instant-button");hz.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;mz(this,2,!0)}t(oWh,hz);m=oWh.prototype;m.Ba=function(){var a=this.oa(),b={kc:!1};b.xNb=this.R.join(" ");bd(this.J)||(b.iOb=this.J.join(" "));bd(this.L)||(b.yNb=this.L.join(" "));this.kb(Sy(nWh,b,void 0,a))};
function pWh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.sb()){var h=0>=c;a.isVisible()||h?(qWh(a),rWh(a,b,d,f),e&&e()):(a.D=new sWh(b,d,f,e),b=!a.C,h||b||qWh(a),a.C||(a.C=eq(function(){rWh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.ge;k&&k();a.D=null;a.C=null},c,a)))}}
m.jf=function(a){if(this.sb()){if(void 0===a?0:a)Qw(this.getElement(),"top","0px"),fy(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(hy(this.getElement(),"docs-instant-button-visible"),gx(this.Ka(),0),this.F=!1);qWh(this)}};m.jg=function(a){this.isVisible()&&(hz.prototype.jg.call(this,a),a.stopPropagation())};m.Om=function(a){this.isVisible()&&(hz.prototype.Om.call(this,a),a.stopPropagation())};m.jR=function(a){this.isVisible()&&a.stopPropagation()};
function rWh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;hy(a.getElement(),"docs-instant-quick-hide");fy(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function qWh(a){a.C&&(fq(a.C),a.C=null)}m.isVisible=function(){ey(this.getElement(),"docs-instant-button-visible");return this.F};function sWh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.ge=d}sWh.prototype.getOpacity=g("C");function tWh(a,b){Z6.call(this,a,b);this.D=null;this.F=a}t(tWh,Z6);tWh.prototype.Ba=function(){Z6.prototype.Ba.call(this);this.D=new oWh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Wa(this.D.getElement())};
tWh.prototype.Ha=function(){Z6.prototype.Ha.call(this);$6(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||$6(this.F).C.D(this.getElement(),!0);this.D.Ha();a7(this,this.D,"action",this.H)};function uWh(a,b,c,d){oA(a.D.getElement(),"docos");$6(a.F).C.D(a.getElement(),!1);var e=a.D.H;pWh(a.D,b,c,d,function(){e!=b&&$6(a.F).C.jf(a.getElement())})}tWh.prototype.jf=function(a){this.D.isVisible()&&$6(this.F).C.D(this.getElement(),!0);this.D.jf(a)};tWh.prototype.H=function(){this.jf();this.dispatchEvent("create-draft")};function vWh(a,b){A.call(this);this.D=a;this.F=$6(a);this.C=b;this.H=new GA(this);a=f7(this.D);this.H.Pb(a.Ra("docos-edit-reply"),rt,this.Q6b).Pb(a.Ra("docos-delete-reply"),rt,this.z6b).Pb(a.Ra("docos-edit-doco"),rt,this.M6b).Pb(a.Ra("docos-edit-draft"),rt,this.P6b)}t(vWh,A);function wWh(a,b,c,d,e,f){return O7(a,u(a.eOb,a,b,c,d,e,void 0===f?!1:f))}m=vWh.prototype;m.eOb=function(a,b,c,d,e,f,h){if(xWh(h))return a=JQh(this.C,a,b,c,d,e),f.Yg.callback(a),a;f.Yg.callback(0);return 0};
m.gOb=function(a,b,c,d,e,f){if(xWh(f))return a=MQh(this.C,a,b,c,d),e.Yg.callback(a),a;e.Yg.callback(0);return 0};m.dOb=function(a,b,c,d,e,f){if(xWh(f))return a=NQh(this.C,a,b,c,d),e.Yg.callback(a),a;e.Yg.callback(0);return 0};function yWh(a,b){return O7(a,u(a.Bac,a,b))}m.P6b=function(a){var b=this,c=a.data;tq(O7(this,u(this.O6b,this,c.Tj,c.text)),function(d){d&&c.VFa&&e7(c7(b.D),c.VFa);return d})};m.O6b=function(a,b,c,d){P7(u(this.C.N6b,this.C,a,b),c,d)};
m.Bac=function(a,b,c){P7(u(this.C.Vdb,this.C,a),b,c)};function zWh(a,b,c,d,e,f,h){return O7(a,u(a.w9a,a,b,c,d,e,f,h))}
m.w9a=function(a,b,c,d,e,f,h,k){if(xWh(k)){k=this.C;var l,n;a&&(n=JTh(d7(k.C),a))&&"instant-doco"==n.Zs&&(l=31);var q=pQh(43009);null!=n&&qQh(q,n.getId());null!=l&&(q.F=l);n&&n.HB()&&a!=b&&OQh(d7(k.C),n.getId());a=jf();l=Ma();n=DPh(zPh(k7(new j7(a)),l),k.F.Vg());c&&l7(n,c,l);d&&(c=(new BNh).setType("text/plain").setValue(d),Oj(n.C,9,c));e&&(yPh(n,e),q.J=e);f&&(CPh(n,f),q.C=f);e=u7(t7(n),!0);L(e.C,3,l);b&&(yQh(e,b),rQh(q,b));x7(d7(k.C),e);d7(k.C).flush();LQh(k.D,sQh(q));b=v7(d7(k.C),a);h.Yg.callback(b);
return b}h.Yg.callback(0);return 0};m.M6b=function(a){var b=a.data;tq(O7(this,u(this.Jib,this,b.id,b.text)),function(c){c||b.Ipa.dispatchEvent("c")})};m.Jib=function(a,b,c,d){P7(u(this.C.Iib,this.C,a,b),c,d)};m.z6b=function(a){a=a.data;tq(O7(this,u(this.y6b,this,a.Tj,a.rAa)),ba())};m.y6b=function(a,b,c,d){P7(u(this.C.gdb,this.C,a,b),c,d)};m.Q6b=function(a){var b=a.data;tq(O7(this,u(this.Lib,this,b.Tj,b.rAa,b.text)),function(c){c||b.Ipa.dispatchEvent("c")})};
m.Lib=function(a,b,c,d,e){P7(u(this.C.Kib,this.C,a,b,c),d,e)};m.x9a=function(a,b,c,d,e,f){P7(u(this.C.Rdb,this.C,a,b,c,d),e,f)};m.dhc=function(a,b,c,d){P7(u(this.C.Xdb,this.C,a,b),c,d)};m.ehc=function(a,b,c,d,e){P7(u(this.C.Ydb,this.C,a,b,c),d,e)};m.gbc=function(a,b,c,d,e){P7(u(this.C.Wdb,this.C,a,b,c),d,e)};function P7(a,b,c){xWh(c)?(a(),b.Yg.callback(!0)):b.Yg.callback(!1)}m.cdb=function(a,b,c,d){P7(u(this.C.Sdb,this.C,a,b),c,d)};
m.lgc=function(a,b,c){if(xWh(c))return a=PQh(this.C,a),b.Yg.callback(a),a;b.Yg.callback(0);return 0};m.Pcc=function(a,b,c,d){P7(u(this.C.xIa,this.C,a,b),c,d)};m.fdb=function(a,b,c){P7(u(this.C.Udb,this.C,a),b,c)};m.edb=function(a,b,c){P7(u(this.C.Tdb,this.C,a),b,c)};function AWh(a,b,c,d){return O7(a,u(a.d9a,a,b,c,d))}m.d9a=function(a,b,c,d,e){if(xWh(e))return a=UQh(this.C,a,b,c),d.Yg.callback(a),a;d.Yg.callback(0);return 0};
m.XEa=function(a,b,c,d){if(xWh(d))return a=YQh(this.C,a,b),c.Yg.callback(a),a;a=[];c.Yg.callback(a);return a};function O7(a,b){var c=new rq,d={Yg:c};(a=a.F.Ae)?a(d,b):b(d,"edit-not-intercepted");return c}function xWh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function BWh(a,b){A.call(this);this.C=[];this.F=new ZNh(a);this.D=$Nh(this.F,"user");this.J=$Nh(this.F,"control");this.Gd=new dq(b||50);this.Gd.start();Jo(this.Gd,"tick",this.y0a,!1,this);this.J.Af("setPeerReady_",u(this.Tcc,this))}v(BWh,A);m=BWh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.y0a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Gd.stop(),a;}};m.Af=function(a,b,c){this.D.Af(a,b,c)};m.vN=function(a){this.D.vN(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({o_:a,Dm:b})};m.Tcc=function(a){a?this.Gd.stop():this.Gd.start();if(!this.H){this.H=!0;this.y0a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.o_,b.Dm)}this.C=null}};m.Ja=function(){Mf(this.F);Mf(this.Gd);BWh.Ua.Ja.call(this)};function CWh(a){Qo.call(this);this.C=a;this.Ma=new Ro(this);this.qa(this.Ma);this.Ma.listen(this.C,"u",this.D);this.C.Zd(this)}v(CWh,ZQh);CWh.prototype.D=function(a){var b=PPh(a.Dm.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new $Qh("u",new TNh(b))));a.stopPropagation()};function bRh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&ya(n[0])&&d(n[0])});a.C.zIa(b,c?c.Rf():void 0,l,e,f,h,k)};function DWh(a,b,c){yPe.call(this);c&&(this.D=c.Va.C(this.D));this.C=a;this.qa(this.C);this.C.vN(u(this.D,this));this.F=b}v(DWh,yPe);DWh.prototype.send=function(a,b){Ca(b)&&(b=Im(b));this.C.send(a,{t:this.F,p:b})};DWh.prototype.D=function(a,b){zPe(this,a,b)};DWh.prototype.daa=function(a,b,c){b=DWh.Ua.daa.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?DWh.Ua.daa.call(this,a,b.p,c):null};function EWh(){Qo.call(this)}v(EWh,Qo);function FWh(a,b,c,d,e,f,h,k){c=void 0===c?[]:c;k=void 0===k?!1:k;Qo.call(this);var l=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new so;this.qa(this.J);to(this.J,this.H.getStatus().C,function(n){n.D.Dk()&&Dl(n.C)?l.dispatchEvent(new $Qh("r")):n.C.equals(Hya)&&l.V?l.dispatchEvent(new $Qh("p")):El(n.C)&&l.dispatchEvent(new $Qh("e"))});this.F=function(n){n&&l.dispatchEvent(new $Qh("u",n))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.V=k;this.xa=0;this.ma=b}t(FWh,EWh);
FWh.prototype.yIa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.saa)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new hMa;var b=this.D.Vg().getId();a.R=b;uLa(a,this.D.taa,this.O,this.D.mpa);this.C=a;this.C.subscribe("9",this.F)}};
FWh.prototype.zIa=function(a,b,c,d,e,f,h){b=b?["p",Im(b)]:[];GWh(this,b,"/docos/p/"+a,c,d,e,f,h)};function GWh(a,b,c,d,e,f,h,k){var l=["reqid",a.xa++];b=b?rza(b):void 0;c=ar(a.H.Ye(c),a.R.concat(l));0<b.length&&c.setContent(b);a.ma&&c.Eq();h?Gl(c,h):Gl(c,3);d&&Il(c,function(n){d(n.Ke())});e&&Hl(c,e,f);k&&cr(c,k);null!=a.L&&(c.Pa=a.L);c.Ue()}FWh.prototype.Ja=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());EWh.prototype.Ja.call(this)};function HWh(a,b,c){this.seq=IWh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var IWh=1;function JWh(a){Qo.call(this);this.C=a;this.C.Af("recv",u(this.z8b,this),!0);this.C.Af("recvEvt",u(this.y8b,this),!0);this.D={}}v(JWh,EWh);m=JWh.prototype;m.z8b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.y8b=function(a){this.dispatchEvent(new $Qh(a.type,a.payload))};m.yIa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.zIa=function(a,b,c,d,e,f,h){a=new HWh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ja=function(){JWh.Ua.Ja.call(this);delete this.C};function KWh(a){A.call(this);this.F=a;this.D=this.C=null}t(KWh,A);
function LWh(a){if(a.C)return a.C;var b=$6(a.F),c=b.lpa;if(void 0!==c)return c&&(a.C=new CWh(c),a.qa(a.C)),a.C;if(b.uIa){var d=Jed();c=new gLa(new C6b,void 0,void 0,void 0,new SIa,void 0,void 0,UKa(QKa(d)));var e=b.mpa;e&&c.z6(e);var f=b.wIa;f&&pLa(c,f);b.tKa&&YIa(c.D,"anon","true");(f=b.KSa)&&YIa(c.D,"invite",f);f=null;if(b.saa){f=new hMa;var h=b.Vg().getId();f.R=h;$Ia(c.H,f);uLa(f,b.taa,d,e)}b=new FWh(c,!0,["id",b.taa],f,null!=b.m2?b.m2:6E4,b,d,null!=K(b.ah,44)&&null!=K(rY(b.ah),52)&&!!Cj(rY(b.ah),
52));b.qa(c);a.C=new CWh(b);a.qa(a.C);a.qa(b);return a.C}b=b.uZa;if(!b)throw Error("Peer missing.");c={};d=new um(window.location.href);(e=Dm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new um(b)).toString());d=Jed();b=(new um(b)).mc("ctoken",d).toString();c.pu=b;a.D=kp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new hW(c);JSe(b,a.D);b.connect();b=new BWh(b);c=FOh(a.F);b=new DWh(b,d,c);c=new JWh(b);a.C=new CWh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
KWh.prototype.Ja=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ja.call(this)};function MWh(a,b){this.C=a;this.F=b}MWh.prototype[Pua]=!0;function Q7(a,b,c){var d=Ma();b();b=Ma()-d;a.F.To(c,b)}m=MWh.prototype;m.qpa=function(a,b,c){a=u(this.C.qpa,this.C,a,b,c);Q7(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);Q7(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);Q7(this,a,"dvmhp")};m.eK=function(){var a=u(this.C.eK,this.C);Q7(this,a,"dvmla")};
m.qz=function(){var a=u(this.C.qz,this.C);Q7(this,a,"dvmfl")};m.gV=function(a){a=u(this.C.gV,this.C,a);Q7(this,a,"dvmadv")};m.I_=function(a){a=u(this.C.I_,this.C,a);Q7(this,a,"dvmudv")};m.jT=function(a){a=u(this.C.jT,this.C,a);Q7(this,a,"dvmrdv")};m.hk=function(){return this.C.hk()};m.YAa=function(a){this.C.YAa(a)};m.nQ=function(){return this.C.nQ()};m.Jq=function(){return this.C.Jq()};m.oW=function(){return this.C.oW()};m.pW=function(){return this.C.pW()};m.oa=function(){return this.C.oa()};
m.qG=function(){return this.C.qG()};m.Eba=function(){return this.C.Eba()};m.Eja=function(a,b){return this.C.Eja(a,b)};m.Sha=function(){this.C.Sha()};m.Qha=function(){this.C.Qha()};m.wV=function(a,b){return this.C.wV(a,b)};m.NJ=function(a,b){this.C.NJ(a,b)};m.ppa=function(){return this.C.ppa()};m.kK=function(a){this.C.kK(a)};m.waa=function(a){return this.C.waa(a)};m.n2=function(){return this.C.n2()};m.o2=function(a){this.C.o2(a)};m.dispose=function(){this.C.dispose()};m.isDisposed=function(){return this.C.isDisposed()};
m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Qc=function(a,b,c,d){return this.C.Qc(a,b,c,d)};m.Bc=function(a,b,c,d){return this.C.Bc(a,b,c,d)};m.fU=function(a){return this.C.fU(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.rC=function(a){return this.C.rC(a)};m.qp=function(){return this.C.qp()};m.hQ=function(a,b,c){return this.C.hQ(a,b,c)};m.RK=function(a,b){return this.C.RK(a,b)};m.vD=function(a,b,c,d){return this.C.vD(a,b,c,d)};
m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.RV=function(){return this.C.RV()||this.C};m.opa=function(a){this.RV().opa(a)};m.equals=function(a){return this===a};m.XAa=function(a){this.RV().XAa(a)};function NWh(a,b){MWh.call(this,a,b);this.D=a}t(NWh,MWh);m=NWh.prototype;m.vaa=function(a){a=u(this.D.vaa,this.D,a);Q7(this,a,"davmddp")};m.QV=function(a){a=u(this.D.QV,this.D,a);Q7(this,a,"davmudp")};m.dK=function(a){a=u(this.D.dK,this.D,a);Q7(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.npa=function(a,b){this.D.npa(a,b)};function OWh(a,b,c){Qo.call(this);this.C=a;this.xa=b;this.V=c||null;this.Ma=new Ro(this);this.qa(this.Ma);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new GA(this);this.qa(this.ma);this.Ma.listen(this.H,"r",this.x8b).listen(this.H,"u",this.t9b).listen(this.H,"e",this.qRb).listen(this.H,"p",this.rRb);this.Ma.listen(d7(a),["dd"],this.pRb).listen(d7(a),"bu",this.oRb)}t(OWh,Qo);
function PWh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return QWh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new rq),a.F="in-progress",QWh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function QWh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.AUa(b))}function RWh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Jd(null):d.callback(c)}m=OWh.prototype;
m.AUa=function(a){for(var b=d7(this.C),c=MTh(b),d=[],e=0;e<c.length;e++){d.push(Uj(c[e].F));var f=c[e].getId();gd(b.H,f)}b=new gOh;d=Qj(b,1,d);this.L&&L(d,2,this.L);$6(this.C).cra()&&(b=$6(this.C).cra(),L(d,5,b));bRh(this.H,"sync",d,u(this.u7b,this),u(this.t7b,this),!1,a?a:void 0)};m.t7b=function(){this.O=!1;RWh(this,!0)};m.qRb=function(){this.dispatchEvent("net-error")};m.rRb=function(){this.dispatchEvent("post-limit-error")};
m.u7b=function(a){a=new QNh(a);var b=this.O;this.O=!1;var c=Ma();if(b){var d=R7(this.xa,"model-loaded");if(d){var e=(new W6("model-loaded")).build();d(e)}}d=d7(this.C);try{if(SWh(this,a,b),this.L=K(a,2),NTh(d))eq(u(this.AUa,this));else{var f=Ma()-c;RWh(this,!1,b?f:void 0);this.V&&this.V.To("dscat",f)}}catch(h){throw eq(function(){throw h;}),h;}};
function SWh(a,b,c){var d=d7(a.C),e=KTh(d),f=Nj(b,Q6,1);b=0<f.length;var h=d7(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=Uj(l.value);var n=P6(l),q=GTh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=d7(r.C);n=P6(l);delete e[q.getId()];var x=q.getId();if(ad(w.H,x))n=!1;else{x=q.getId();if(x=ad(w.Ia,x)){if(i7(q.C)){TWh(r,q);n=!1;break a}r=q.getId();gd(w.Ia,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=$d(q.D);w=ja(O6(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(UWh(Uj(q[x.value].C)));q=O6(n);Qj(n,8,id(q,w));n=!0}}n&&k.push(new xQh(l))}TQh(h,k,"n");h=ja(MTh(d));for(k=h.next();!k.done;k=h.next())k=k.value,i7(k.C)&&void 0===k.C.C.getId()&&TWh(a,k);if(c)for(a=ja(Object.keys(e)),h=a.next();!h.done;h=a.next())h=e[h.value],vQh(h)||void 0===h.C.C.getId()&&!i7(h.C)||(b=!0,h=Uj(h.F),P6(h),k=P6(h),Qj(k,8,[]),f=Ma(),L(k,13,f),L(k,12,!1),
L(h,9,!1),x7(d,new xQh(h),"n"));b&&d.flush(c)}function TWh(a,b){a=d7(a.C);var c=Uj(b.F),d=P6(c);L(c,9,!1);L(d,12,!1);b=b.getId();gd(a.H,b);x7(a,new xQh(c),"n")}function UWh(a){var b=Ma();L(a,13,b);L(a,12,!1);return a}m.x8b=function(){var a=12E4*Math.random();null!==this.R&&fq(this.R);this.R=eq(function(){PWh(this,$6(this.C).Jea?1:void 0)},a,this)};
m.t9b=function(a){if(a.Dm){var b=a.Dm;a=d7(this.C);var c=0;b=Nj(b,Q6,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=Uj(d.value);var e=P6(d);e=GTh(a,e.getId(),K(e,11));e&&e.JR()||(x7(a,new xQh(d),"n"),c++)}0<c&&d7(this.C).flush()}};m.pRb=function(a){"n"!=a.L&&FTh(d7(this.C))&&PWh(this)};m.oRb=function(a){"n"!=a.source&&FTh(d7(this.C))&&PWh(this)};m.Ja=function(){Qo.prototype.Ja.call(this);delete this.C;delete this.Ma;delete this.ma};function VWh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.Ma=new Ro(this);this.qa(this.Ma);this.C=null;this.O=!1;this.J=null}t(VWh,A);function WWh(a){if(!oNh(a.H,"netIo"))return!1;a.C=new OWh(a.H,a.F,a.D.O||void 0);a.qa(a.C);a.Ma.listen(a.C,"net-error",a.V);a.Ma.listen(a.C,"post-limit-error",a.R);return!0}VWh.prototype.V=function(){XWh(this.F,"fe")};VWh.prototype.R=function(){XWh(this.F,"p")};function YWh(a){a.O=!0;a.J=Ma();uq(tq(PWh(a.C,a.D.Gz?1:void 0),a.L,a),a.ma,a)}
function ZWh(a){if(TPh(a.D)){var b=a.C.D;b?tq(b,function(){return $Wh(a)}):$Wh(a)}}VWh.prototype.L=function(a){var b=this.D.O;b&&b.tBa(LTh(d7(this.H)).C.clone().serialize());if(b=R7(this.F,"sync-success")){var c=(new W6("sync-success")).build();b(c)}(b=R7(this.F,"initial-anchored-render-done"))&&null!==a&&b(new sOh("initial-anchored-render-done",a));(a=R7(this.F,"initial-sync-and-render-complete"))&&a(new sOh("initial-sync-and-render-complete",Ma()-this.J));XWh(this.F,"s");XWh(this.F,"r")};
VWh.prototype.ma=function(){var a=R7(this.F,"sync-error");if(a){var b=(new W6("sync-error")).build();a(b)}XWh(this.F,"e")};function $Wh(a){a.C.L=null;PWh(a.C,a.D.Jea?1:void 0)};function aXh(){}aXh.prototype.C=function(a,b){return b?b.X0?["Action item created"]:["Comment created"]:[]};aXh.prototype.D=ea(0);function bXh(){}bXh.prototype.C=function(){return["Reply added"]};bXh.prototype.D=ea(0);function cXh(a){var b=a.O9a,c=a.ENb,d=a.p5b;a=T;var e='<div class="'+U("docos-notificationdialog-content")+'">',f='<div class="'+U("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(U(b)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(b)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(U(c)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(c)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(U(d)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(d)+'" class="'+U("docos-notificationdialog-label")+'">');b=T(f+"Nothing</label></div>");b=e+b;c='<a class="'+U("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=T(c+"Help</a>");return a(b+c+"</div>")};function dXh(a){ZV.call(this);this.V=a;this.Ia=$6(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(dXh,ZV);m=dXh.prototype;
m.Ba=function(){ZV.prototype.Ba.call(this);fy(yy(this),"docos");var a=Fa(yy(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Qy(this.Db(),cXh,{O9a:this.O,ENb:this.R,p5b:this.ma});Py(this,"ok");a=this.Ia.Ya;null!==a&&(Qw(this.Pq(),"z-index",a),Qw(yy(this),"z-index",a+1))};
m.Ha=function(){ZV.prototype.Ha.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Fy(this.D,"ok");Jo(this.F,"click",u(this.UCa,this));Jo(this.H,"click",u(this.UCa,this));Jo(this.L,"click",u(this.UCa,this))};
m.update=function(){this.xa.disabled=!0;eXh(oRh(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.CAa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}fXh(oRh(this.V),a)};m.UCa=function(){var a=this;eXh(oRh(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.vd=function(){Po(this.F);Po(this.H);Po(this.L)};m.Ja=function(){ZV.prototype.Ja.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function gXh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}pa("docos.api.StorageUpdate",gXh,void 0);function hXh(a,b){if(a){b||a.unshift(void 0);iXh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),jXh(c[2],b),hXh(c[3],b),b&&c.shift());b&&a.shift()}}function jXh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function iXh(a,b){if(a){b||a.unshift(void 0);jXh(a[3],b);jXh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)iXh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function kXh(a){A.call(this);this.D=a;this.C=$6(a).Rb;this.H=[];this.F=[];$6(a).Tc||(this.Ma=new Ro(this),this.qa(this.Ma),this.Ma.listen(d7(a),["f","dd"],this.$db).listen(d7(a),"bu",this.Zdb))}v(kXh,A);m=kXh.prototype;m.$db=function(a){if("o"!=a.L&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=jd(this.H);var b=jd(this.F);this.C.o4a(a,b,u(this.fMb,this,a),u(this.dMb,this,b));this.H=[];this.F=[]}}else lXh(this,a.type,a.C,a.O)};
m.Zdb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,lXh(this,a.type,c.Tj,c.C)};function lXh(a,b,c,d){if(c){var e;"bu"==b?e=d7(a.D).ud(c):e=d7(a.D).F[c];(b=e)&&i7(b.C)&&void 0===b.C.C.getId()?a.F.push(c):b&&!vQh(b)&&(e=Uj(b.F).Rf(),e=ae(e),hXh(e,!1),b=new gXh(c,e,b.JR()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.fMb=function(a){for(var b=0;b<a.length;b++);};
m.dMb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);mXh(this,d,c)};m.Syb=function(a,b){if(0<b.length){for(var c=d7(this.D),d=0;d<b.length;d++){ya(b[d]);var e=ae(b[d]);hXh(e,!0);e=new Q6(e);x7(c,new xQh(e),"o")}c.flush(!0)}a()};m.Ryb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);mXh(this,d,c);a()};
function mXh(a,b,c){if(a=FOh(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ja=function(){kXh.Ua.Ja.call(this);delete this.D;delete this.Ma;delete this.C};function nXh(a,b){var c=new Bff(new pff([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));Dff(c,b);b=c.D;a=null!=K(a.ah,50)?K(a.ah,50):4;L(b,5,oXh(a));return Tif(c)}function oXh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function pXh(a,b){this.F=a;this.D=b;this.H=$6(this.D);this.C=null};function qXh(a){this.F=a}qXh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ud(b.C))?b7(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};qXh.prototype.D=ea(0);function rXh(a,b){this.F=a;this.H=d7(this.F);this.J=b}rXh.prototype.C=function(a,b){var c=this.H.ud(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.HB())return["Draft comment"];b=[];c=s7(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Fk()){var h=this.J;var k=f.M3();null==k?h="":(h=h(k).C(),h=null==h?"":lxd(h,axd.getInstance()))}else h=f.yx();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(Y6(f.Gw())+(" on "+a.format(uPh(f)))));b.push(h+f)}return b};
rXh.prototype.D=ea(0);function sXh(a){this.odc=a;return this}t(sXh,f5);sXh.prototype.shouldOverrideHide=g("odc");sXh.prototype.shouldOverrideHide=sXh.prototype.shouldOverrideHide;function tXh(a){this.C=a}v(tXh,f5);pa("docos.api.ToggleShowStreamPaneArgs",tXh,void 0);tXh.prototype.getDisplay=g("C");tXh.prototype.getDisplay=tXh.prototype.getDisplay;function uXh(a){mB.call(this,a);this.mj("back-to-document",[85]);this.mj("next-doco",[74]);this.mj("prev-doco",[75]);this.mj("prev-anch",[75,1]);this.mj("next-anch",[74,1]);this.mj("resolve",[69]);this.mj("reopen",[69,1]);this.mj("reply",[82]);this.mj("speak-comment",Ht(["A","C"]));this.addEventListener("shortcut",this.Ea)}t(uXh,mB);uXh.prototype.Ea=function(a){this.dispatchEvent(a.identifier)};function vXh(a,b,c){b=c||b;var d=a.cK,e=a.c5b;c=a.N$a;var f=a.M$a,h=a.oo,k=a.K2,l='<div class="'+U("docos")+" "+U("docos-streampane-container")+'" role="dialog" aria-label="';l+=Hx("Comment history box.");var n='"><div class="'+U("docos-streampane-content")+'">';e?(a='<div class="'+U("docos-streampane-header")+'"><div class="'+U("docos-new-comment-button")+'">',b=b={oo:h},e="",b.oo?(e+='<div class="'+U("docos-ns-caption")+'">'+T('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+U("docos-ns-caption-text")+'">',e+="Comment</div></div>"):(e+='<div class="'+U("docs-material")+'">'+R(wOh({$h:"docos-icon-add-comment",EB:"docos-icon-add-comment-size",We:"docos-new-comment-icon",RR:!0})),e+="Comment</div>"),b=T(e),a=a+R(b)+"</div>",d?(d='<div class="'+U("docos-notification-settings")+'">',h=h={oo:h},h=h.oo,h=T('<div class="'+U("docos-ns-caption")+'">'+(h?T('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(wOh({$h:"docos-icon-bell",EB:"docos-icon-bell-size",We:"docos-ns-caption-icon"})))+'<div class="'+U("docos-ns-caption-text")+'"><div class="'+U("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+R(h)+"</div>"):h="",k=a+h+(k?'<div class="'+U("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=b,d=a.XC,k=a.cK,a=a.lJ,h='<div class="'+U("docos-streampane-entryarea")+" "+U("hide-on-readonly")+'">'+R(xOh({size:48,We:"docos-streampane-avatar"}))+'<div class="'+U("docos-streampane-entryarea-content")+
'"><div class="'+U("docos-streampane-username")+" "+U("goog-inline-block")+'">'+R(d)+"</div>"+R(yRh({We:"docos-streampane-input-pane",vec:!0,lJ:a},h)),k&&(h+='<div class="'+U("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=T(h+"</div></div>"));l+=n+k;c&&(l+='<div class="'+U("docos-streampane-bannertext")+'">'+R(c),f&&(l+='<a target="_blank" rel="noreferrer" href="'+U(Ix(f))+'" class="'+U("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
U("docos-streampane-readonlytext")+" "+U("show-on-readonly")+" "+U("goog-inline-block")+'">';return T(l+"You do not have permission to add comments.</div></div></div>")}function wXh(){var a='<div class="'+U("docos-streampane-error")+'">';return T(a+"Commenting disabled due to a network error. Please reload the page.</div>")};function xXh(){return T('<div class="'+U("docos-spinner")+'" dir="ltr"><div class="'+U("docos-quantum-spinner")+" "+U("active")+'">'+yXh({Fq:"spinner-blue"})+yXh({Fq:"spinner-red"})+yXh({Fq:"spinner-yellow"})+yXh({Fq:"spinner-green"})+"</div></div>")}
function yXh(a){a=a.Fq;return T('<div class="'+U("spinner-layer")+" "+U(a)+'"><div class="'+U("spinner-circle-clipper")+" "+U("spinner-left")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-gap-patch")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-circle-clipper")+" "+U("spinner-right")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div></div>')};function zXh(a,b){Z6.call(this,a,b);this.D=null}v(zXh,Z6);zXh.prototype.Ba=function(){var a=this.oa();this.D=Sy(xXh,{},void 0,a);this.kb(this.D)};zXh.prototype.jf=function(){this.D.parentElement.removeChild(this.D)};zXh.prototype.Ja=function(){delete this.D};function AXh(a,b){Ro.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=f7(this.O);this.Jg=null;this.R=new mB(this.C.oa().Wb());this.R.mj("blur",27);this.V=new GA(this);this.qa(this.V);this.V.Pb(this.J.Ra("docos-new-doco"),rt,this.fRb).Pb(this.J.Ra("docos-highlight-doco"),rt,this.eRb);this.listen(this.C,"bd",this.dRb).listen(this.C,"br",this.gRb)}t(AXh,Ro);
function BXh(a){0==a.D&&0<a.C.zc()&&(a.D=CXh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.zc();c++)CXh(a,c)==a.D&&(b=c);DXh(a);S7(a.C,!1);b=a.C.Cc(b).getId();b=new lOh(b,a.C.getId());a.J.xf("docos-before-highlight-doco").qb(b);a.J.xf("docos-highlight-doco").qb(b)}}function DXh(a){a.Jg||(a.Jg=new py(a.C.oa().Wb()),a.qa(a.Jg));a.listen(a.Jg,"focusin",a.NYa).listen(a.R,"shortcut",a.XOa)}m=AXh.prototype;
m.NYa=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,EXh(this,!0),S7(this.C,!0),this.Bc(this.Jg,"focusin",this.NYa).Bc(this.R,"shortcut",this.XOa),a=R6(),this.J.xf("docos-before-highlight-doco").qb(a),this.J.xf("docos-highlight-doco").qb(a))};m.XOa=function(){S7(this.C,!1);EXh(this,!1)};
m.eRb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Gc(a)){if(this.D=v7(d7(this.O),b.C),b.D==this.C.getId()){DXh(this);EXh(this,!1);a instanceof XUh&&(a.Sh(!0),bVh(a,!0));S7(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof XUh)a:if(PUh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.O.focus();else{b=s7(a.ud(),!1);for(var c=b.length-1;0<=c;c--)if(KUh(a.H[b[c].getId()]))break a;KUh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,S7(this.C,!0),EXh(this,!0)};
m.fRb=function(a){a=a.data;var b=y7(d7(this.O),a.Lp);if(b){for(var c=0;c<this.C.zc();c++)if(b.getId()==this.C.Cc(c).getId()){this.D=a.Lp;break}this.F=!0;S7(this.C,!1,!0);EXh(this,!1)}};m.dRb=function(){FXh(this)};m.gRb=function(){d7(this.O).V||FXh(this)};function FXh(a){if(1==a.C.zc())a.D=0,S7(a.C,!1);else{for(var b=0,c=0;c<a.C.zc();c++)if(CXh(a,c)==a.D){b=c;break}b==a.C.zc()-1?b--:b++;a.D=CXh(a,b);a.F=!0;S7(a.C,!1,!0);EXh(a,!1)}}
function EXh(a,b){for(var c=N7a(a.C),d=0;d<c.length;d++){var e=a.C.Gc(c[d]);e instanceof XUh&&(e.Sh(b),bVh(e,b))}}function CXh(a,b){return v7(d7(a.O),a.C.Cc(b).getId())};function GXh(a,b,c){this.D=a;this.F=b;this.C=c||null};function HXh(a,b,c,d){Z6.call(this,a,d);this.Ia=c;this.context=a;this.D=b;this.D.YAa(this);this.O={};this.J=[];this.H=[];this.Ca=!1;this.ma=this.F=this.R=null;this.xa=new GA(this);this.qa(this.xa);a=d7(this.context);this.getHandler().listen(a,"bu",this.$5b).listen(a,"dd",this.A6b).listen(a,"f",this.a7b).listen(b,"rv",this.Gac).listen(this,"ra",this.r8b).listen(this,"sd",this.W8b).listen(this,"sr",this.X8b).listen(this,"sn",this.G8b).listen(this,"sp",this.H8b).listen(this,"bd",this.a6b).listen(this,
"ar",this.N5b).listen(this,"ph",this.s7b);HOh(this)}v(HXh,Z6);m=HXh.prototype;
m.Ha=function(){HXh.Ua.Ha.call(this);oA(this.getElement(),"docos");gy(this.getElement(),["docos","docos-stream-view"]);Sx(this.getElement(),"list");UPh(this.C)?fy(this.getElement(),"docos-stream-view-height"):(fy(this.getElement(),"docos-stream-view-legacy"),fy(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.D&&fy(this.getElement(),"docs-gm");"material_blue"==this.C.D?fy(this.getElement(),"docos-gm-blue"):"material_green"==this.C.D?fy(this.getElement(),"docos-gm-green"):"material_yellow"==
this.C.D&&fy(this.getElement(),"docos-gm-yellow");gy(this.Db(),this.D.nQ());this.getHandler().listen(this,"rd",this.geb);var a=f7(this.context);this.xa.Pb(a.Ra("docos-highlight-doco"),rt,this.Vha);$6(this.context).rb&&ey(this.getElement(),"docos-layout-vertical")&&(this.R=new AXh(this.context,this),this.F=this.gb.createElement("DIV"),fy(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.wy).listen(this.F,"focus",this.J8b),IXh(this).appendChild(this.F),this.ma=new eC);
this.bFa()};m.AIa=ea(!0);m.P$=function(){this.D.eK();JXh(this);this.D.kK(!0);this.dispatchEvent("ail")};m.wy=function(){BXh(this.R)};m.J8b=function(){var a=this.R;a.H=!0;BXh(a)};m.bFa=function(){var a=d7(this.context);if(Md(a.C)){this.D.kK(!1);a=$d(a.C);for(var b in a)KXh(this,b);this.D.NJ();this.P$()}};m.uA=function(a,b){for(var c=this.zc()-1;0<=c;--c){var d=this.Cc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.uA()}};
m.Vha=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.ma&&this.D.Eja(a,c)){if(this.ma&&a&&this.D.Jq()!=a){var d=this.zc();d="Comment "+(vx(this,this.Gc(a))+1+(" of "+(d+" ")));fC(this.ma,d)}this.dispatchEvent("us");this.D.qpa(a,c,b);JXh(this);this.dispatchEvent("ud")}};m.$5b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Tj;c=c.C;b&&(d7(this.context).ud(b),(c=this.Gc(b)||c&&this.Gc(c))?(c.getId()!=b&&c.Lc(b),this.J.push(b)):this.O[b]=!0)}};m.A6b=function(a){this.H.push(a.C)};
function JXh(a){a.Ca||a.D.qz()}m.a7b=function(a){this.D.kK(!a.F);this.Ca=!0;for(var b=0;b<this.H.length;++b)LXh(this,this.H[b]);for(var c in this.O)KXh(this,c);Ud(this.O)||this.D.NJ();for(b=0;b<this.J.length;++b)MXh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.eK();this.D.qz();this.Ca=!1;this.D.kK(!0)};m.geb=function(a){this.Gc(a.Tj)&&(this.D.I_(a.Tj),JXh(this))};
m.r8b=function(a){var b=d7(this.context).ud(a.Tj);if(a=$6(this.context).H.reanchor)b=r7(b),b=rOh("reanchor").addAnchorId(b).build(),a(b),this.context.ma=!0};m.W8b=function(a){var b={text:a.C,fn:a.fn,Lp:a.Lp,xeb:a.fn,X0:a.X0};a.fn&&$6(this.context).Fc&&(b.quote=(0,$6(this.context).Fc)(a.fn));a.fn&&$6(this.context).Oa&&(b.fn=(0,$6(this.context).Oa)(a.fn));f7(this.context).xf("docos-new-doco").qb(b)};
m.X8b=function(a){var b=d7(this.context).ud(a.Tj);if(!b)throw Error(a.Tj+" not contained within appropriate stream.");var c=f7(this.context);b.isResolved()?c.xf("docos-resolve-doco").qb(new IOh(a.Tj,!1,a.C)):c.xf("docos-new-reply").qb(new GXh(a.Tj,a.C,a.X0))};m.G8b=function(){this.D.highlightNext()};m.H8b=function(){this.D.highlightPrevious()};m.a6b=function(){this.D.Sha()};m.N5b=function(){this.D.Qha()};
function KXh(a,b){var c=d7(a.context).ud(b);c&&a.Ia(c)&&!a.Gc(b)&&(a.dispatchEvent("us"),a.D.gV(c),a.dispatchEvent("ud"),a.R&&S7(a,!0))}function MXh(a,b){a.dispatchEvent("us");var c=a.Gc(b);if(c){var d=d7(a.context).ud(b);d&&a.Ia(d)?(c.update(),a.D.I_(b)):LXh(a,b)}a.dispatchEvent("ud")}function LXh(a,b){b&&(a.dispatchEvent("us"),a.D.jT(b),a.dispatchEvent("ud"))}m.Gac=function(a){for(var b=a.sIa.length,c=0;c<b;++c)LXh(this,a.sIa[c])};m.q7=function(){for(var a=this.zc(),b=0;b<a;++b)this.Cc(b).q7()};
function IXh(a){return(a=a.getElement())?a.parentElement:null}function S7(a,b,c){if(!b&&!c||0!=a.zc())a.oa().Ri(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Ri(a.F,b))}m.Ja=function(){HXh.Ua.Ja.call(this);delete this.xa};m.s7b=function(){var a=this.D.pW();null==a||a.isDisposed()||(a.update(),a.focus())};function NXh(a){A.call(this);this.C=[];this.D=!1;this.F=new Cq;this.H=a?!1:!0}t(NXh,A);NXh.prototype.start=function(){this.H=!0;OXh(this)};function OXh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Mk(u(a.J,a)))}NXh.prototype.J=function(){this.C.shift()();this.D=!1;OXh(this)};NXh.prototype.Ja=function(){this.F.dispose();A.prototype.Ja.call(this)};function PXh(a,b,c,d){HXh.call(this,a,b,c,d);this.Oa=new NXh;this.L=[];this.La=new zXh(a,d);this.Ea=!1;this.V=null}v(PXh,HXh);m=PXh.prototype;m.AIa=g("Ea");m.P$=function(){PXh.Ua.P$.call(this);this.La.jf();this.Ea=!0;this.V&&this.Vha(this.V)};m.eFa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Gc(b)||(KXh(this,b),a++)}0==this.L.length?this.P$():(a=this.Oa,b=u(this.eFa,this),a.C.push(b),OXh(a))};
m.bFa=function(){var a=d7(this.context);if(Md(a.C)){this.La.render(IXh(this));this.D.kK(!1);a=$d(a.C);for(var b in a)this.L.push(b);b=this.Oa;a=u(this.eFa,this);b.C.push(a);OXh(b)}};m.Vha=function(a){this.Ea?PXh.Ua.Vha.call(this,a):this.V=a};function QXh(a,b,c,d,e){H7.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];$6(a).xc&&(c=c.concat(["link"]));this.L=new ZPh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);PUh(this);this.Ia+=" docos-streamdocoview-input-pane";this.jc="Discard reply";this.Ca=this.V=this.La=this.Ta=this.Pa=this.Ea=null}t(QXh,H7);m=QXh.prototype;
m.Ba=function(){H7.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Ea=a.bb("docos-streamdocoview-inputcontainer",b);this.Pa=a.bb("docos-streamdocoview-reopen-control",b);this.Ta=a.bb("docos-streamdocoview-resolve-control",b);this.L.Wa(a.bb("docos-actionmenu-outer",b));by(this.L.F.Ka(),"More options");this.La=a.bb("docos-author",b);this.V=oV(a,"IMG","docos-streamdocoview-avatar",b);this.Ca=oV(a,"IMG","docos-streamreplyview-avatar",this.Ea);a=this.oa();b=this.getElement();var c=a.bb("docos-docoview-comment",
b);c&&($6(this.getContext()).C.C(c,"Reply to this comment"),by(c,"Reply to this comment"));if(c=a.bb("docos-docoview-resolve",b))$6(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),by(c,"Mark as resolved and hide discussion");if(a=a.bb("docos-docoview-reopen",b))$6(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),by(a,"Mark as open and return discussion to the document view")};
m.Ha=function(){H7.prototype.Ha.call(this);RXh(this);var a=this.getElement();this.D.V=a;a7(a7(a7(a7(this,this.L,"d",this.Z1a),this.L,"e",this.K6b),this.L,"r",this.C8b),this.L,"ra",this.t8b);a=this.ud().Gw();SXh(this,a);TXh(this,a);a=$6(this.getContext()).Vg();LOh(c7(this.getContext()),this.Ca,a.D,Y6(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Ca&&this.C.C.C(this.Ca,a)};m.Lc=function(a){H7.prototype.Lc.call(this,a);this.L&&aQh(this.L,a)};
m.update=function(){H7.prototype.update.call(this);var a=this.ud().Gw();SXh(this,a);TXh(this,a);this.L.update();RXh(this);this.Ea&&(a=!Ud(this.H)||B7(this.D)||this.zl(),P(this.Ea,a))};function SXh(a,b){var c=c7(a.getContext()),d=b.D;a.V&&dUh(b,a.ud().getOrigin())&&(d=iRh(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));LOh(c,a.V,d,Y6(b))}function TXh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.La&&a.C.C.C(a.La,c),a.V&&a.C.C.C(a.V,c))}
function RXh(a){var b=a.ud();a.Pa&&P(a.Pa,b.isResolved());a.Ta&&P(a.Ta,!b.isResolved())}m.yYa=function(a){var b=this.getElement();a=a.target;ey(a,"docos-docoview-comment")&&b?this.D.ready():ey(a,"docos-docoview-resolve")&&b?UXh(this):ey(a,"docos-docoview-reopen")&&b&&VUh(this)};m.K6b=function(){HUh(this.F)};m.C8b=function(){this.ud().isResolved()?VUh(this):UXh(this)};m.t8b=function(a){this.dispatchEvent(new ARh("ra",this.ud().getId()));a.stopPropagation()};
function UXh(a){var b=f7(a.getContext());a.dispatchEvent("br");var c=new IOh(a.getId(),!0,B7(a.D)?a.D.getValue():null);b.xf("docos-resolve-doco").qb(c);a.dispatchEvent("ar")}m.q7=function(){var a=this.F;a.Jb&&!a.H.zl()||CUh(a)};m.vd=function(){H7.prototype.vd.call(this);var a=c7(this.getContext());e7(a,this.V);e7(a,this.Ca)};m.Ja=function(){H7.prototype.Ja.call(this);delete this.L;delete this.La;delete this.V;delete this.Ca;delete this.Ea;delete this.Pa;delete this.Ta};function VXh(a,b,c,d){this.C=a;this.D=b;this.cb=c;this.H=d}VXh.prototype.F=function(a){a=d7(this.C).ud(a);var b=this.D.hk().getId();return new QXh(this.C,a.getId(),b,this.cb,this.H)};function WXh(a,b){J7.call(this,a,b)}v(WXh,J7);m=WXh.prototype;m.P3=function(){return"none"!=$6(this.getContext()).eb};m.Boa=function(a){return(new VXh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.wV=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=K7(this).eb;K7(this).Vg().getEmail();switch(c){case "creation":c=b.gy().getTime()-a.gy().getTime();break;case "priority":c=a.isResolved()?1:0;var d=b.isResolved()?1:0;(c-=d)||(a.isResolved()&&b.isResolved()?c=0:(d=b7(a),c=b7(b),d=zOh(d,K7(this))?1:0,c=(zOh(c,K7(this))?1:0)-d));c=c||XXh(this,a,b)||YXh(a,b);break;default:c=YXh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0);return c};
function YXh(a,b){return b.xQ().getTime()-a.xQ().getTime()}function XXh(a,b,c){a=K7(a).Vg().getEmail();var d=new Set,e=new Set;s7(b,!0).forEach(function(f){d.add.apply(d,ka(PSh(OSh,f.yx())))});s7(c,!0).forEach(function(f){e.add.apply(e,ka(PSh(OSh,f.yx())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.gV=function(a){var b=this.hk(),c=this.Boa(a),d=0;this.P3()&&(d=this.$ba(c));b.Ff(c,d,!0);c.update();if(c=b=this.Eba())b.C!=a.getId()?c=!1:(c=a.Sz()?r7(a):void 0,d=$6(this.getContext()).$i,d=null!=c&&d(c),c=null==c||a.isResolved()||!!wQh(a)||d);c&&(b=U6(pOh(T6(S6(a.getId()),this.qG()),b.D)),this.RRa(b,a))};m.jT=function(a){this.hk().Gc(a)&&(a=this.hk().removeChild(a),Mf(a))};m.I_=function(a){if(this.P3()){var b=this.hk();if(a=b.Gc(a)){var c=vx(b,a),d=this.$ba(a);c!=d&&b.Ff(a,d)}}};
m.Sha=function(){rVh(this,!0,!0)};m.Qha=function(){if(this.H&&this.Jq()){var a=this.Jq();D7(d7(this.getContext()),a);this.qG()&&f7(this.getContext()).xf("docos-highlight-doco").qb(U6(nOh(T6(S6(a),this.qG()))))}};m.eK=function(){tVh(this)};function ZXh(a){a=a||{};var b=a.ubc,c=a.vbc,d=a.Eab,e=a.Dab;a=a.Ucb;if(Ex(d)||Ex(c)){var f;Ex(a)&&Ex(c)?f='<a href="'+U(Ix(c))+'" title="'+U(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+U("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+U(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return T(b)};function $Xh(a,b){Q.call(this,b);this.C=a}t($Xh,Q);$Xh.prototype.Ba=function(){this.kb(Sy(ZXh,{Dab:K(this.C,4),Eab:this.C.xm(),Ucb:K(this.C,5),ubc:K(this.C,2),vbc:K(this.C,1)},void 0,this.oa()))};function aYh(a,b){Z6.call(this,a,b);this.Oc=new Qz(b);this.F=a;for(var c in aOh){a=aOh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new lU(d,a,b);this.Oc.Ga(a,!0)}this.D=new Yz("",this.Oc,lH.getInstance(),b);Zz(this.D,new Uz(null,9));this.D.QI=!0;this.Ga(this.D)}t(aYh,Z6);m=aYh.prototype;
m.Ha=function(){Z6.prototype.Ha.call(this);var a=this.oa(),b=a.bb("docos-ns-caption",this.getElement());a=a.bb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().Le(a,"Notifications");b=$6(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Oc.zc();a++){var c=this.Oc.Cc(a),d=c.getElement();a:{switch(c.Sa()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}a7(this,this.D,"action",this.ZRb);a7(this,this.C,"r",this.bxa);a7(this,this.getElement(),"keyup",this.bkb);a7(this,this.Oc,"show",this.YRb);a7(this,this.Oc,"hide",this.XRb);this.bxa()};m.YRb=function(){0<this.Oc.zc()&&this.Oc.gi(0)};m.XRb=function(a){a.stopPropagation()};m.bkb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.ZRb=function(a){var b=a.target.Sa(),c=oRh(this.F);b!=eXh(c)&&fXh(c,b);this.bxa();a.stopPropagation()};m.bxa=function(){var a=this;!this.C.R&&this.C.cK()?eXh(oRh(this.F)).then(function(b){for(var c=0;c<a.Oc.zc();++c){var d=a.Oc.Cc(c);d.$b(d.Sa()==b)}b=!a.C.R&&a.C.cK();a.D.Na(b)},void 0,this):this.D.Na(!1)};function bYh(a,b,c,d){Z6.call(this,a,b);this.H=new WXh(a,b);this.qa(this.H);this.D=c?new PXh(a,this.H,jfa(uQh),b):new HXh(a,this.H,jfa(uQh),b);this.Ga(this.D);this.J=a;this.Ca=null;this.Ia=!!d;Cj(this.C.ah,30)||(this.F=new XSh(a,b),this.qa(this.F),this.Ga(this.F),this.F.Ca="Add a comment");this.V=null;Cj(this.C.ah,30)&&this.C.cK()&&!this.C.ma&&(this.V=new aYh(a,b),this.Ga(this.V));this.L=null;this.C.K2()&&(this.L=new bU(b),this.Ga(this.L));this.O=null;Cj(this.C.ah,30)&&(this.O=new PA("",b,"legacy"!=
this.C.D?4:void 0),this.Ga(this.O));this.Ea=new GA(this);this.qa(this.Ea);this.xa=new $Xh(N(this.C.ah,T$e,2)||new T$e,b);this.Ga(this.xa);this.R=!1;this.ma=null;HOh(this)}v(bYh,Z6);m=bYh.prototype;m.WZa=0;m.rz=null;m.uaa=null;m.PV=null;m.iD=null;m.TP=null;
m.Ba=function(){var a="legacy"!=this.C.D,b=this.oa(),c=Sy(vXh,{XC:this.C.Vg().getName(),cK:this.C.cK(),c5b:!!Cj(this.C.ah,30),lJ:this.C.Ea,N$a:this.C.pz,M$a:this.C.Dt,oo:a,K2:this.C.K2()},void 0,b);Cj(this.C.ah,30)&&fy(c,"docos-enable-docs-header");a&&fy(c,"docs-gm");"material_blue"==this.C.D?fy(c,"docos-gm-blue"):"material_green"==this.C.D?fy(c,"docos-gm-green"):"material_yellow"==this.C.D&&fy(c,"docos-gm-yellow");this.kb(c);a=b.bb("docos-streampane-content",c);this.D.render(a);this.TP=Cj(this.C.ah,
30)?this.D.Db():this.C.L;this.xa.render(c);this.uaa=b.bb("docos-streampane-username",c);this.PV=oV(b,"IMG","docos-streampane-avatar",c)};
m.Ha=function(){bYh.Ua.Ha.call(this);var a=this.oa(),b=this.getElement();this.F&&this.F.Wa(a.bb("docos-streampane-input-pane",b));if(this.V){var c=a.bb("docos-notification-settings",b);this.V.Wa(c)}this.L&&(c=a.Fa("docos-priority-checkbox",b),this.L.render(c),this.L.$b(!0),this.L.setContent("Priority"),a7(this,this.L,"action",this.ebb));c=$6(this.J).C;this.O&&(a=a.bb("docos-new-comment-button",b),this.O.Wa(a),c.C(a,this.C.La?"Add comment not available":"Add a comment"),a7(this,this.O,"action",this.aeb),
this.T3a(),this.getHandler().listen(this.C,"r",this.T3a));this.C.xa&&(b=this.C.xa,this.F&&(this.F.V=b));Bp(b,!0);this.iD=new uXh(b);Jo(this.iD,"next-doco",this.P7b,!0,this);this.iD.addEventListener("prev-doco",this.i8b,!0,this);Jo(this.iD,"resolve",u(this.c9a,this),!0);Jo(this.iD,"reopen",u(this.feb,this),!0);Jo(this.iD,"back-to-document",this.H$a,!0,this);Jo(this.iD,"speak-comment",this.Gec,!0,this);b=f7(this.J);a=this.C.La?this.l7b:this.eeb;this.Ea.Pb(b.Ra("docos-highlight-doco"),rt,a);this.F&&
a7(this,this.F,"p",this.L5b);a7(a7(a7(a7(a7(a7(a7(a7(this,this.getElement(),"click",this.beb),this.D,"f",this.b7b),this.D,"b",this.d6b),this.D,"e",this.S6b),this.D,"us",this.V8b),this.D,"ud",this.U8b),this.D,"ail",this.T8b),this,["aftershow","afterhide"],this.deb);b=this.C.Vg();jRh(c7(this.J),this.PV,b.D,Y6(b));this.uaa&&(a=b.getName())&&this.C.C.C(this.uaa,a);this.PV&&(a=b.getName())&&this.C.C.C(this.PV,a);this.Ia||(this.Ca=new oC(this.getElement(),this.oa()),this.qa(this.Ca),pC(this.Ca));cYh(this)};
m.deb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof Uef;var d=(new W6(b)).setNonAnchored(!0).setApiEventArgs(new sXh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.q7=function(){this.D.q7()};m.beb=function(a){ey(a.target,"docos-streampane-notificationslink")&&!this.C.R&&this.dispatchEvent("dnd")};
m.L5b=function(){var a=this.F.getValue();Cd(a)||(f7(this.J).xf("docos-new-doco").qb({text:a,fn:null,Lp:0,quote:null}),this.rz=null)};m.b7b=function(a){if(a=a.target)this.rz=a.getElement()};m.d6b=function(a){dYh(this,a)};m.S6b=function(a){dYh(this,a)};function dYh(a,b){(b=b.target)&&b.getElement()==a.rz&&(a.rz=null)}m.V8b=function(){null!=this.rz&&(this.WZa=this.rz.offsetTop)};m.U8b=function(){null!=this.rz&&this.TP&&(this.TP.scrollTop+=this.rz.offsetTop-this.WZa)};m.T8b=function(){this.dispatchEvent("initial-load-complete")};
m.eeb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&eYh(this,a.C||null);if(a=a.C?this.D.Gc(a.C):null)this.rz=a.getElement()};m.l7b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?d7(this.J).ud(b):null)&&(b=(new W6("toggle-show-stream-pane")).addAnchorId(r7(b)).addDocoHandle(v7(d7(this.J),b.getId())).setNonAnchored(!(b.Sz()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new tXh(!0)).build(),c(b));eYh(this,a.C||null)};
function eYh(a,b){(b=b?a.D.Gc(b):null)?(a.rz=b.getElement(),a.TP&&(a.TP.scrollTop=b.getElement().offsetTop)):a.rz=null}m.P7b=function(){this.H.highlightNext()};m.i8b=function(){this.H.highlightPrevious()};m.c9a=function(){var a=this.H.pW(),b=this.H.Jq();b=b?d7(this.J).ud(b):null;a&&b&&(a=a.F,b.Fk()?AUh(a):zUh(a,!0))};m.feb=function(){var a=this.H.pW();a&&zUh(a.F,!1)};m.H$a=function(){var a=f7(this.J),b=this.H.Jq();a.xf("docos-back-to-document").qb({Tj:b})};m.Gec=function(){var a=this.H.pW();a&&WUh(a)};
function cYh(a){if(a.R&&!a.ma&&a.sb()){var b=Sy(wXh);a.ma=new Q;a.ma.Wa(b);a.Ff(a.ma,0)}}m.T3a=function(){this.O.Na(this.C.Pf)};m.aeb=function(){this.dispatchEvent("create-draft")};m.ebb=function(){var a=f7(this.J),b=this.L.isChecked()?"updated":"priority";a.xf("docos-update-sort").qb({Cec:b})};m.vd=function(){bYh.Ua.vd.call(this);e7(c7(this.J),this.PV)};
m.Ja=function(){bYh.Ua.Ja.call(this);delete this.uaa;delete this.PV;delete this.rz;delete this.TP;delete this.xa;delete this.F;delete this.H;delete this.D;delete this.Ea;this.iD&&(delete this.iD,this.iD=null)};function fYh(a){A.call(this);this.H=a;a=$6(a);null!=K(a.ah,44)&&null!=K(rY(a.ah),39)&&Cj(rY(a.ah),39)?a=null:a=(a=N(a.ah,qY,7))?a:new qY;this.C=a;this.D=null;this.F=aq();oNh(this.H,"netIo")&&this.F.resolve()}v(fYh,A);
function eXh(a){if(a.C)return Xp(gYh(a.C));a.D||(a.D=a.F.C.then(function(){return new Wp(function(b,c){bRh(a.H.get("netIo"),"uc",void 0,function(d){return b(new NNh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.vp();a.D=null;return gYh(a.C)},void 0,a)}function fXh(a,b){var c="all"==b;b="none"==b;var d=(new qY).Na(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new eOh;b=Oj(b,1,a.C);bRh(a.H.get("netIo"),"uc",b)}
function gYh(a){return Gj(a,2,!0)?Cj(a,3)?"all":Gj(a,4,!0)||Gj(a,5,!0)?"important":"none":"none"};function hYh(a,b){var c=a.ud(),d=b.ud();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.gy();a=d.gy();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function iYh(a,b){this.C=a;this.od=b}iYh.prototype.ud=g("C");iYh.prototype.getPosition=g("od");function jYh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function kYh(a,b){return a.C().Cc(b).getId()}function lYh(a,b){for(var c=a.C().zc(),d=0;d<c;++d)a.H(kYh(a,d),Infinity);a.layout(b||[])}m=jYh.prototype;m.layout=function(a){do{var b=a;mYh(this,0,this.C().zc(),1,-Infinity,this.Ekb,this.Fkb,b);b=a;mYh(this,this.C().zc()-1,-1,-1,Infinity,this.J$a,this.K$a,b);a.pop()}while(0<a.length)};function nYh(a,b){0==a.D&&(a.D=1);a.F=id(b,a.F);md(a.F)}
function oYh(a){0!=a.D&&(2==a.D?lYh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function mYh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=kYh(a,b);var n=b;n=a.C().Cc(n).getHeight();var q=a;var r=b;r=q.C().Cc(r).ud().getId();q=q.J(r);r=a.L(l);e=ad(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.Ekb=function(a,b){return b+a+10};m.J$a=function(a,b){return b-10};m.Fkb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.K$a=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function pYh(a,b){var c=this;zVh.call(this,a,b);this.F={};this.ma={};this.Ea=new jYh(u(this.hk,this),u(this.EUa,this),u(this.Gqa,this),u(this.vcc,this));this.Ta=$6(a).Zn;this.Ia=new DL;this.jb=!0;this.Rb=new Mq(this.Mgc,500,this);this.Oa=this.Qa=null;this.La=pRh(a);this.Jb=new so;this.qa(this.Jb);to(this.Jb,this.La.D,function(){c.Pa=!0;c.$a&&qYh(c,c.$a);oYh(c.Ea);c.rb&&c.qz();c.Pa=!1});this.rb=!1;this.$a=null;this.Ya=this.Pa=!1}v(pYh,zVh);var rYh=null;m=pYh.prototype;
m.nQ=function(){var a=pYh.Ua.nQ.call(this);a.push("docos-layout-vertical");return a};m.P3=ea(!0);m.kK=da("jb");m.wV=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=v7(d7(this.getContext()),a.getId()),d=v7(d7(this.getContext()),b.getId());return hYh(new iYh(a,this.C[c]||new Lm(Number.MAX_VALUE,Number.MAX_VALUE)),new iYh(b,this.C[d]||new Lm(Number.MAX_VALUE,Number.MAX_VALUE)))};m.I_=function(a){this.NJ(a,!1)};m.Lya=function(a){pYh.Ua.Lya.call(this,a);this.qz()};
m.R_a=function(){for(var a=this.hk(),b=a.zc(),c=0;c<b;c++){var d=a.Cc(c);d.getId()!=this.Jq()&&d.getId()!=this.oW()&&d.B$()&&d.collapse()}};m.eK=function(){FVh(this);tVh(this);for(var a=this.hk(),b=a.zc(),c=0;c<b;++c){var d=a.Cc(c);d.B$()&&!d.zl()&&d.aAa()}a=[];(b=this.Jq())&&a.push(b);this.La.C||this.Pa?(b=this.Ea,b.D=2,nYh(b,a||[])):lYh(this.Ea,a);sYh(this)};m.o2=function(a){this.Qa=a.clone();this.Oa&&this.Oa.contains(a)?this.Rb.start():(a=this.Rb,a.stop(),a.Yra())};
m.Mgc=function(){if(this.O){this.Oa=this.Qa.clone();var a=this.hk();this.Oa.expand(500,0,500,0);var b=a.zc(),c="";0<b&&(c=a.Cc(b-1).getId());for(var d=0;d<b;d++){var e=a.Cc(d),f=this.ma[e.getId()];f=tYh(e,this.Oa,f.y,c);e.setVisible(f)}}};
m.qz=function(){pYh.Ua.qz.call(this);if(this.La.C)this.rb=!0;else{oYh(this.Ea);var a=this.hk(),b;for(b in this.F){var c=a.Gc(b);if(c){var d=b==this.Jq()||b==this.oW()?-10:this.Ta,e=!c.axa();b!=this.Jq()&&b!=this.oW()&&this.ob&&(e=e&&this.ob.Ta);this.Bha(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}sYh(this);this.rb=!1}};function tYh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.zl()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function sYh(a){var b=K7(a).H.bounds;b&&(a=a.n2(),!rYh&&!a||td(rYh,a)||(rYh=a,a=(new W6("bounds")).setUserInitiated(!0).build(),b(a)))}m.Gqa=function(a){if(a&&!(a in this.F))if(K7(this).Pa){var b=this.EUa(a);null!==b&&(this.F[a]=b)}else if(b=this.hk().Gc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.vcc=function(a,b){this.F[a]=b};m.NJ=function(a){FVh(this);if(K7(this).Pa)uYh(this);else{var b=[];this.Jq()&&b.push(this.Jq());a&&b.push(a);vYh(this,b)}};
function uYh(a){K7(a).Pa&&(a.F={});var b=a.Jq();vYh(a,b?[b]:[])}function vYh(a,b){a.La.C||a.Pa?nYh(a.Ea,b):a.Ea.layout(b)}m.dK=function(a){var b=Od(a),c=Md(this.C),d=b.length!=c;this.Ya=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Ya=!0;break}}d&&(this.La.C?this.$a=a:qYh(this,a))};
function qYh(a,b){a.C=b;wYh(a);FVh(a);a.Ya&&(tVh(a),a.Ya=!1);uYh(a);b=a.Ia.hf();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.gV(d)}a.NJ();a.qz();a.$a=null}function wYh(a){var b=Object.keys(a.C);b.sort(u(a.x$b,a));a.Ia.clear();for(var c=d7(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=y7(c,parseInt(e,10));f&&c.R(f)&&a.Ia.set(e,a.Ia.le())}}
m.x$b=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=y7(d7(this.getContext()),c);d=y7(d7(this.getContext()),d);return hYh(new iYh(c,b),new iYh(d,a))};m.jT=function(a){pYh.Ua.jT.call(this,a);wYh(this)};m.$ba=function(a){a=v7(d7(this.getContext()),a.getId()).toString();var b=this.Ia.get(a);null==b&&(wYh(this),b=this.Ia.get(a));return b};
m.Bha=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Qa){var h=this.hk();f=h.zc();h=h.Cc(f-1).getId();f=tYh(c,this.Qa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.jb&&l&&this.hk().zc()<xYh(this);k=this.jb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));vOh(this.J,h);var n=new XNh(e,[a,b],f,fN);uOh(this.J,h,n,f,function(){return Mf(n)})}else Uw(e,
a,b),f||c.setVisible(!1);c.xc=-10==a;this.ma[h]=new Lm(a,b);this.F[h]=b}};function yYh(a,b){return(a=a.C[b])?a.y:null}m.EUa=function(a){a=v7(d7(this.getContext()),a);return yYh(this,a)};m.Uqa=function(a,b){a=yYh(this,a);return null===a?null:new Lm(b?-10:this.Ta,a)};
m.n2=function(){var a=this.hk();if(!a||!a.sb())return null;var b=a.zc();if(!b)return null;var c=a.Cc(0);b=a.Cc(b-1);a=b.getElement();c=this.Gqa(c.getId());b=this.Gqa(b.getId());return null!=c&&null!=b?[c,210+this.Ta,b+a.offsetHeight,this.Ta]:null};function xYh(a){a=K7(a);return(a=null!=K(a.ah,47)?K(a.ah,47):null)?a:100};function zYh(a){this.C=a}v(zYh,f5);pa("docos.api.WriteFeedbackArgs",zYh,void 0);zYh.prototype.getSource=g("C");zYh.prototype.getSource=zYh.prototype.getSource;if(!AYh)var AYh=ea("");if(!BYh)var BYh=ea("");function T7(a,b){var c=this;A.call(this);this.Tc=Ma();this.J={};this.F=new nRh;var d=T7.__default_config;d&&be(this.J,d);a&&be(this.J,a);this.D=new SPh(this.J,b);this.F.Af("config",this.D);this.ma={};Cj(this.D.ah,17)&&(this.Xa=new aRh,this.F.Af("errorReporter",this.Xa),this.Ywa=this.Xa.Va.C(this.Ywa));this.xa=null;this.V={};this.Ia=null;this.Ta=!1;this.Ya=!0;this.R=new VWh(this.F,this.D,this);CYh(this,"s",function(){c.C.Oa=!0;if(0<Md(c.C.C)){DYh(c);var e=c.D.Lk;e&&e(43082,3E4)}});CYh(this,"fe",u(this.nRb,
this));CYh(this,"p",u(this.kRb,this));this.Rb=new pXh(this,this.F);mNh();this.Ywa()}v(T7,A);pa("Docos",T7,void 0);pa("docos.api.connect",function(a){return new T7(a)},void 0);m=T7.prototype;m.t3a=!1;m.dT=null;m.Xa=null;m.c7=null;m.Nu=null;m.hn=null;m.kt=null;m.tYa=!1;m.jCa=null;m.Xt=null;m.dS=null;
m.Ywa=function(){if(this.Xa)for(var a in T7.prototype)Da(this[a])&&(this[a]=this.Xa.Va.C(this[a]));this.$a=new hRh(this.D);this.F.Af("imageManager",this.$a);a=new fYh(this.F);this.F.Af("subscriptionManager",a);this.Ca=new hWh(this.F);this.F.Af("impressionRecorder",this.Ca);this.eb=Kjd(Uo());this.qa(this.eb);this.bd=new cRh(this.eb);this.F.Af("relativeDateFormatter",this.bd);this.C=new BTh(this.D);this.F.Af("stream",this.C);this.Oa=new KWh(this.F);this.qa(this.Oa);this.Ma=new Ro(this);this.qa(this.Ma);
this.Ea=null;this.L=new HQh(this.F);this.F.Af("controller",this.L);this.H=new vWh(this.F,this.L);if(Cj(this.D.ah,19)){this.Ea=new kXh(this.F);this.qa(this.Ea);a=this.Ea;var b=u(this.WCb,this),c=u(this.Xta,this);a.C?a.C.tIa(u(a.Syb,a,b),u(a.Ryb,a,c)):c()}else this.Xta();this.dS=EYh(this);this.F.Af("contactStore",this.dS);this.Pa=this.D.Vg().getEmail()?new RVh(this.dS,this.D.Vg(),this.Ca,this.D.Bl):null;a=f7(this.F);this.O=this.jc=null;Xo("docs-aria-speakable")&&(this.jc=new Zif(void 0,!0),this.O=new eff(this.jc,
a),this.O.bind("docos-new-doco",new aXh),this.O.bind("docos-new-reply",new bXh),this.O.bind("docos-delete-doco",new fWh(this.C)),this.O.bind("docos-resolve-doco",new qXh(this.C)),this.O.bind("docos-speak-doco",new rXh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new jWh));this.Qa=new GA(this);this.qa(this.Qa);this.Qa.Pb(a.Ra("docos-cancel-insert-discussion"),rt,this.h6b).Pb(a.Ra("docos-delete-doco"),rt,this.iRb).Pb(a.Ra("docos-reject-doco-with-feedback"),rt,this.w6b).Pb(a.Ra("docos-convert-doco"),
rt,this.t6b).Pb(a.Ra("docos-before-highlight-doco"),rt,this.Eya).Pb(a.Ra("docos-highlight-doco"),rt,this.Xwa).Pb(a.Ra("docos-new-doco"),rt,this.jRb).Pb(a.Ra("docos-resolve-doco"),rt,this.mRb).Pb(a.Ra("docos-back-to-document"),rt,this.Y5b).Pb(a.Ra("docos-new-reply"),rt,this.O7b).Pb(a.Ra("docos-write-feedback"),rt,this.G9b).Pb(a.Ra("docos-disable-smart-todo-feature"),rt,this.B6b).Pb(a.Ra("docos-vote-doco"),rt,this.C9b).Pb(a.Ra("docos-vote-reply"),rt,this.D9b).Pb(a.Ra("docos-update-sort"),rt,this.s9b).Pb(a.Ra("mouse-hover-doco-view"),
rt,this.K7b);this.Ma.listen(this.C,"dd",this.H7b).listen(this.C,"af",this.M5b).listen(this.C,"bu",this.G7b).listen(this.C,"p",this.X7b).listen(this.D,"r",this.x0)};function EYh(a){var b=smd("client").then(function(){var c=qa("gapi.config.update");a.D.kpa&&c("googleapis.config/sessionIndex",a.D.kpa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return qa("gapi.client")});return new dWh(a.D,nXh(a.D,b),a.Tc)}
function DYh(a){a.dS&&!a.dS.C&&KPh(a.D.F)&&WPh(a.D)&&xSh(a.dS)}function FYh(a){a.kt||(GYh(a),a.kt=new bYh(a.F,Uo(a.D.L),a.D.Hm,a.D.Vd),a.Ma.listen(a.kt,"dnd",a.Bub),a.Ma.listen(a.kt,"initial-load-complete",a.tJb),a.Ma.listen(a.kt,"create-draft",a.Vd));return a.kt}m.Bub=function(){this.jb()};m.tJb=function(){var a=R7(this,"initial-pane-render-done");if(a&&this.jCa){var b=Ma()-this.jCa;a(new sOh("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.J;this.C.J=a;var c=this.C,d=this.D,e={},f=c.J;c=$d(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Sz()&&!vQh(k)){var l=RTh(k,f,d);k=$d(k.D);for(var n in k)l+=RTh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,be(a,e),this.Nu.uA(a));this.V=e;e={};for(var q in this.V)e[v7(this.C,q)]=this.V[q];return e};T7.prototype.find=T7.prototype.find;T7.prototype.Hd=function(){this.C.J&&(this.C.J=null,this.Nu.uA(this.V,!0),this.V={})};T7.prototype.clearFind=T7.prototype.Hd;
T7.prototype.rt=function(){var a=this.D;var b=QTh(this.C,a);b?(b=b.getKey(),a=(a=TTh(b,a))?mp(a).textContent:null):a=null;return a};T7.prototype.getSelectedMatchA11yContext=T7.prototype.rt;T7.prototype.highlightNext=function(a,b,c){this.hn&&this.hn.highlightNext(!!a,b,c)};T7.prototype.highlightNext=T7.prototype.highlightNext;T7.prototype.highlightPrevious=function(a,b,c){this.hn&&this.hn.highlightPrevious(!!a,b,c)};T7.prototype.highlightPrevious=T7.prototype.highlightPrevious;
T7.prototype.select=function(a,b){var c=y7(this.C,a);a=c?c.getId():"";b=c?new sY(a,b):null;c=this.C.ma;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.ma=b;b=c?this.Nu.Gc(c.getKey()):null;c=this.Nu.Gc(a);b&&b!=c&&b.uA();if(c){c.B$()&&(b=PTh(d7(this.F),this.D),c.expand(b?b.getKey():void 0));c.uA();b=OTh(this.C,this.Nu);d=f7(this.F);var e=oOh(S6(a));e.C=b?b.start:0;e=U6(e);d.xf("docos-before-highlight-doco").qb(e);D7(d7(this.F),a);
d.xf("docos-highlight-doco").qb(e);if(b&&ERh(c)&&(a=c.Db())){c=ex(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};T7.prototype.select=T7.prototype.select;T7.prototype.Ghc=function(){var a=this.C.ma;if(a){this.C.ma=null;(a=this.Nu.Gc(a.getKey()))&&a.uA();a=f7(this.F);var b=oOh(S6(""));b.C=0;b=U6(b);a.xf("docos-before-highlight-doco").qb(b);D7(d7(this.F),null);a.xf("docos-highlight-doco").qb(b)}};
T7.prototype.unselect=T7.prototype.Ghc;T7.prototype.Ihc=function(){var a=this.C,b=new qTh(a,"c"),c;for(c in a.C)b.C.push(new oTh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(rTh(b));a.flush(!0)};T7.prototype.updateAll=T7.prototype.Ihc;T7.prototype.TU=function(){return!!Cj(this.D.ah,19)&&!!this.D.Rb&&!this.D.Tc};T7.prototype.isSavingToOfflineStorage=T7.prototype.TU;T7.prototype.qN=function(){return 0<gTh.le()};T7.prototype.hasUnpostedDocos=T7.prototype.qN;
T7.prototype.tN=function(){for(var a=Od(this.C.L),b=0,c;c=a[b];b++){var d=this.C;if((c=JTh(d,c))&&(c.Fk()?XQh(d,c):d.R(c)))return!0}return!1};T7.prototype.hasVisibleAnchoredDocos=T7.prototype.tN;T7.prototype.GMb=function(a){var b=this.C,c=b.V;b.V=a;if(c!=b.V&&this.Nu&&(a=this.Nu,b=d7(a.context),Md(b.C))){for(c=a.zc()-1;0<=c;--c){var d=a.Cc(c).getId();MXh(a,d)}b=$d(b.C);for(d in b)KXh(a,d);a.D.eK();JXh(a);a.D.NJ()}};
T7.prototype.x0=function(){HYh(this);0<Md(this.C.C)&&DYh(this);if(this.kt)if("none"!=this.D.eb){var a=this.kt.D;a.D.eK();JXh(a)}else this.kt.q7()};T7.prototype.setResolvedAnchoredDocosVisible=T7.prototype.GMb;T7.prototype.t0=function(a,b,c){return IYh(this,a,b?b:void 0,c)};T7.prototype.newDoco=T7.prototype.t0;
T7.prototype.qU=function(a,b,c){if(null==a||Cd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=JYh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());tq(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Vkb();a=O7(f,u(f.gOb,f,a,d,e,b));
tq(a,c);break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();a=O7(f,u(f.dOb,f,a,d,e,b));tq(a,c);break;default:throw Error("Unknown NewDocoArgs type.");}};T7.prototype.interceptingNewDoco=T7.prototype.qU;function IYh(a,b,c,d,e,f,h){KYh(a,b,c);b=JQh(a.L,b,d||"draft",e,f,h);c&&0<b&&(d={},d[b]=c,U7(a).QV(d));return b}
function JYh(a,b,c,d,e,f,h){KYh(a,b,c);return tq(wWh(a.H,b,d||"draft",e,f,h),function(k){if(c&&0<k){var l={};l[k]=c;U7(a).QV(l)}return k})}function KYh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.ob();c&&(a.xa=c)}
T7.prototype.w0=function(a,b){if(null==a||Cd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return IYh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),MQh(this.L,a,c,d,b.Vkb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,NQh(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};T7.prototype.newDoco2=T7.prototype.w0;T7.prototype.sU=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");tq(tq(zWh(this.H,void 0,a,void 0,void 0,b,void 0),function(e){0<e&&d.rb(e);return e}),c)};T7.prototype.interceptingNewSuggestion=T7.prototype.sU;
T7.prototype.GO=function(a,b,c){var d=this;tq(tq(AWh(this.H,a,!0,b),function(e){LYh(d,a);return e}),c)};T7.prototype.interceptingAcceptSuggestion=T7.prototype.GO;T7.prototype.Bd=function(a){return YQh(this.L,a,!0)};T7.prototype.acceptSuggestions=T7.prototype.Bd;T7.prototype.uU=function(a,b,c){var d=this;tq(tq(AWh(this.H,a,!1,b),function(e){LYh(d,a);return e}),c)};T7.prototype.interceptingRejectSuggestion=T7.prototype.uU;T7.prototype.HO=function(a,b){var c=this.H;a=O7(c,u(c.XEa,c,a,!0));tq(a,b)};
T7.prototype.interceptingAcceptSuggestions=T7.prototype.HO;T7.prototype.Qla=function(a,b){b=UQh(this.L,a,!1,b);LYh(this,a);return b};T7.prototype.rejectSuggestion=T7.prototype.Qla;function LYh(a,b){(b=y7(a.C,b))&&a.hn&&a.hn.jT(b.getId())}T7.prototype.Rla=function(a){return YQh(this.L,a,!1)};T7.prototype.rejectSuggestions=T7.prototype.Rla;T7.prototype.vU=function(a,b){var c=this.H;a=O7(c,u(c.XEa,c,a,!1));tq(a,b)};T7.prototype.interceptingRejectSuggestions=T7.prototype.vU;
T7.prototype.LO=function(a,b){var c=this.H;a=O7(c,u(c.fdb,c,a));tq(a,b)};T7.prototype.interceptingDeleteReply=T7.prototype.LO;T7.prototype.KO=function(a,b){var c=this.H;a=O7(c,u(c.edb,c,a));tq(a,b)};T7.prototype.interceptingDeleteReplies=T7.prototype.KO;T7.prototype.$i=function(a){return(a=y7(this.C,a))?r7(a):null};T7.prototype.getAnchorData=T7.prototype.$i;T7.prototype.Dt=function(a){return(a=y7(this.C,a))?a.gI():null};T7.prototype.getSuggestionId=T7.prototype.Dt;T7.prototype.Bl=function(){return this.D.Vg().getId()};
T7.prototype.getCurrentAuthor=T7.prototype.Bl;T7.prototype.$j=function(a){return(a=y7(this.C,a))?a.Gw().getId():null};T7.prototype.getAuthor=T7.prototype.$j;T7.prototype.Lk=function(a){return(a=y7(this.C,a))?a.Gw().getName():null};T7.prototype.getAuthorName=T7.prototype.Lk;T7.prototype.$m=function(a){"string"===typeof a&&(a=this.La(a));return MYh(this).D.waa(a)};T7.prototype.getDocoPosition=T7.prototype.$m;T7.prototype.getDocoMaxHeight=function(a){return U7(this).getDocoMaxHeight(a)};
T7.prototype.getDocoMaxHeight=T7.prototype.getDocoMaxHeight;T7.prototype.Hna=function(a,b){U7(this).npa(a,b)};T7.prototype.setDocoMaxHeight=T7.prototype.Hna;T7.prototype.xi=function(a){a=NYh(this,a);U7(this).dK(a)};T7.prototype.flushAnchors=T7.prototype.xi;T7.prototype.ai=function(a){U7(this).dK(a)};T7.prototype.flushDocoPositions=T7.prototype.ai;T7.prototype.Khc=function(a){a=NYh(this,a);U7(this).QV(a)};T7.prototype.updateAnchors=T7.prototype.Khc;T7.prototype.C4a=function(a){U7(this).QV(a)};
T7.prototype.updateDocoPositions=T7.prototype.C4a;T7.prototype.Ae=function(a){U7(this).vaa(Vc(a,this.La,this))};T7.prototype.deleteAnchors=T7.prototype.Ae;T7.prototype.Ne=function(a){U7(this).vaa(a)};T7.prototype.deleteDocoPositions=T7.prototype.Ne;T7.prototype.K4a=function(a){this.hn?this.hn.o2(a):this.Ia=a};T7.prototype.updateViewport=T7.prototype.K4a;T7.prototype.kf=da("Ta");T7.prototype.enableAnchoredDocoAnimations=T7.prototype.kf;
T7.prototype.Zn=function(){var a=this.D.J;return(a=a?this.C.ud(a):void 0)?r7(a):""};T7.prototype.getLinkedAnchor=T7.prototype.Zn;T7.prototype.ep=function(){var a=this.D.J;return null===a?0:v7(this.C,a)};T7.prototype.getLinkedDoco=T7.prototype.ep;T7.prototype.JU=function(){var a=this.D.J;return null===a?!1:!!this.C.F[a]};T7.prototype.isLinkedDocoDeleted=T7.prototype.JU;function NYh(a,b){var c={};Id(b,function(d,e){(e=this.La(e))&&(c[e]=d)},a);return c}T7.prototype.cna=function(a){this.C.La=a};
T7.prototype.setActiveSuggestions=T7.prototype.cna;T7.prototype.Dn=function(){var a=this.C.O;return a&&a.Fk()?a.getId():null};T7.prototype.getHighlightedSuggestionDocoId=T7.prototype.Dn;T7.prototype.La=function(a){return(a=JTh(this.C,a))?v7(this.C,a.getId()):0};T7.prototype.Ska=function(){if(!this.D.L)throw Error("Pane div not specificed in config.");this.jCa=Ma();FYh(this).sb()&&(Mf(this.kt),this.kt=null);lOe(this.D.L,!1);FYh(this).render(this.D.L)};T7.prototype.renderPaneSurface=T7.prototype.Ska;
T7.prototype.SU=function(){return FYh(this).D.AIa()};T7.prototype.isPaneSurfaceRendered=T7.prototype.SU;function U7(a){a.hn||(a.hn=OYh(a),a.Ia&&(a.hn.o2(a.Ia),a.Ia=null));return a.hn}function MYh(a){if(!a.Nu){GYh(a);var b=U7(a);a.Nu=new HXh(a.F,b,u(a.C.R,a.C),b.oa())}return a.Nu}function GYh(a){if(!a.t3a){a.t3a=!0;var b=a.D.L,c=a.D.Ca;b&&(a.D.jc||ix(Cje(""),b),a.D.C.install(b));!c||b&&Wo(b)==Wo(c)||(a.D.jc||ix(Cje(""),c),a.D.C.install(c))}}
T7.prototype.Sla=function(){if(!this.D.Ca)throw Error("Anchor surface div not specified in config.");MYh(this).sb()&&(Mf(this.Nu),this.Nu=null,OYh(this));lOe(this.D.Ca,!1);MYh(this).render(this.D.Ca)};T7.prototype.renderAnchorSurface=T7.prototype.Sla;
function OYh(a){var b=a.D.Pj,c=pYh;"absolute"==b&&(c=HVh);if(a.hn&&(a.hn instanceof c||a.hn.RV()instanceof c))return a.hn;var d=Uo(a.D.Ca);c=new c(a.F,d);d=a.D.O;!d||b&&"vertical"!=b||(c=new NWh(c,d));a.hn&&(a.hn.opa(c),Mf(a.hn));a.hn=c;a.hn.XAa(a);a.qa(a.hn);return a.hn}
T7.prototype.Vla=function(){if(!this.D.Ta)throw Error("Instant docos div not specified in config.");this.Xt&&this.Xt.sb()&&(Mf(this.Xt),this.Xt=null);this.Xt||this.J["enable-gsuite-embedding"]||(this.Xt=new tWh(this.F,Uo(this.D.Ta)),this.Ma.listen(this.Xt,"create-draft",this.xc),this.Xt.render(this.D.Ta))};T7.prototype.renderInstantDocosButton=T7.prototype.Vla;T7.prototype.wPb=function(a,b,c){this.Xt&&uWh(this.Xt,a,b,c)};T7.prototype.showInstantDocosButtonAt=T7.prototype.wPb;
T7.prototype.ob=function(a){this.Xt&&this.Xt.jf(a)};T7.prototype.hideInstantDocosButton=T7.prototype.ob;T7.prototype.qj=function(){return this.hn?this.hn.n2():null};T7.prototype.getAnchorSurfaceBounds=T7.prototype.qj;T7.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.l2(this.J))};T7.prototype.setOption=T7.prototype.setOption;T7.prototype.Gz=function(){if(this.kt){var a=this.kt;a.C.xa&&a.C.xa.focus()}};T7.prototype.grabFocus=T7.prototype.Gz;
T7.prototype.Qjb=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.l2(this.J)};T7.prototype.setListener=T7.prototype.Qjb;function PYh(a,b){return b&&a.C.R(b)?b.getId():null}T7.prototype.Hm=function(a){return(a=y7(this.C,a))?a.gy()?a.gy().getTime():null:null};T7.prototype.getDocoCreationTime=T7.prototype.Hm;
T7.prototype.lO=function(a,b){var c=f7(this.F);a=JTh(this.C,a);a=PYh(this,a);var d=oOh(S6(a||""));b&&(b=this.D.La?this.kt.D.getId():MYh(this).getId(),T6(d,b));c.xf("docos-before-highlight-doco").qb(U6(d));D7(d7(this.F),a);c.xf("docos-highlight-doco").qb(U6(d))};T7.prototype.highlightAnchor=T7.prototype.lO;
T7.prototype.rb=function(a,b){var c=f7(this.F);a=y7(this.C,a);a=PYh(this,a);var d=oOh(S6(a||""));b&&(b=this.D.La?this.kt.D.getId():MYh(this).getId(),d=T6(d,b));c.xf("docos-before-highlight-doco").qb(U6(d));D7(d7(this.F),a);c.xf("docos-highlight-doco").qb(U6(d))};T7.prototype.highlightDoco=T7.prototype.rb;T7.prototype.l5a=function(a){var b=f7(this.F);a=y7(this.C,a);a=PYh(this,a);if(null!=a){var c=this.C.ud(a);c&&w7(this.Ca,p7(o7(n7(43045),c)));b.xf("docos-speak-doco").qb(a)}};
T7.prototype.verbalizeDoco=T7.prototype.l5a;T7.prototype.bM=function(a){return!!JTh(this.C,a)};T7.prototype.hasDocoForAnchorId=T7.prototype.bM;T7.prototype.Oz=function(a){return!!y7(this.C,a)};T7.prototype.hasDoco=T7.prototype.Oz;T7.prototype.ys=function(a){return(a=JTh(this.C,a))?a.Fk()?!XQh(this.C,a):a.isResolved():!1};T7.prototype.getResolvedForAnchorId=T7.prototype.ys;T7.prototype.BU=function(a){return(a=y7(this.C,a))?a.isResolved():!1};T7.prototype.isDocoResolved=T7.prototype.BU;
T7.prototype.tm=function(){var a=LTh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};T7.prototype.getDocoCounts=T7.prototype.tm;T7.prototype.um=function(){return LTh(this.C).C.clone().serialize()};
T7.prototype.getDocoCounts2=T7.prototype.um;T7.prototype.sj=function(){return U7(this).ppa().C.clone().serialize()};T7.prototype.getAnchoredDocoCounts=T7.prototype.sj;T7.prototype.Pj=function(){return Od(this.C.L)};T7.prototype.getAnchors=T7.prototype.Pj;T7.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};T7.prototype.getDocoHandles=T7.prototype.getDocoHandles;T7.prototype.jb=function(){this.D.cK()&&(this.c7||(this.c7=new dXh(this.F),this.qa(this.c7)),this.c7.setVisible(!0))};
T7.prototype.displayNotificationControlDialog=T7.prototype.jb;T7.prototype.Fc=function(a){return a.x};T7.prototype.Nc=function(a){return a.y};function HYh(a){if(a.tYa&&!oNh(a.F,"netIo")){var b=LWh(a.Oa);b&&(a.F.Af("netIo",b),a.Xa&&(a.Xa.F=b),b=a.R,TPh(b.D)?b.D.Hd?XWh(b.F,"r"):WWh(b)&&YWh(b):b.L(null),oNh(a.F,"subscriptionManager")&&oRh(a.F).F.resolve())}}T7.prototype.Wd=function(a){this.R.H.get("netIo").C.yIa(a)};T7.prototype.connectBrowserChannel=T7.prototype.Wd;m=T7.prototype;
m.nRb=function(){var a=R7(this,"net-error");a&&a((new W6("net-error")).build());this.D.Nc&&(this.setOption("accessLevel","readonly"),a=FYh(this),a.R||(a.R=!0,cYh(a)))};m.kRb=function(){var a=R7(this,"post-limit-error");a&&a((new W6("post-limit-error")).build());this.D.Nc&&(this.setOption("accessLevel","readonly"),a=FYh(this),a.R||(a.R=!0,cYh(a)))};m.WCb=function(){XWh(this,"r");this.Xta()};m.Xta=function(){this.tYa=!0;HYh(this)};m.lRb=function(a){CYh(this,"r",a)};T7.prototype.onReady=T7.prototype.lRb;
T7.prototype.Pla=function(a){CYh(this,"s",a)};T7.prototype.onInitialSyncSuccess=T7.prototype.Pla;T7.prototype.Ola=function(a){CYh(this,"e",a)};T7.prototype.onInitialSyncError=T7.prototype.Ola;T7.prototype.Vd=function(){var a=this.D.H["create-draft"];if(a){var b=(new W6("create-draft")).setApiEventArgs(new N7(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};
T7.prototype.xc=function(){var a=this.D.H["create-draft"];if(a){var b=(new W6("create-draft")).setApiEventArgs(new N7(!0,new Lm(0,this.Xt.D.H),this.Xt.D.O)).build();a(b)}};function CYh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=je(d,c)}else a.ma[b]=c}function XWh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}T7.prototype.gac=function(){this.Jb()};T7.prototype.tickle=T7.prototype.gac;
T7.prototype.Jb=function(){a:{var a=this.R;if(TPh(a.D)){if(!a.O){if(!a.C&&!WWh(a))break a;YWh(a)}PWh(a.C,a.D.Jea?1:void 0)}}};T7.prototype.sync=T7.prototype.Jb;T7.prototype.Hi=function(){ZWh(this.R)};T7.prototype.fullSync=T7.prototype.Hi;T7.prototype.zd=function(){var a=this.R;TPh(a.D)&&(a.C.J=!0)};T7.prototype.blockFutureSync=T7.prototype.zd;T7.prototype.fgc=function(){var a=this.R;TPh(a.D)&&(a.C.J=!1)};T7.prototype.unblockFutureSync=T7.prototype.fgc;
T7.prototype.FU=function(){var a=this.R;return TPh(a.D)?a.C.J:!1};T7.prototype.isFutureSyncBlocked=T7.prototype.FU;T7.prototype.zs=function(){var a=this.D;return null!=a.m2?a.m2:6E4};T7.prototype.getRetryBackoffThreshold=T7.prototype.zs;T7.prototype.yU=function(){return this.D.saa};T7.prototype.isBrowserChannelEnabled=T7.prototype.yU;T7.prototype.EU=function(){return!!Cj(this.D.ah,30)};T7.prototype.isDocsStreamHeaderEnabled=T7.prototype.EU;T7.prototype.QU=function(){return UPh(this.D)};
T7.prototype.isNewDocosStreamPaneUiEnabled=T7.prototype.QU;T7.prototype.hM=function(){return FTh(this.C)};T7.prototype.hasPendingContent=T7.prototype.hM;m=T7.prototype;
m.h6b=function(a){var b=this,c=a.data;a=qQh(pQh(43011),c.Tj);var d=null!=c.fn;d&&rQh(a,c.fn);LQh(IQh(this.F),sQh(a));tq(yWh(this.H,c.Tj),function(e){if(e){e=(e=b.C.O)&&e.getId()!==c.Tj;e||(b.Eya(new st(d?new lOh("",void 0,void 0,void 0,c.fn):R6())),b.Xwa(new st(d?new lOh("",void 0,void 0,void 0,c.fn):R6())));var f=R7(b,"deleted");if(f&&c.fn&&c.Lp){var h=(new W6("deleted")).addAnchorId(c.fn).addDocoHandle(c.Lp).setUserInitiated(!0).build();f(h);b.dT=null}e&&(b.dT=b.C.O)}})};
m.iRb=function(a){a=a.data;QYh(this,a.Lp,a.Tj,a.YS)};m.w6b=function(a){a=a.data;QYh(this,a.Lp,a.Tj,a.YS,a.Ujb)};function QYh(a,b,c,d,e){var f=R7(a,"before-doco-deleted");if(f&&b){var h=r7(y7(a.C,b));d=e?new lWh(d,e):new eWh(d);b=(new bWh("before-doco-deleted")).addAnchorId(h).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.C)return}RYh(a,c,!0,e)}
m.t6b=function(a){var b=a.data;if((a=R7(this,"converted"))&&b){var c=r7(y7(this.C,b.Lp)),d=new M7(c,b.bYa,b.YS);b=(new bWh("converted")).addAnchorId(c).addDocoHandle(b.Lp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.hRb=function(a){(a=y7(this.C,a))&&RYh(this,a.getId(),!1)};T7.prototype.deleteDoco=T7.prototype.hRb;function RYh(a,b,c,d){var e=a.C.ud(b),f=v7(a.C,b);e=r7(e);var h=a.H;b=O7(h,u(h.cdb,h,b,d));tq(b,u(a.M5a,a,e,f,c))}
T7.prototype.M5a=function(a,b,c,d){if(d){d=R7(this,"before-selected");var e=R7(this,"selected"),f=R7(this,"deleted");if(a&&b){if(d){var h=(new W6("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new W6("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new W6("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.dT=null}}};T7.prototype.Xgc=function(a){return PQh(this.L,a)};T7.prototype.undoDeleteDoco=T7.prototype.Xgc;
T7.prototype.Scb=function(a){this.Ya=a;P(MYh(this).getElement(),a)};T7.prototype.setDocosGutterVisibility=T7.prototype.Scb;T7.prototype.DU=g("Ya");T7.prototype.isDocosGutterVisible=T7.prototype.DU;T7.prototype.og=function(){var a=this.Rb;a.C=a.H.F.C;a.F.setOption("accessLevel","readonly")};T7.prototype.enterReanchorMode=T7.prototype.og;T7.prototype.dma=function(){var a=this.Rb;a.D.ma=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};T7.prototype.resetReanchorMode=T7.prototype.dma;
T7.prototype.xU=function(a,b){var c=this.H;a=O7(c,u(c.lgc,c,a));tq(a,b)};T7.prototype.interceptingUndoDeleteDoco=T7.prototype.xU;T7.prototype.kPb=function(a,b){this.L.xIa(a,new L6(b))};T7.prototype.setSuggestionQuote=T7.prototype.kPb;T7.prototype.wU=function(a,b){var c=this.H;b=new L6(b);O7(c,u(c.Pcc,c,a,b))};T7.prototype.interceptingSetSuggestionQuote=T7.prototype.wU;
T7.prototype.pz=function(a){a=y7(this.C,a);if(!a)return null;if(!a.Fk())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.M3()};T7.prototype.getSuggestionQuote=T7.prototype.pz;T7.prototype.Xg=function(a){return this.Pa?SVh(this.Pa,a):new QVh(Xp())};T7.prototype.findAssignee=T7.prototype.Xg;T7.prototype.F5b=function(){pRh(this.F).C=!0};T7.prototype.startBatchEvent=T7.prototype.F5b;T7.prototype.Pf=function(){var a=pRh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};
T7.prototype.endBatchEvent=T7.prototype.Pf;m=T7.prototype;m.mRb=function(a){a=a.data;var b=this.H;b=O7(b,u(b.gbc,b,a.C,a.D,a.F));tq(b,u(this.A$b,this,a))};
m.A$b=function(a,b){if(b){b=R7(this,"before-selected");var c=R7(this,"selected");if(c){var d=this.C.ud(a.C),e=v7(this.C,a.C);d&&d.Sz()&&e&&(a.D?(b&&(a=(new W6("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new W6("selected")).setUserInitiated(!0).build(),c(a),this.dT=null):(b&&(a=(new W6("before-selected")).addAnchorId(r7(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new W6("selected")).addAnchorId(r7(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.dT=d))}}};
m.C9b=function(a){a=a.data;var b=this.H;O7(b,u(b.dhc,b,a.C,a.D))};m.D9b=function(a){a=a.data;var b=this.H;O7(b,u(b.ehc,b,a.C,a.D,a.F))};m.s9b=function(a){this.setOption("sortpaneby",a.data.Cec)};m.Y5b=function(a){var b=this.D.kf;b&&(a=this.C.ud(a.data.Tj))&&b(r7(a),!0)};
function SYh(a,b,c){var d=R7(a,c);if(d){var e=a.C.ud(b.C)||null,f=b.F;if(e!=a.dT||"number"===typeof f){var h=new W6(c),k=v7(a.C,b.C);e&&e.Sz()&&k&&h.addAnchorId(r7(e)).addDocoHandle(k);k=new f5;var l=b.R;null!=l?k=new $Vh(l):"number"===typeof f?k=new m2g(f):void 0!==b.H&&(k=new mWh(b.H));f=!!e&&!a.C.R(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.dT=e)}}m.Eya=function(a){SYh(this,a.data,"before-selected")};
m.Xwa=function(a){var b=a.data;SYh(this,b,"selected");if(a=this.C.ud(b.C)){b="number"===typeof b.F?4:b.D==MYh(this).getId()?1:b.D==FYh(this).D.getId()?2:3;var c=this.Ca;a=o7(n7(43044),a);a.H=b;w7(c,p7(a))}};m.O7b=function(a){a=a.data;var b=a.C,c=this.H;O7(c,u(c.x9a,c,a.D,a.F,null,b?b:void 0))};m.G9b=function(a){var b=a.data;if(a=R7(this,"write-feedback"))b=(new W6("write-feedback")).setUserInitiated(!0).setApiEventArgs(new zYh(b.source)).build(),a(b)};
m.B6b=function(){var a=R7(this,"disable-smart-todo-feature");if(a){var b=(new W6("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.jRb=function(a){var b=this,c=a.data;tq(zWh(this.H,c.xeb,c.fn,c.text,c.quote,c.Wja,c.X0),function(d){if(0<d){var e=c.fn,f=c.Lp,h=R7(b,"posted");h&&e&&f&&(e=(new W6("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.Eya(new st(R6()));b.Xwa(new st(R6()))}return d})};
m.K7b=function(a){var b=R7(this,"hover");if(b){a=a.data;var c=rOh("hover").setNonAnchored(!a.tOb).setUserInitiated(!0);if(a.COb){var d=this.C.ud(a.Tj);c.addAnchorId(d?r7(d):"");c.addDocoHandle(v7(this.C,a.Tj))}b(c.build())}};m.H7b=function(a){if("dd"==a.type){var b=R7(this,"deleted");if(b&&a.C&&a.D&&(a.Dr||this.D.Ia)&&a.R&16){var c=(new W6("deleted")).addDocoHandle(a.D);a.Dr&&c.addAnchorId(a.Dr);a=c.build();b(a)}}};
m.G7b=function(a){if("bu"==a.type){var b=rOh("created");this.xa&&(b.setApiEventArgs(new gWh(this.xa,a.C[0].fn)),this.xa=null);var c=rOh("resolved"),d=rOh("unresolved");b=kWh(b,a.C,8);c=kWh(c,a.C,2);d=kWh(d,a.C,4);TYh(this,"created",b);TYh(this,"resolved",c);TYh(this,"unresolved",d)}};m.X7b=function(a){if("p"==a.type&&(a=R7(this,"pending"))){var b=(new W6("pending")).setUserInitiated(!0).build();a(b)}};
m.M5b=function(){var a=R7(this,"view-updated");if(a){var b=(new W6("view-updated")).setUserInitiated(!0).build();a(b)}};function TYh(a,b,c){a=R7(a,b);!c.isEmpty()&&a&&a(c.build())}function R7(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ja=function(){delete this.hn;delete this.D;delete this.dS;delete this.L;delete this.Xa;delete this.Ma;delete this.$a;delete this.Oa;delete this.c7;delete this.Ea;delete this.C;delete this.Qa;Mf(this.Xt);delete this.Xt;Mf(this.Nu);delete this.Nu;Mf(this.kt);delete this.kt;T7.Ua.Ja.call(this);Mf(this.F);delete this.F};pa("Docos",T7,void 0);pa("Docos.Point",Lm,void 0);pa("Docos.Point.getX",T7.prototype.Fc,void 0);pa("Docos.Point.getY",T7.prototype.Nc,void 0);
pa("Docos.AbstractAlteredDocoArgs",dVh,void 0);pa("Docos.NewDraftArgs",jVh,void 0);pa("Docos.LayoutType.ABSOLUTE","absolute",void 0);pa("Docos.LayoutType.VERTICAL","vertical",void 0);pa("Docos.UiVersion.LEGACY","legacy",void 0);pa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);pa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);pa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);pa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
pa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);pa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);pa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);pa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);pa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);pa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);pa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
pa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);pa("Docos.OptionName.DRIVE_ID","drive-id",void 0);pa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);pa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);pa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);pa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);pa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
pa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);pa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);pa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);pa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);pa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);pa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);pa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
pa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);pa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);pa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);pa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);pa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
pa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);pa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);pa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);pa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);pa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);pa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);pa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
pa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);pa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);pa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);pa("Docos.OptionName.IO","i",void 0);pa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);pa("Docos.OptionName.KEY_DATA","kd",void 0);pa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
pa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);pa("Docos.OptionName.LAYOUT","layout",void 0);pa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);pa("Docos.OptionName.LINK_OPENER","link-opener",void 0);pa("Docos.OptionName.LISTENERS","listeners",void 0);pa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);pa("Docos.OptionName.LOCAL","l",void 0);pa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
pa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);pa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);pa("Docos.OptionName.OFFLINE","offline",void 0);pa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);pa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);pa("Docos.OptionName.PANE_DIV","panediv",void 0);pa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);pa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
pa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);pa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);pa("Docos.OptionName.QUOTE_FN","quotefn",void 0);pa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);pa("Docos.OptionName.READONLY","readonly",void 0);pa("Docos.OptionName.RESOLVE","resolve",void 0);pa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);pa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
pa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);pa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);pa("Docos.OptionName.SORT_PANE","sortpane",void 0);pa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);pa("Docos.OptionName.STORAGE","storage",void 0);pa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);pa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
pa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);pa("Docos.OptionName.SYNC_ONCE","so",void 0);pa("Docos.OptionName.UI_VERSION","ui-version",void 0);pa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);pa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
pa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);pa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);pa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);pa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);pa("Docos.EventType.CONVERTED","converted",void 0);
pa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);pa("Docos.EventType.CREATED","created",void 0);pa("Docos.EventType.DELETED","deleted",void 0);pa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);pa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);pa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);pa("Docos.EventType.HOVER","hover",void 0);pa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
pa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);pa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);pa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);pa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);pa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);pa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);pa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
pa("Docos.EventType.PENDING","pending",void 0);pa("Docos.EventType.POSTED","posted",void 0);pa("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);pa("Docos.EventType.REANCHOR","reanchor",void 0);pa("Docos.EventType.RESOLVED","resolved",void 0);pa("Docos.EventType.SELECTED","selected",void 0);pa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);pa("Docos.EventType.UNRESOLVED","unresolved",void 0);pa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);
pa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);pa("Docos.AccessLevel.READONLY","readonly",void 0);pa("Docos.AccessLevel.SUGGEST","suggest",void 0);pa("Docos.AccessLevel.FULL","full",void 0);pa("Docos.NewDocoType",dsd,void 0);pa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);pa("Docos.NewDocoType.DISCUSSION","discussion",void 0);pa("Docos.NewDocoType.DRAFT","draft",void 0);pa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);
pa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);pa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);pa("Docos.prototype.dispose",T7.prototype.dispose,void 0);pa("Docos.CountField.ACCEPTED","accepted",void 0);pa("Docos.CountField.DRAFT","draft",void 0);pa("Docos.CountField.OPEN","open",void 0);pa("Docos.CountField.REJECTED","rejected",void 0);pa("Docos.CountField.RESOLVED","resolved",void 0);pa("Docos.CountField.TOTAL","total",void 0);pa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);
window.closure_verification&&(window.closure_verification.dcs_main_js={});function UYh(){d3g.apply(this,arguments)}t(UYh,d3g);KJ("docosbundled",UYh);
