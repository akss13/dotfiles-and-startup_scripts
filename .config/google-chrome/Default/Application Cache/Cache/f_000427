function t$g(a,b){po(a.C,512)?b():(uo(a.gW,a.ma,function(){b()}),a.create())}function u$g(a){var b=Mc(y(),"drive-host");return $Ja(b,a,!0)}function v$g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function w$g(a){J(this,a,0,-1,null,null)}v(w$g,I);m=w$g.prototype;m.ea=function(){var a=new E;v$g(this,a);return Y(a)};m.getId=function(){return K(this,1)};m.Lc=function(a){return L(this,1,a)};m.getType=function(){return K(this,2)};m.setType=function(a){return L(this,2,a)};
m.clearType=function(){return L(this,2,void 0)};m.hasType=function(){return null!=K(this,2)};function x$g(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&pj(b,3,c);c=K(a,4);null!=c&&pj(b,4,c)}function o5(a){J(this,a,0,-1,null,null)}v(o5,I);o5.prototype.ea=function(){var a=new E;x$g(this,a);return Y(a)};o5.prototype.D=function(){return K(this,1)};function y$g(a,b){return L(a,1,b)}o5.prototype.O=function(){return K(this,2)};
function z$g(){Qo.call(this);this.C=3;this.D=null;this.J=!1;this.H=aq()}t(z$g,Qo);z$g.prototype.L=function(){return this.H.C.then(function(a){if(null!=a)throw a;})};function A$g(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.H.resolve(null);a.dispatchEvent("R")}z$g.prototype.F=function(){if(!this.D)return!1;var a=this.D.D();return 1==a||6==a};
function B$g(a){a?oa.localStorage.setItem("docs-wownoi","true"):oa.localStorage.removeItem("docs-wownoi")}function C$g(a){a?oa.localStorage.setItem("docs-rops","true"):oa.localStorage.removeItem("docs-rops")}function D$g(a){a?oa.localStorage.setItem("docs-ropd","true"):oa.localStorage.removeItem("docs-ropd")}function E$g(a,b,c,d,e,f){b=wJe("Extension needed",b,c,d,e,void 0,f,void 0);a.Bi(b);b.focus();return b}
function F$g(a,b,c){A.call(this);this.D=a;this.H=c||"To enable offline sync, install the Docs Offline Chrome extension to your browser.";this.Xa=b;this.F=new YQ;this.C=null}t(F$g,A);function G$g(a){return Promise.resolve(bgd(a.F)).then(function(){return ir()?!0:H$g(a)})}
function H$g(a){a.C&&a.C.setVisible(!1);var b=(new By).wf({key:"ok",caption:"Install"},!0).wf(Iy,!1,!0);return new Promise(function(c,d){a.C=E$g(a.D,a.H,function(){return I$g(a).then(c,d)},function(){return c(!1)},a,b);Py(a.C,b.C)})}function I$g(a){return Promise.resolve(dgd(a.F)).catch(function(b){b=ol(b);jq(a.Xa,b);hjd(b);return!1})}F$g.prototype.Ja=function(){this.C&&($B(this.D,this.C),Mf(this.C))};function J$g(a){J(this,a,0,-1,null,null)}v(J$g,I);m=J$g.prototype;
m.ea=function(){var a=new E;K$g(this,a);return Y(a)};function K$g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&b.D(3,c);c=K(a,4);null!=c&&pj(b,4,c);c=K(a,5);null!=c&&pj(b,5,c);c=K(a,6);null!=c&&b.D(6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&G(b,8,c);c=K(a,9);null!=c&&pj(b,9,c);c=K(a,10);null!=c&&G(b,10,c);c=K(a,11);null!=c&&pj(b,11,c);c=K(a,12);null!=c&&pj(b,12,c);c=K(a,13);null!=c&&G(b,13,c);c=K(a,14);null!=c&&G(b,14,c)}
m.getId=function(){return K(this,1)};m.Lc=function(a){return L(this,1,a)};m.getTitle=function(){return K(this,2)};m.setTitle=function(a){return L(this,2,a)};m.Pp=function(){return K(this,3)};function L$g(a){J(this,a,0,-1,null,null)}v(L$g,I);L$g.prototype.ea=function(){var a=new E;M$g(this,a);return Y(a)};function M$g(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,4);null!=c&&b.D(4,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,5);null!=c&&G(b,5,c)};function N$g(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;A.call(this);var e=this;this.xu=b||this;this.D=a;this.C=new so;this.qa(this.C);this.Ma=new Ro(this);this.qa(this.Ma);this.F=c;this.H=d;a instanceof pr?(this.Ma.listen(a,"C",function(){return O$g(e)}),this.Ma.listen(a,"D",function(){return P$g(e)})):(to(this.C,this.D.CQ(),function(){return O$g(e)}),to(this.C,this.D.UK(),function(){return P$g(e)}))}t(N$g,A);function Q$g(a,b){a.F.push(b)}
function O$g(a){a.F.forEach(function(b){try{b.call(a.xu)}catch(c){}})}function P$g(a){a.H.forEach(function(b){try{b.call(a.xu)}catch(c){}})};function R$g(a,b){A.call(this);this.H=a;this.O=this.H.En();this.xa=b;this.ma=new N$g(this.H,this,[this.Ca],[this.V]);this.qa(this.ma);this.R=this.F=0;this.D=this.J=2E4;this.C=new Mq(this.Ea,0,this);this.qa(this.C);this.L=!1}t(R$g,A);function S$g(a){if(15<=a.F)return a.C.stop(),!1;if(!a.O&&!a.H.En()&&3<=a.R)return!0;T$g(a);return!0}function T$g(a){15<=a.F||a.L||a.C.Vb()||a.C.start(a.D)}
R$g.prototype.Ea=function(){this.xa();this.O||this.H.En()||this.R++;this.F++;144E5!=this.D&&(this.D=Math.min(this.D+$ya(50,100)/100*this.J,144E5),this.J*=2)};R$g.prototype.Ca=function(){15<=this.F||(this.D=$ya(0,2E4),this.J=2E4,T$g(this))};R$g.prototype.V=function(){this.C.stop()};function U$g(a){J(this,a,0,-1,null,null)}v(U$g,I);U$g.prototype.ea=function(){return Y(new E)};var V$g=new xj(102041228,U$g);zF[102041228]=new yj(V$g,ba(),function(a,b){for(;ij(b)&&!hj(b);)jj(b);return a});yF[102041228]=V$g;function W$g(a){J(this,a,0,-1,null,null)}v(W$g,I);W$g.prototype.ea=function(){return Y(new E)};var X$g=new xj(108529910,W$g);zF[108529910]=new yj(X$g,ba(),function(a,b){for(;ij(b)&&!hj(b);)jj(b);return a});yF[108529910]=X$g;function Y$g(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)}t(Y$g,Error);function Z$g(a){J(this,a,0,-1,null,null)}v(Z$g,I);Z$g.prototype.ea=function(){var a=new E;$$g(this,a);return Y(a)};function $$g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&H(b,2,c)}var aah=new xj(122453513,Z$g);zF[122453513]=new yj(aah,$$g,function(a,b){for(;ij(b)&&!hj(b);)switch(b.D){case 1:var c=mj(b);L(a,1,c);break;case 2:c=lj(b);L(a,2,c);break;default:jj(b)}return a});yF[122453513]=aah;function bah(a,b,c,d,e,f,h,k,l,n){l=void 0===l?!1:l;n=void 0===n?!1:n;A.call(this);var q=this;this.C=a;this.V=aq();cah(this);this.L=this.O=null;this.Qa=h;this.xa=new N$g(h,this);this.qa(this.xa);this.D=b;this.Xa=k||null;this.ma=!1;this.F=null;l&&(this.F=new R$g(this.Qa,function(){return dah(q)}),this.qa(this.F));this.J=aq();this.R=aq();this.Ma=new Ro(this);this.qa(this.Ma);this.La="user_"+c;this.Ca=d;this.Ia=e;this.Ea=f;this.Oa=!1;this.H=n?new dq(25E3):null;n&&this.Ma.listen(this.H,"tick",function(){return eah(q)})}
t(bah,A);m=bah.prototype;m.start=function(){var a=this;this.ma||(this.ma=!0,fah(this).then(function(){a.J.resolve();if(a.F){var b=a.F;b.C.stop();b.L=!0}},function(b){b=ol(b);var c=new Y$g(b.message,a.F?a.R.C:void 0);pl(c,{originalStackTrace:b.stack});pl(c,{offlineManagerInitializationFailure:!0,isRetry:!1});a.J.reject(c);a.F?S$g(a.F):a.D.H.resolve(c)}));return this.J.C};
function fah(a){return a.C.init().then(function(){return gah(a.C)}).then(function(b){b.connect();a.V.resolve(b);return hah(a)}).then(function(){Q$g(a.xa,function(){iah(a)});a.Oa=!0})}function dah(a){a.C.reset();fah(a).then(function(){var b=a.F;b.C.stop();b.L=!0;a.R.resolve(a.F.F)}).vh(function(){if(!S$g(a.F)){var b=pl("OfflineService start retries exhausted",{offlineManagerInitializationFailure:!0,isRetry:!0});a.R.reject(b)}})}
function jah(a,b){if(2!=a.D.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.D.C);A$g(a.D,4);return kah(a.C,b).then(function(c){var d=c.D();return Xp().then(function(){return 1==d||2==d?p5(a,1):p5(a,2)}).then(function(){return c})})}
function hah(a){return lah(a.C,6E4).then(function(b){switch(K(b,1)){case 1:return mah(a.C).vh(function(c){a.Xa&&jq(a.Xa,ol(c))}).then(function(){return p5(a,1)}).then(function(){iah(a)});case 2:return p5(a,2);case 4:return nah(a,K(b,2));case 3:return b=K(b,3),null!=b?oah(a,b):p5(a,2);case 5:return pah(a)}})}m.cKb=function(a){var b=this;1==this.D.C&&!this.D.J&&0==K(a,2)&&lah(this.C).then(function(c){var d=b.D;c=Cj(c,5);d.J=c;d.dispatchEvent("R")}).vh(ba())};function nah(a){return p5(a,2)}
function oah(a,b){return a.Ca?kah(a.C,b).then(function(c){switch(c.D()){case 1:return p5(a,1);case 2:return p5(a,1);default:return p5(a,2)}}):Xp()}function pah(a){return a.Ia?kah(a.C,2).then(function(b){switch(b.D()){case 1:case 2:return p5(a,1);default:return p5(a,2)}}):Xp()}
function cah(a){var b;a.V.C.then(function(c){b=c;return Xp(a.La)}).then(function(c){a.O=new bR(b,c,a);a.qa(a.O);a.L=new bR(b,null,a);a.qa(a.L);a.O.listen(X$g,a.ZTb).listen(V$g,a.JCb).listen(aah,a.cKb);a.L.listen(X$g,a.YTb).listen(V$g,a.Dpb)})}m.ZTb=function(){p5(this,1).vh(ba())};m.JCb=function(){p5(this,2).vh(ba())};m.YTb=function(){qah(this)};m.Dpb=function(){qah(this)};
function p5(a,b){return rah(a.C).then(function(c){A$g(a.D,b,c)}).then(function(){return lah(a.C).then(function(c){var d=a.D;c=!!Cj(c,5);d.J=c;d.dispatchEvent("R")})}).then(function(){if(a.H)switch(b){case 1:a.H.start();eah(a);break;case 2:a.H.stop()}})}function qah(a){rah(a.C).then(function(b){var c=a.D;c.D=b;c.dispatchEvent("R")})}function iah(a){a.Ea&&1==a.D.C&&sah(a.C).vh(ba())}function eah(a){tah(a.C).vh(function(){a.H&&a.H.stop()})};function uah(a,b,c,d){Qo.call(this);this.H=a;this.ma=b;this.xa=c;this.Ca=new bR(this.xa,Qgd(),this);this.Xa=d;this.J=aq();this.F=this.L=this.D=this.C=null;this.O=!1}t(uah,Qo);uah.prototype.start=function(){var a=this;vah(this,"Initialization").then(function(){a.O=!0;a.J.resolve(null);a.Ca.listen(Fhd,a.R).listen(whd,a.V).listen(V$g,a.Ea)},function(b){a.J.resolve(ol(b))})};function wah(a){return a.J.C.then(function(b){if(null!=b)throw b;})}
uah.prototype.R=function(a){a=Nj(a,ZQ,1);for(var b=0;b<a.length;b++){var c=a[b].getExtension(Jhd);if(c&&K(c,1)==this.H){var d=K(c,3);c=d.includes(1);d=d.includes(3);if(c||d){xah(this,"Document data changed");break}}}};uah.prototype.V=function(a){K(a,1)==this.H&&xah(this,"Document available")};uah.prototype.Ea=function(){xah(this,"Offline disabled")};function xah(a,b){vah(a,b).vh(function(c){Gk(a.Xa,ol(c))})}
function vah(a,b){return yah(a.ma,[a.H]).then(function(c){var d=!1,e=!1,f=null,h=null;if(1==c.length)a:if(c=c[0],d=Cj(c,7),e=Cj(c,8),f=K(c,11),h=Cj(c,13),c=K(c,12),d){if(f){if((c=c&&c>=f)&&0==h){h=3;break a}if(!c){h=5;break a}}h=e?2:4}else h=0;var k=c=!1,l=!1,n=!1;a.O&&(c=a.C!=d,k=a.D!=e,l=a.L!=h,n=a.F!=f);a.C=d;a.D=e;a.L=h;a.F=f;c&&a.dispatchEvent("Di");k&&a.dispatchEvent("Ei");(l||n)&&a.dispatchEvent("Fi")}).vh(function(c){throw pl(c,{pinStatusUpdateReason:b});})};function zah(a){var b=a.label,c=a.Vi;a=a.ANb;return T('<div class="'+U("docs-in-editor-sync-state-icon")+" "+U("docs-material")+'" title="'+U(a)+'" aria-label="'+U(a)+'"><div class="'+U("docs-in-editor-sync-state-animation-icon")+" "+U("docs-icon")+" "+U("goog-inline-block")+'"><div class="'+U("docs-icon-img")+" "+U("docs-icon-img-container")+" "+U(c)+'"></div></div></div><span>'+R(b)+"</span>")};function Aah(a){a=Bah[a];if(!a)throw Error("Unknown editor sync state for the document");return a}function Cah(a){a=Dah[a];if(!a)throw Error("Unknown pinning state for the document");return a}var Bah={2:"docs-icon-offline-pin-20",3:"docs-icon-sync-problem-20",4:"docs-icon-sync-20",5:"docs-icon-sync-20"},Dah={2:"Available offline",3:"Trouble syncing",4:"Waiting to sync",5:"Syncing",7:"Waiting to sync your changes",6:"Can't sync your changes"};function Eah(a,b){A.call(this);this.D=a;this.Xa=b;this.Ma=new Ro(this);this.qa(this.Ma);this.C=null}t(Eah,A);Eah.prototype.initialize=function(){var a=this;return wah(this.D).then(function(){a.Ma.listen(a.D,"Fi",a.F);a.F()})};Eah.prototype.F=function(){var a=this.D.L;null==a||0==a?(Ut(),cu).setProperty("node-label",null):(Ut(),cu).setProperty("node-label",Sy(zah,{label:cu.getLabel(),Vi:Aah(a),ANb:Cah(a)}));Fah(this,a)};
function Fah(a,b){var c=a.D.F;c&&5==b?(b=Ma()-c,18E4<b?(fq(a.C),Gah(a,!1)):(Gah(a,!0),fq(a.C),a.C=eq(function(){return void Gah(a,!1)},18E4-b))):(fq(a.C),Gah(a,!1))}function Gah(a,b){var c;(c=Uo().bb("docs-in-editor-sync-state-animation-icon"))?(jy(c,"docs-in-editor-animated-sync",b),c=!0):c=!1;!c&b&&Gk(a.Xa,Error("Attempted to animate an absent sync state icon."))}Eah.prototype.Ja=function(){fq(this.C);A.prototype.Ja.call(this)};function Hah(){return T('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function Iah(a,b){ZB.call(this);this.R=a;this.H=b||null;this.setTitle("Turn on offline for all files?");a=new By;a.wf({key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);a.wf({key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Ey(this,a);Dy(this,!1);this.yj=this.Kr=!0;a=new qM;uy(this,Llc(a,Hah));this.C=this.F=null}t(Iah,ZB);
Iah.prototype.Ha=function(){ZB.prototype.Ha.call(this);Py(this,this.D.C);this.F=Gp(this.oa(),"docs-offline-optindialog-disclaimer-link");this.C=Gp(this.oa(),"docs-offline-optindialog-disclaimer");this.getHandler().listen(this,"dialogselect",this.L).Qc(this.F,"click",this.O)};Iah.prototype.L=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key?this.R():"docs-offline-editor-enable-offline-dialog-cancel"==a.key&&this.H&&this.H();this.setVisible(!1)};
Iah.prototype.O=function(){fy(this.F,"docs-offline-optindialog-disclaimer-link-disabled");P(this.C,!0);this.C.focus()};function Jah(a,b,c,d,e,f,h,k,l,n,q){A.call(this);this.Ia=a;this.Ya=b;this.Ta=c;this.C=d;this.F=e;this.Xa=k;this.La=new YQ;this.Ma=new Ro(this);this.qa(this.Ma);this.jb=a.C;this.V=f;this.eb=h;this.H=this.D=null;this.L=l;this.$a=n;this.Oa=q;this.Ca=new Eah(this.C,this.Xa);this.qa(this.Ca);this.Qa=new so;this.qa(this.Qa);this.O=Kah(this,"Document now available offline");this.ma=Kah(this,"Document no longer available offline");this.R=Kah(this,"Could not change offline availability.");this.J=Kah(this,
"Could not enable offline access.");this.Ea=Kah(this,"Making document available offline\u2026");this.xa=Kah(this,"Document will sync when you reconnect");this.Pa=Kah(this,"Could not sync document.")}t(Jah,A);function Kah(a,b){return lC(a.L,b,void 0,!1,3E3,!1,void 0,!0)}m=Jah.prototype;m.init=function(){var a=this;return Zp([this.F.L(),wah(this.C),this.Ca.initialize()]).then(function(){Lah(a);Mah(a);(Ut(),cu).setVisible(Rlb())},function(b){jq(a.Xa,ol(b))})};
function Lah(a){(Ut(),cu).subscribe("action",a.FPa,a);a.Ma.listen(a.C,"Di",a.uEb).listen(a.C,"Ei",a.TCb).listen(a.F,"R",a.VCb);to(a.Qa,a.Oa.C,function(){Mah(a)})}m.FPa=function(){Nah(this)};
function Nah(a){bgd(a.La).then(function(){if(ir()){if(1==a.F.C)return Oah(a);a.F.F()?Pah(a):Qah(a,a.J)}else{a.H&&a.H.setVisible(!1);var b=(new By).wf({key:"ok",caption:"Install"},!0).wf(Iy,!1,!0);a.H=E$g(a.V,"To make this document available offline, install the Docs Offline Chrome extension to your browser.",a.VTb,null,a,b);Py(a.H,b.C)}})}m.VTb=function(){var a=this;dgd(this.La).then(function(b){b&&Nah(a)},function(b){b=ol(b);jq(a.Xa,b);hjd(b)})};
function Oah(a){var b=!(Ut(),cu).Dd(),c=a.$a.En();b&&!a.C.D&&Qah(a,c?a.Ea:a.xa);return(new Wp(function(d){t$g(a.jb,d)})).then(function(){return Rah(a,b,c)}).vh(function(d){Qah(a,a.R);a.Xa.log(ol(d))})}function Sah(a){jah(a.eb,10).vh(function(b){a.Xa.log(ol(b))}).then(function(){if(1==a.F.C)return Oah(a);Qah(a,a.J)})}function Pah(a){a.D||(a.D=new Iah(function(){return Sah(a)}),a.V.Bi(a.D),a.Ma.listen(a.D,"hide",function(){a.D=null}),a.D.setVisible(!0))}
function Rah(a,b,c){var d=(new w$g).Lc(a.Ia.D).setType(a.Ya);return Tah(a.Ta,[d],b,c).then(function(e){e&&(Cj(e,1)||Qah(a,a.Pa))})}m.uEb=function(){Mah(this);Uah(this);this.C.C||Qah(this,this.ma)};m.TCb=function(){Uah(this)};m.VCb=function(){Mah(this)};function Uah(a){1==a.F.C&&a.C.D&&a.C.C&&Qah(a,a.O)}function Qah(a,b){b.isVisible()||(a.O.setVisible(!1),a.ma.setVisible(!1),a.R.setVisible(!1),a.J.setVisible(!1),a.Ea.setVisible(!1),a.xa.setVisible(!1),b.sb()||b.render(),b.setVisible(!0))}
function Mah(a){var b=a.Oa.getState()==(xl(),Lya);(Ut(),cu).Na(!b&&!a.Ia.J&&(1==a.F.C||a.F.F()));cu.hc(a.C.C)}m.Ja=function(){(Ut(),cu).unsubscribe("action",this.FPa,this);this.D&&($B(this.V,this.D),Mf(this.D));this.H&&($B(this.V,this.H),Mf(this.H));A.prototype.Ja.call(this);nC(this.L,this.O);nC(this.L,this.ma);nC(this.L,this.R);nC(this.L,this.J);Nf(this.O,this.ma,this.R,this.J)};function Vah(a){this.D=a}Vah.prototype.C=g("D");function Wah(a){J(this,a,0,-1,Xah,null)}v(Wah,I);var Xah=[1];Wah.prototype.ea=function(){var a=new E;Yah(this,a);return Y(a)};function Yah(a,b){a=K(a,1);0<a.length&&vj(b,1,a)}function Zah(a,b){return L(a,1,b||[])};function $ah(a){J(this,a,0,-1,null,null)}v($ah,I);$ah.prototype.ea=function(){var a=new E;abh(this,a);return Y(a)};function abh(a,b){a=K(a,1);null!=a&&H(b,1,a)}function bbh(a,b){return L(a,1,b)};function cbh(a){J(this,a,0,-1,dbh,null)}v(cbh,I);var dbh=[1];cbh.prototype.ea=function(){var a=new E;ebh(this,a);return Y(a)};function ebh(a,b){var c=Nj(a,w$g,1);0<c.length&&wj(b,1,c,v$g);c=K(a,2);null!=c&&G(b,2,c);c=K(a,3);null!=c&&G(b,3,c)}function fbh(a,b){return Qj(a,1,b)}function gbh(a,b){return L(a,2,b)}function hbh(a,b){return L(a,3,b)};function ibh(a){J(this,a,0,-1,jbh,null)}v(ibh,I);var jbh=[1];ibh.prototype.ea=function(){var a=new E;kbh(this,a);return Y(a)};function kbh(a,b){a=K(a,1);0<a.length&&vj(b,1,a)};function q5(a){J(this,a,0,-1,null,null)}v(q5,I);m=q5.prototype;m.ea=function(){var a=new E;var b=K(this,1);null!=b&&H(a,1,b);b=N(this,Wah,2);null!=b&&a.C(2,b,Yah);b=N(this,cbh,3);null!=b&&a.C(3,b,ebh);b=N(this,$ah,4);null!=b&&a.C(4,b,abh);b=N(this,ibh,5);null!=b&&a.C(5,b,kbh);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};function lbh(a){J(this,a,0,-1,mbh,null)}v(lbh,I);var mbh=[1];lbh.prototype.ea=function(){var a=new E;nbh(this,a);return Y(a)};function nbh(a,b){a=Nj(a,J$g,1);0<a.length&&wj(b,1,a,K$g)};function obh(a){J(this,a,0,-1,null,null)}v(obh,I);obh.prototype.ea=function(){var a=new E;pbh(this,a);return Y(a)};function pbh(a,b){a=N(a,o5,1);null!=a&&b.C(1,a,x$g)};function qbh(a){J(this,a,0,-1,null,null)}v(qbh,I);m=qbh.prototype;m.ea=function(){var a=new E;rbh(this,a);return Y(a)};function rbh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&b.D(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getErrorMessage=function(){return K(this,2)};function sbh(a){J(this,a,0,-1,null,null)}v(sbh,I);sbh.prototype.ea=function(){var a=new E;tbh(this,a);return Y(a)};function tbh(a,b){a=K(a,1);null!=a&&b.D(1,a)};function ubh(a){J(this,a,0,-1,null,null)}v(ubh,I);ubh.prototype.ea=function(){var a=new E;vbh(this,a);return Y(a)};function vbh(a,b){a=K(a,1);null!=a&&G(b,1,a)};function wbh(a){J(this,a,0,-1,null,null)}v(wbh,I);wbh.prototype.ea=function(){var a=new E;xbh(this,a);return Y(a)};function xbh(a,b){a=N(a,o5,1);null!=a&&b.C(1,a,x$g)};function ybh(a){J(this,a,0,-1,null,null)}v(ybh,I);ybh.prototype.ea=function(){var a=new E;zbh(this,a);return Y(a)};function zbh(a,b){a=N(a,L$g,1);null!=a&&b.C(1,a,M$g)};function Abh(a){J(this,a,0,-1,null,null)}v(Abh,I);Abh.prototype.ea=function(){var a=new E;Bbh(this,a);return Y(a)};function Bbh(a,b){a=N(a,Qde,1);null!=a&&b.C(1,a,Pde)};function Cbh(a){J(this,a,0,-1,null,null)}v(Cbh,I);m=Cbh.prototype;m.ea=function(){var a=new E;var b=K(this,1);null!=b&&H(a,1,b);b=this.tD();null!=b&&a.C(2,b,rbh);b=N(this,lbh,3);null!=b&&a.C(3,b,nbh);b=N(this,ybh,4);null!=b&&a.C(4,b,zbh);b=N(this,obh,5);null!=b&&a.C(5,b,pbh);b=N(this,ubh,6);null!=b&&a.C(6,b,vbh);b=N(this,wbh,7);null!=b&&a.C(7,b,xbh);b=N(this,Abh,8);null!=b&&a.C(8,b,Bbh);b=N(this,sbh,9);null!=b&&a.C(9,b,tbh);return Y(a)};m.getType=function(){return K(this,1)};
m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.tD=function(){return N(this,qbh,2)};function Dbh(a,b,c,d,e){A.call(this);this.D=aq();this.cb=e||Uo();this.Ma=new Ro(this);this.qa(this.Ma);this.H=a;this.R=d;a=new um(b);a.mc("ouid",this.H);aKa()&&a.mc("Debug","true");Am(a,"cd="+c);if(Cd(a.C))throw Error("Url contains invalid domain: "+b);this.L=xm(wm(vm(new um,a.H),a.C),a.J).toString();b=om(a.toString(),"sa",""+d);this.O=jB(b);this.C=null;this.F=!1}t(Dbh,A);
Dbh.prototype.init=function(){var a=this;this.Ma.listen(Jp(this.cb),"message",this.J);this.C=this.cb.Ba("IFRAME",{style:"display:none"});Qe(this.C,this.O);this.cb.Wb().body.appendChild(this.C);gq(3E4).then(function(){a.F||(Ebh(a),Fbh(a),a.D.reject(Error("Iframe initialization timed out")))});return this.D.C.then()};Dbh.prototype.reset=function(){Fbh(this);this.D=aq()};function tah(a){var b=(new q5).setType(12);return r5(a,b).then(ba())}
function gah(a){var b=(new q5).setType(1);return r5(a,b).then(function(c){c=new xhd(new Vah(c.port),"user_"+a.H);a.qa(c);return c})}function yah(a,b){var c=(new q5).setType(2);b=Zah(new Wah,b);Oj(c,2,b);return r5(a,c).then(function(d){return Nj(N(d.response,lbh,3),J$g,1)})}function lah(a,b){var c=(new q5).setType(4);return r5(a,c,b).then(function(d){return N(N(d.response,ybh,4),L$g,1)})}
function rah(a){var b=(new q5).setType(10);return r5(a,b).then(function(c){return N(N(c.response,wbh,7),o5,1)})}function Tah(a,b,c,d){d=void 0===d?!1:d;var e=(new q5).setType(5);b=hbh(gbh(fbh(new cbh,b),c),d);Oj(e,3,b);return r5(a,e).then(function(f){return(f=N(f.response,Abh,8))&&N(f,Qde,1)||null})}function kah(a,b){var c=(new q5).setType(6);b=bbh(new $ah,b);Oj(c,4,b);return r5(a,c).then(function(d){return N(N(d.response,obh,5),o5,1)})}
function mah(a){var b=(new q5).setType(9);return r5(a,b).then(ba())}function sah(a){var b=(new q5).setType(11);return r5(a,b).then(ba())}
function r5(a,b,c){c=void 0===c?3E4:c;return a.D.C.then(function(d){var e=Ma(),f=new MessageChannel;d.postMessage(b.Rf(),[f.port2]);var h=aq();f.port1.onmessage=function(l){l=new Gbh(l);l.response&&l.response.tD()?(l=l.response.tD(),h.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+l.getType()+"): "+l.getErrorMessage()))):h.resolve(l)};var k=eq(function(){h.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Ma()-e)+"ms."))},c);bq(h.C,function(){f.port1.close();
fq(k)});return h.C}).vh(function(d){throw pl(d,{iframeRequest_sourceApplication:a.R.toString(),iframeRequest_requestType:b.getType().toString()});})}Dbh.prototype.J=function(a){(a=a.ye())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.F&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],Kf(this,a.close,a),this.D.resolve(a),this.F=!0),Ebh(this))};function Ebh(a){a.Ma.Bc(Jp(a.cb),"message",a.J)}function Fbh(a){a.C&&(a.cb.Yf(a.C),a.C=null)}Dbh.prototype.Ja=function(){Fbh(this);A.prototype.Ja.call(this)};
function Gbh(a){this.response=a.data?new Cbh(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function Hbh(a,b){this.C=a;this.XC=b};function Ibh(a,b,c,d,e){A.call(this);this.Xa=a;this.J=b;this.O=c?c:"DefaultLocalStoreSessionId";this.L=d||new Mid;this.H=!!e;this.D=null;this.F=new so;this.qa(this.F);this.C=Jbh(this)}t(Ibh,A);function Jbh(a){a.C&&Mf(a.C);var b=Kc(y(),"lssv");return new Rid(a.Xa,a.O,0,a.xcb.bind(a),b,!0,new nhd)}function Kbh(a){if(a.D)return a.D;a.D=Lbh(a);return a.D.vh(function(b){a.Zia();throw b;})}
function Mbh(a){return Kbh(a).then(function(b){return(new Wp(function(c,d){VNa(b.C.J,c,d)})).then(function(c){return Nbh(a,c)?new Hbh(b,c[0]):null})})}
function Obh(a){return Kbh(a).then(function(b){return(new Wp(function(c,d){VNa(b.C.J,c,d)})).then(function(c){if(!Nbh(a,c))throw c={usersLength:c.length,allowNonOfflineEnabledUser:a.H,storedUserMatchesFlag:0==c.length?"no users":c[0].getId()==Mc(y(),"docs-offline-lsuid")},pl(Error("Failed to read LocalStore due to invalid user"),c);return new Hbh(b,c[0])})})}function Nbh(a,b){return 1==b.length&&(a.H||b[0].getId()==Mc(y(),"docs-offline-lsuid"))}m=Ibh.prototype;m.get=function(){return Obh(this).then(function(a){return a.C})};
function Lbh(a){return(new Wp(function(b,c){a.C.create(a.Zia.bind(a)).xe(b,c)})).then(a.tAb.bind(a))}m.tAb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.J){var c=new Khd(a,this.J);this.qa(c)}qya(a);to(this.F,a.C.C.D,function(){b.Zia()});to(this.F,a.C.ma,function(){b.Zia()});return a};m.Zia=function(){Mf(this.C);this.C=Jbh(this);this.D=null};m.xcb=function(a){return sgd(this.L,a)};m.Ja=function(){Mf(this.C);A.prototype.Ja.call(this)};function Pbh(a,b,c){this.D=a;this.C=c||null};function Qbh(a,b){this.C=a;this.Xa=b}Qbh.prototype.get=function(){var a=this;return Mbh(this.C).then(function(b){return b?new Pbh(1,b.XC.getId(),Oxa(b.XC),Rbh(a)):Kbh(a.C).then(function(c){return(new Wp(function(d,e){VNa(c.C.J,d,e)})).then(function(d){if(d.length)if(1==d.length)d=d[0],d=new Pbh(4,d.getId(),Oxa(d));else throw Error("More than one user in store: "+d.length);else d=$Ma()?new Pbh(2):vlb()?new Pbh(5):new Pbh(3);return d})})})};
function Rbh(a){a=new dCb(a.Xa);var b=y(),c=[];z(b,"docs-offline-esmst")&&c.push(new tF("metadata-sync",0,!0,new sF(1,Lq(),"metadata",3E5,!0,!0,!0)));z(b,"docs-offline-esbst")&&c.push(new tF("service-worker-update",0,!0,new sF(2,YJa(),"service_worker_update",3E5,!0,!1,!1)),bCb());z(b,"docs-offline-edswut")&&c.push(new tF("drive-service-worker",0,!0,new sF(2,u$g("/drive/serviceworker/update"),"drive_service_worker_update",3E5,!0,!0,!0)));z(b,"docs-offline-eshcst")&&c.push(new tF("homescreen-cello-sync",
Kc(y(),"docs-offline-scstpim"),!0,new sF(2,$Ja(ZJa(),"/document/backgroundsync"),"homescreen_cello_sync",3E5,!0,!0,!0)));z(b,"docs-offline-esdcst")&&c.push(new tF("drive-cello-sync",Kc(y(),"docs-offline-scstpim"),!0,new sF(2,u$g("/drive/_/dataservice/backgroundsync"),"drive_cello_sync",3E5,!0,!0,!0)));z(b,"docs-offline-eslcst")&&c.push(new tF("local-changes-sync",0,!1,new sF(1,Lq(),"local_changes_sync",3E5,!0,!0,!1)));z(b,"docs-offline-esast")&&0<Kc(b,"docs-offline-sastpim")&&c.push(new tF("auto-sync",
Kc(y(),"docs-offline-sastpim"),!1,new sF(1,Lq(),"auto_sync",3E5,!0,!0,!0)));z(b,"docs-offline-eswst")&&c.push(new tF("webfonts-sync",0,!0,new sF(1,Lq(),"webfonts_sync",3E5,!0,!0,!0)));z(b,"docs-offline-esist")&&c.push(new tF("impression-sync",0,!1,new sF(1,Lq(),"impressionSync",3E5,!0,!0,!1)));z(b,"docs-offline-esddt")&&c.push(new tF("document-deletion",0,!1,new sF(1,Lq(),"doc_deletion",3E5,!1,!1,!1)));z(b,"docs-offline-esuuct")&&c.push(new tF("update-unsaved-changes",0,!1,new sF(2,YJa(),"update_unsaved_changes",
3E5,!1,!1,!1)));z(b,"docs-offline-esct")&&c.push(new tF("cleanup-task",0,!1,new sF(2,YJa(),"cleanup",3E5,!1,!1,!1)));z(b,"docs-offline-esrt")&&c.push(new tF("report-task",0,!1,new sF(2,YJa(),"report",3E5,!1,!1,!1)));if(z(b,"docs-offline-eskst")){var d=Nc(b,"docs-offline-rte");ad(d,"kix")&&c.push(new tF("kix-snapshot",0,!1,new sF(1,$Ja(ZJa(),"/document/snapshot.js"),"kix_snapshot",3E5,!1,!1,!1)))}z(b,"docs-offline-esost")&&c.push(new tF("sync-objects-sync",0,!0,new sF(1,Lq(),"sync_objects_sync",3E5,
!0,!0,!0)));b=[];for(d=0;d<c.length;d++){var e=c[d];e.C&&b.push(e)}for(c=0;c<b.length;c++)if(d=eCb(a,b[c].getId()),!d||!Gj(d,5,!1))return!1;return!0};function Sbh(a,b){this.L=a;this.J=b}function Tbh(a){return Ubh(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){return y$g(new o5,1)},a.H.bind(a))}Sbh.prototype.H=function(a){if(a instanceof o5)return a;if(a instanceof Error)throw a;throw Error(a);};
function Ubh(a){var b=new o5;return a.L.get().then(function(c){var d=c.D;switch(d){case 3:case 2:return Xp();case 4:return y$g(b,3),L(b,2,c.C),Yp(b);case 1:return y$g(b,2),Yp(b);case 5:return y$g(b,4),Yp(b);default:throw Error("Unexpected enabled state: "+d);}})}Sbh.prototype.D=function(){var a=this;return(new Wp(function(b,c){Ngd(a.J,b,c)})).then(function(b){if(b)return Xp();b=y$g(new o5,5);return Yp(b)})};Sbh.prototype.C=function(){if(ir())return Xp();var a=y$g(new o5,6);return Yp(a)};
Sbh.prototype.F=function(){var a=Kc(y(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Wp(function(b,c){EIb().then(function(d){d=d.C;if(d>a)b();else{var e=y$g(new o5,7);e=L(e,3,a);d=L(e,4,d);c(d)}},c)})};function Vbh(a){J(this,a,0,-1,null,null)}v(Vbh,I);Vbh.prototype.ea=function(){return Y(new E)};var Wbh=new xj(140441684,Vbh);zF[140441684]=new yj(Wbh,ba(),function(a,b){for(;ij(b)&&!hj(b);)jj(b);return a});yF[140441684]=Wbh;function Xbh(a){Qo.call(this);this.cb=a||Uo();this.Ma=new Ro(this);this.qa(this.Ma);this.C=new tz(a);this.C.wr(!1);uz(this.C,!1);this.C.Jc("docs-offline-optinpromo");this.C.render();a=this.C.Ka();Bp(a,!0);Sx(a,"dialog");Ux(a,"labelledby","docs-offline-optinpromo-title");Ux(a,"describedby","docs-offline-optinpromo-description");this.qa(this.C);this.L=new PA(null);this.qa(this.L);this.J=new PA(null);this.qa(this.J);this.H=new PA(null);this.qa(this.H);this.O=this.F=this.D=null;Ybh(this,Zbh)}t(Xbh,Qo);
function Ybh(a,b){var c=Sy(b);a.C.setContent(c);switch(b){case Zbh:a.Ma.listen(a.C,"show",a.IEb);b=a.cb.getElement("docs-offline-optinpromo-optin");a.L.Wa(b);a.Ma.Qc(a.L,"action",u(a.qDb,a));b=a.cb.getElement("docs-offline-optinpromo-decline");a.J.Wa(b);a.Ma.Qc(a.J,"action",u(a.$tb,a));a.D=a.cb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.cb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.cb.getElement("docs-offline-optinpromo-learn-more-container");a.Ma.listen(a.D,"click",
u(a.W0a,a,!0)).listen(a.F,"click",u(a.W0a,a,!1));break;case $bh:b=a.cb.getElement("docs-offline-optinpromo-confirm-close");a.H.Wa(b);a.Ma.Qc(a.H,"action",u(a.show,a,!1));a.C.Ka().focus();break;default:throw Error("Cannot handle state "+b);}a.cb.getElement("docs-offline-optinpromo-title");a.cb.getElement("docs-offline-optinpromo-description")}m=Xbh.prototype;m.W0a=function(a){P(this.D,!a);P(this.F,a);P(this.O,a);(a?this.F:this.D).focus();return!1};m.qDb=function(){this.dispatchEvent(new Do("Hi"))};
m.$tb=function(){this.dispatchEvent(new Do("Ii"))};m.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new Do("Ji"))};m.IEb=function(){this.C.Ka().focus();this.dispatchEvent(new Do("Gi"))};
function Zbh(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">Work offline and don\'t miss a beat</span></div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn more</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br><div class="docs-offline-optinpromo-buttons">'+R(OA({id:"docs-offline-optinpromo-optin",
content:"Turn on offline access",style:2},b));a+=R(OA({id:"docs-offline-optinpromo-decline",content:"No thanks",style:0},b));return T(a+"</div></div>")}
function $bh(a,b,c){a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">You\'re all set</span></div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline.</div><div class="docs-offline-optinpromo-buttons docs-offline-optinpromo-confirm-buttons">'+R(OA({id:"docs-offline-optinpromo-confirm-close",content:"Close"},c||b));return T(a+"</div></div>")};function ach(a){this.C=a}function bch(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Ma()});a.C.setItem("optInLog",Im(c))}function cch(){var a=oa.localStorage;if(!a)throw Error("Local storage not available");return new ach(a)};function dch(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function ech(a){return Kbh(a.H).then(function(b){return fch(b).then(function(){var c=Lgd();if(!c)throw Error("Missing user info for enabling offline in flags.");return gch(a,b,c)})}).then(function(b){return hch(a,b)})}function fch(a){return(new Wp(function(b,c){VNa(a.C.J,b,c)})).then(function(b){if(b&&b.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function gch(a,b,c){var d=new Mxa(K(c,1),!0);Nxa(d,K(c,2));Pxa(d,K(c,3));Qxa(d,!!Cj(c,4));Rxa(d,!!Cj(c,6));Cg(d,"optInReasons",a.C);return(new Wp(function(e,f){b.write([d],e,f)})).then(function(){return d})}
function hch(a,b){bch(cch(),Oxa(b)||"");oa.localStorage&&(oa.localStorage.removeItem("docs-uoo"),oa.localStorage.setItem("docs-oiouid",b.getId()));b=new xF;var c=new W$g;b.aM(X$g,c);yhd(a.F,b);b=new YQ;var d=new Mgd(b);return Yfd(b).then(function(){return new Wp(function(e,f){Ngd(d,e,f)})}).then(function(e){var f=Ogd(),h=new nk;a.C[0]&&L(h,1,MNa(a.C[0]));L(h,10,e);L(h,11,f);e=a.D.Iw(81E3,0);f=wF(e);Oj(f,34,h);a.D.$t(e)})};function ich(){var a=y(),b=z(a,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0,c=!(Ca(oa)&&oa.window==oa)||!oa.document||!oa.document.documentElement,d=Mc(a,"docs-offline-ue");if(z(a,"docs-eea"))return new dW(306,function(){return d?JPe([{key:"e",value:d}]):null},null,KPe,b,c,!0);a=Mc(a,"gaia_session_id");return new dW(306,JPe,a||null,KPe,b,c,!0)};function jch(a){this.D=a}jch.prototype.C=function(a,b,c){Mbh(this.D).then(function(d){d?(new jjf(d.C,"offline",null)).C(a,b,c):b()})};function kch(){this.C=this.bh=null}function lch(a){switch(a){case "scary":return 3;case "canary":return 2;case "prod":return 1;default:return 0}};function mch(a,b,c,d,e,f){A.call(this);this.cb=f||Uo();this.D=a;this.Xa=b;this.Ya=c;this.eb=d;a=new tCb;this.qa(a);this.F=new xhd(a,Qgd());this.qa(this.F);this.Ia=new bR(this.F,Qgd(),this);this.qa(this.Ia);this.Ca=new bR(this.F,null,this);this.qa(this.Ca);this.L=new Ibh(this.Xa,this.F,"OfflinePromoControllerLockSessionId");this.qa(this.L);a=new Qbh(this.L,this.Xa);b=new YQ;this.Ta=new Sbh(a,new Mgd(b));a=new kch;a.C=this.L;if(a.C)c=new jch(a.C);else if(a.bh)c=new jjf(a.bh,"offline",null);else throw Error("Must set either a LocalStore or LocalStoreSupplier");
a=new jCb;b=Jed();f=c;c=ich();d=new ljf(c);f=Qlb()?f:new rjf;d=new pjf(d,null,f);c=new kjf(c);c=fSe(eSe(new dSe,d),c);c.R=!0;a=jSe(gSe(iSe(hSe(c,b),84),a));b=(new ojf(!1)).get();c=y();d=Mc(c,"jobset");L(b,9,lch(d));d=mMe(a.YB());d.H=b;nMe(d,Mc(c,"buildLabel"));this.Oa=a;this.Oa.mE();this.Qa=Kjd(this.cb);this.C=null;this.Ma=new Ro(this);this.qa(this.Ma);this.O=new so;this.qa(this.O);this.R=new Mq(this.Txb,6E4,this);this.qa(this.R);this.xa=!1;this.V=this.H=null;this.Ea=$A.getInstance();this.J=this.Pa=
!1;this.ma=Rlb()&&Mx("56.0.2924.87");this.La=!1;this.$a=e}t(mch,A);m=mch.prototype;m.init=function(){var a=this;ir()&&(nch(this),och(this),s5(this).then(function(){pch(a)},function(b){jq(a.Xa,ol(b))}))};function pch(a){a.F.connect();to(a.O,a.D.UK(),function(){a.R.start();s5(a)});to(a.O,a.D.CQ(),function(){a.R.stop();nch(a);och(a);s5(a)});to(a.O,a.Qa.eH(),function(){qch(a)});a.Ia.listen(X$g,a.XTb);a.Ca.listen(X$g,a.WTb).listen(Wbh,a.Epb)}
function s5(a){return Tbh(a.Ta).then(function(b){var c=1==b.D(),d=a.D.En(),e;if(!(e=a.J)&&(e=!$Ma())){try{var f=!!oa.localStorage.getItem("docs-urop")}catch(l){f=!0}e=!f}f=e;var h=y();e=!!Mc(h,"promo_id_for_preference");h=z(h,"promo_is_contextual");e=!e||h;if((c=c&&a.ma&&f)&&!(c=!d)){try{var k=!!oa.localStorage.getItem("docs-wownoi")}catch(l){k=!1}c=k&&e}k=c;a.Pa||(k?a.C||(a.C=new Xbh(a.cb),a.qa(a.C),a.Ma.listen(a.C,"Hi",a.rDb).listen(a.C,"Ii",a.nDb).listen(a.C,"Ji",a.Ndb),a.C.show(!0),qch(a)):a.C&&
a.C.show(!1));if(a.eb)if(2==b.D()||d||k)rch(a);else if(a.V&&!Tj(b,a.V)&&rch(a),null==a.H){d=sch(b);if(!a.La)switch(b.D()){case 1:break;case 3:tch(a,"Offline ineligible, other user enabled");break;case 7:tch(a,"Offline ineligible, insufficient disk space");break;case 5:tch(a,"Offline ineligible, policy disallows");break;case 6:tch(a,"Offline ineligible, no extension");break;case 4:tch(a,"Offline ineligible, invalid db state");break;default:tch(a,"Offline ineligible, unknown reason")}b=1==b.D()&&a.ma?
cB(d,"Turn on",a.dFb.bind(a),"info",!1):bB(d,"info",!1);a.H=a.Ea.postMessage(b)}})}m.Txb=function(){ulb()||B$g(!0)};
m.sDb=function(){if(this.D.En()){var a=Mc(y(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit <a href=\"//"+(U(a)+'">'+(R(a)+('</a> to create and edit without interruption. <a href="'+(U(Ix("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=T(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=i$a("Your documents are syncing",Ax(b),void 0,this,
"Got it","docs-offline-welcomepromo",this.cb);fy(b.Pq(),"docs-offline-welcomepromo-bg");this.qa(b);this.C&&this.C.show(!1)}else this.Pa=!0,Ybh(this.C,$bh);s5(this)};m.XTb=function(){s5(this)};m.WTb=function(){s5(this)};m.Epb=function(){this.J=!1;s5(this)};m.pDb=function(a){jq(this.Xa,a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=lC(this.$a,"Turning on offline access failed. Please try again later.",this.cb);a.D=!0;a.render();a.setVisible(!0);this.qa(a)};
m.rDb=function(){uch(this,2054,this.D.En());B$g(!1);ech(new dch(this.L,this.F,this.Oa)).then(u(this.sDb,this),u(this.pDb,this))};m.nDb=function(){this.D.En()?uch(this,2055,!0):D$g(!0);B$g(!1);oa.localStorage.setItem("docs-urop","true");this.J=!1;s5(this);var a=new xF,b=new Vbh;a.aM(Wbh,b);yhd(this.F,a)};
function sch(a){switch(a.D()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.O()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function tch(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";Gk(a.Xa,Error("Offline editing disabled: "+b),c);a.La=!0}function rch(a){null!=a.H&&(aB(a.Ea,a.H),a.H=null,a.V=null)}m.dFb=function(){this.J=!0;s5(this)};m.Ndb=function(){Mf(this.C);this.C=null};function qch(a){!a.xa&&a.C&&"hidden"!=a.Qa.getState()&&(a.D.En()?uch(a,2847,!0):C$g(!0),a.xa=!0)}
function nch(a){try{var b=!!oa.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.En()&&(C$g(!1),uch(a,2847,!1))}function och(a){try{var b=!!oa.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.En()&&(D$g(!1),uch(a,2055,!1))}function uch(a,b,c){var d=new pk;c=L(d,2,c);c=Dz(yz(nab(new xz,c),43));a.Ya.C(b,c)};function vch(a,b,c,d){A.call(this);this.C=a;this.Oa=c;this.L=d;this.D=new so;this.qa(this.D);this.Ca=new bR(b,Qgd(),this);this.qa(this.Ca);this.F=Kjd();this.qa(this.F);this.O=!1;z(y(),"docs-offline-eeooip");this.Ia=new YQ;this.ma=null;this.xa=this.R=this.V=!1;this.J=new Mq(this.Ea,Math.floor(27E4*Math.random())+3E4,this);this.qa(this.J);this.H=[]}t(vch,A);
vch.prototype.init=function(){var a=this;this.Ca.listen(X$g,this.La);this.ma=ir();to(this.D,this.F.eH(),function(){return wch(a)});this.H.push(new xch("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss",this.L));this.H.push(new xch("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss",this.L))};
function ych(a){a.xa||(to(a.D,a.C.UK(),function(){return zch(a)}),to(a.D,a.C.CQ(),function(){return zch(a)}),a.xa=!0)}vch.prototype.La=function(){this.O||(this.O=!0,ych(this),"visible"==this.F.getState()||this.J.Vb()||this.J.start(),zch(this))};function zch(a){var b=!1;a.H.forEach(function(c){var d;if(d=!b){d=!1;switch(c.O){case "reload-after-opt-in":d=a.O&&a.C.En();break;case "reload-after-extension-installation":d=a.V&&a.C.En()}d=d&&!c.F}d?(Ach(c),b=!0):null!=c.C&&(aB(c.H,c.C),c.C=null)})}
vch.prototype.Ea=function(){this.R||!this.C.En()||po(this.Oa.YY(),64)||rF(this.L)};function wch(a){var b="visible"==a.F.getState();a.R||(a.R=b&&a.H.some(function(c){return null!=c.C}));b&&0==a.ma&&!a.V&&Bch(a).then(function(c){c&&(a.V=!0,ych(a),zch(a))})}function Bch(a){return bgd(a.Ia).then(function(){return ir()})}
function xch(a,b,c,d){A.call(this);var e=this;this.O=a;this.L=b;this.J=d;this.F=!1;this.C=null;this.H=$A.getInstance();this.D=new Pw(c);this.qa(this.D);this.D.setProperty("label","Dismiss");this.D.Na(!0);this.D.Pb(rt,function(){e.F=!0})}t(xch,A);function Ach(a){null==a.C&&(a.C=a.H.postMessage(cB(a.L,"Reload",function(){rF(a.J)},"info",!0,void 0,a.D)))};function Cch(a,b,c,d,e){A.call(this);this.J=a;this.D=a.D;this.L=b;this.H=c;this.F=d;this.Xa=e;this.Ma=new Ro(this);this.qa(this.Ma);this.C=null}t(Cch,A);function Dch(a){if(a.C)throw Error("Attempted to show the offline opt in dialog while one is already visible.");return a.D.F()?G$g(a.H).then(function(b){return b?Ech(a):4}).catch(function(b){jq(a.Xa,ol(b));return 2}):Promise.resolve(2)}
function Ech(a){return new Promise(function(b,c){a.C=new Iah(function(){Fch(a).then(b,c)},function(){return b(3)});a.F.Bi(a.C);a.Ma.listen(a.C,"hide",function(){a.C=null});a.C.setVisible(!0)})}function Fch(a){return 1==a.D.C?Promise.resolve(1):Promise.resolve(jah(a.J,a.L)).then(function(){return 1==a.D.C?1:2})}Cch.prototype.Ja=function(){this.C&&($B(this.F,this.C),Mf(this.C));A.prototype.Ja.call(this)};function Gch(a,b,c,d){A.call(this);var e=this;this.D=c;this.H=a.D;this.O=!1;this.C=lC(this.D,"Offline enabled",void 0,!1,3E3,!1,void 0,!0);this.F=lC(this.D,"Could not enable offline access",void 0,!1,3E3,!1,void 0,!0);c=new F$g(b,d);this.qa(c);this.J=new Cch(a,11,c,b,d);this.qa(this.J);this.H.L().then(function(){e.O=!0;(Ut(),lZa).Na(!0);lZa.subscribe("action",e.L,e)},function(f){jq(d,ol(f))})}t(Gch,A);
Gch.prototype.L=function(){var a=this;1==this.H.C?Hch(this,this.C):Dch(this.J).then(function(b){1==b?Hch(a,a.C):2==b&&Hch(a,a.F)})};function Hch(a,b){b.isVisible()||(a.C.setVisible(!1),a.F.setVisible(!1),b.sb()||b.render(),b.setVisible(!0))}Gch.prototype.Ja=function(){(Ut(),lZa).unsubscribe("action",this.L,this);A.prototype.Ja.call(this);nC(this.D,this.C);nC(this.D,this.F);Nf(this.C,this.F)};function Ich(a,b,c,d,e,f,h,k,l,n,q,r){A.call(this);var w=this,x=y();this.F=Mc(x,"docs-offline-lsuid");this.H=new tCb;this.C=new xhd(this.H,Qgd());this.qa(this.C);this.C.connect();this.Xa=b;f=new vch(a,this.C,e.C,f);this.qa(f);f.init();z(x,"docs-offline-eeooip")&&(c=new mch(a,b,c,d,l,r),this.qa(c),c.init());this.D=new z$g;this.qa(this.D);c=XJa("/iframeapi");c=new Dbh(this.F,c,1,Jch());this.qa(c);x=z(x,"docs-sw-eswhfe");b=new bah(c,this.D,this.F,!1,!0,!1,a,b,!1,x);this.qa(b);b.start().vh(function(F){w.Xa.log(ol(F))});
q.resolve(b);q=new uah(e.D,c,this.C,this.Xa);this.qa(q);q.start();a=new Jah(e,h,c,q,this.D,k,b,this.Xa,l,a,n);this.qa(a);a.init();z(y(),"docs-eoofsi")&&(k=new Gch(b,k,l,this.Xa),this.qa(k))}t(Ich,A);function Jch(){switch(Mc(y(),"docs-dt")){case "kix":return 5;case "ritz":return 6;case "punch":return 7;case "drawing":return 8}throw Error("Unable to map document type to source application.");};function Kch(){FJ.apply(this,arguments)}t(Kch,FJ);Kch.prototype.C=function(a,b,c,d,e,f,h,k,l,n,q){return new Ich(a,b,c,!0,d,e,f,h,k,l,n,q)};KJ("offline",Kch);
